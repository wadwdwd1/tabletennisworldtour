(window._gsQueue || (window._gsQueue = [])).push((function() {
        "use strict";
        var t, e, a, i, s, o, r, n, h, l, u, m, d, c, g, p;
        window._gsDefine("TweenMax", ["core.Animation", "core.SimpleTimeline", "TweenLite"], (function(t, e, a) {
                var i = [].slice,
                    s = function(t, e, i) {
                        a.call(this, t, e, i), this._cycle = 0, this._yoyo = !0 === this.vars.yoyo, this._repeat = this.vars.repeat || 0, this._repeatDelay = this.vars.repeatDelay || 0, this._dirty = !0, this.render = s.prototype.render
                    },
                    o = function(t) {
                        return t.jquery || t.length && t !== window && t[0] && (t[0] === window || t[0].nodeType && t[0].style && !t.nodeType)
                    },
                    r = s.prototype = a.to({}, .1, {}),
                    n = [];
                s.version = "1.10.2", r.constructor = s, r.kill()._gc = !1, s.killTweensOf = s.killDelayedCallsTo = a.killTweensOf, s.getTweensOf = a.getTweensOf, s.ticker = a.ticker, r.invalidate = function() {
                    return this._yoyo = !0 === this.vars.yoyo, this._repeat = this.vars.repeat || 0, this._repeatDelay = this.vars.repeatDelay || 0, this._uncache(!0), a.prototype.invalidate.call(this)
                }, r.updateTo = function(t, e) {
                    var i, s = this.ratio;
                    for (i in e && this.timeline && this._startTime < this._timeline._time && (this._startTime = this._timeline._time, this._uncache(!1), this._gc ? this._enabled(!0, !1) : this._timeline.insert(this, this._startTime - this._delay)), t) this.vars[i] = t[i];
                    if (this._initted)
                        if (e) this._initted = !1;
                        else if (this._notifyPluginsOfEnabled && this._firstPT && a._onPluginEvent("_onDisable", this), this._time / this._duration > .998) {
                        var o = this._time;
                        this.render(0, !0, !1), this._initted = !1, this.render(o, !0, !1)
                    } else if (this._time > 0) {
                        this._initted = !1, this._init();
                        for (var r, n = 1 / (1 - s), h = this._firstPT; h;) r = h.s + h.c, h.c *= n, h.s = r - h.c, h = h._next
                    }
                    return this
                }, r.render = function(t, e, a) {
                    var i, s, o, r, h, l, u, m = this._dirty ? this.totalDuration() : this._totalDuration,
                        d = this._time,
                        c = this._totalTime,
                        g = this._cycle;
                    if (t >= m ? (this._totalTime = m, this._cycle = this._repeat, this._yoyo && 0 != (1 & this._cycle) ? (this._time = 0, this.ratio = this._ease._calcEnd ? this._ease.getRatio(0) : 0) : (this._time = this._duration, this.ratio = this._ease._calcEnd ? this._ease.getRatio(1) : 1), this._reversed || (i = !0, s = "onComplete"), 0 === this._duration && ((0 === t || 0 > this._rawPrevTime) && this._rawPrevTime !== t && (a = !0, this._rawPrevTime > 0 && (s = "onReverseComplete", e && (t = -1))), this._rawPrevTime = t)) : 1e-7 > t ? (this._totalTime = this._time = this._cycle = 0, this.ratio = this._ease._calcEnd ? this._ease.getRatio(0) : 0, (0 !== c || 0 === this._duration && this._rawPrevTime > 0) && (s = "onReverseComplete", i = this._reversed), 0 > t ? (this._active = !1, 0 === this._duration && (this._rawPrevTime >= 0 && (a = !0), this._rawPrevTime = t)) : this._initted || (a = !0)) : (this._totalTime = this._time = t, 0 !== this._repeat && (r = this._duration + this._repeatDelay, this._cycle = this._totalTime / r >> 0, 0 !== this._cycle && this._cycle === this._totalTime / r && this._cycle--, this._time = this._totalTime - this._cycle * r, this._yoyo && 0 != (1 & this._cycle) && (this._time = this._duration - this._time), this._time > this._duration ? this._time = this._duration : 0 > this._time && (this._time = 0)), this._easeType ? (h = this._time / this._duration, (1 === (l = this._easeType) || 3 === l && h >= .5) && (h = 1 - h), 3 === l && (h *= 2), 1 === (u = this._easePower) ? h *= h : 2 === u ? h *= h * h : 3 === u ? h *= h * h * h : 4 === u && (h *= h * h * h * h), this.ratio = 1 === l ? 1 - h : 2 === l ? h : .5 > this._time / this._duration ? h / 2 : 1 - h / 2) : this.ratio = this._ease.getRatio(this._time / this._duration)), d !== this._time || a) {
                        if (!this._initted) {
                            if (this._init(), !this._initted) return;
                            this._time && !i ? this.ratio = this._ease.getRatio(this._time / this._duration) : i && this._ease._calcEnd && (this.ratio = this._ease.getRatio(0 === this._time ? 0 : 1))
                        }
                        for (this._active || !this._paused && this._time !== d && t >= 0 && (this._active = !0), 0 === c && (this._startAt && (t >= 0 ? this._startAt.render(t, e, a) : s || (s = "_dummyGS")), this.vars.onStart && (0 !== this._totalTime || 0 === this._duration) && (e || this.vars.onStart.apply(this.vars.onStartScope || this, this.vars.onStartParams || n))), o = this._firstPT; o;) o.f ? o.t[o.p](o.c * this.ratio + o.s) : o.t[o.p] = o.c * this.ratio + o.s, o = o._next;
                        this._onUpdate && (0 > t && this._startAt && this._startAt.render(t, e, a), e || this._onUpdate.apply(this.vars.onUpdateScope || this, this.vars.onUpdateParams || n)), this._cycle !== g && (e || this._gc || this.vars.onRepeat && this.vars.onRepeat.apply(this.vars.onRepeatScope || this, this.vars.onRepeatParams || n)), s && (this._gc || (0 > t && this._startAt && !this._onUpdate && this._startAt.render(t, e, a), i && (this._timeline.autoRemoveChildren && this._enabled(!1, !1), this._active = !1), !e && this.vars[s] && this.vars[s].apply(this.vars[s + "Scope"] || this, this.vars[s + "Params"] || n)))
                    } else c !== this._totalTime && this._onUpdate && (e || this._onUpdate.apply(this.vars.onUpdateScope || this, this.vars.onUpdateParams || n))
                }, s.to = function(t, e, a) {
                    return new s(t, e, a)
                }, s.from = function(t, e, a) {
                    return a.runBackwards = !0, a.immediateRender = 0 != a.immediateRender, new s(t, e, a)
                }, s.fromTo = function(t, e, a, i) {
                    return i.startAt = a, i.immediateRender = 0 != i.immediateRender && 0 != a.immediateRender, new s(t, e, i)
                }, s.staggerTo = s.allTo = function(t, e, r, h, l, u, m) {
                    h = h || 0;
                    var d, c, g, p, f = r.delay || 0,
                        _ = [],
                        I = function() {
                            r.onComplete && r.onComplete.apply(r.onCompleteScope || this, arguments), l.apply(m || this, u || n)
                        };
                    for (t instanceof Array || ("string" == typeof t && (t = a.selector(t) || t), o(t) && (t = i.call(t, 0))), d = t.length, g = 0; d > g; g++) {
                        for (p in c = {}, r) c[p] = r[p];
                        c.delay = f, g === d - 1 && l && (c.onComplete = I), _[g] = new s(t[g], e, c), f += h
                    }
                    return _
                }, s.staggerFrom = s.allFrom = function(t, e, a, i, o, r, n) {
                    return a.runBackwards = !0, a.immediateRender = 0 != a.immediateRender, s.staggerTo(t, e, a, i, o, r, n)
                }, s.staggerFromTo = s.allFromTo = function(t, e, a, i, o, r, n, h) {
                    return i.startAt = a, i.immediateRender = 0 != i.immediateRender && 0 != a.immediateRender, s.staggerTo(t, e, i, o, r, n, h)
                }, s.delayedCall = function(t, e, a, i, o) {
                    return new s(e, 0, {
                        delay: t,
                        onComplete: e,
                        onCompleteParams: a,
                        onCompleteScope: i,
                        onReverseComplete: e,
                        onReverseCompleteParams: a,
                        onReverseCompleteScope: i,
                        immediateRender: !1,
                        useFrames: o,
                        overwrite: 0
                    })
                }, s.set = function(t, e) {
                    return new s(t, 0, e)
                }, s.isTweening = function(t) {
                    for (var e, i = a.getTweensOf(t), s = i.length; --s > -1;)
                        if ((e = i[s])._active || e._startTime === e._timeline._time && e._timeline._active) return !0;
                    return !1
                };
                var h = function(t, e) {
                        for (var i = [], s = 0, o = t._first; o;) o instanceof a ? i[s++] = o : (e && (i[s++] = o), s = (i = i.concat(h(o, e))).length), o = o._next;
                        return i
                    },
                    l = s.getAllTweens = function(e) {
                        return h(t._rootTimeline, e).concat(h(t._rootFramesTimeline, e))
                    };
                s.killAll = function(t, a, i, s) {
                    null == a && (a = !0), null == i && (i = !0);
                    var o, r, n, h = l(0 != s),
                        u = h.length,
                        m = a && i && s;
                    for (n = 0; u > n; n++) r = h[n], (m || r instanceof e || (o = r.target === r.vars.onComplete) && i || a && !o) && (t ? r.totalTime(r.totalDuration()) : r._enabled(!1, !1))
                }, s.killChildTweensOf = function(t, e) {
                    if (null != t) {
                        var r, n, h, l, u, m = a._tweenLookup;
                        if ("string" == typeof t && (t = a.selector(t) || t), o(t) && (t = i(t, 0)), t instanceof Array)
                            for (l = t.length; --l > -1;) s.killChildTweensOf(t[l], e);
                        else {
                            for (h in r = [], m)
                                for (n = m[h].target.parentNode; n;) n === t && (r = r.concat(m[h].tweens)), n = n.parentNode;
                            for (u = r.length, l = 0; u > l; l++) e && r[l].totalTime(r[l].totalDuration()), r[l]._enabled(!1, !1)
                        }
                    }
                };
                var u = function(t, a, i, s) {
                    a = !1 !== a, i = !1 !== i;
                    for (var o, r, n = l(s = !1 !== s), h = a && i && s, u = n.length; --u > -1;) r = n[u], (h || r instanceof e || (o = r.target === r.vars.onComplete) && i || a && !o) && r.paused(t)
                };
                return s.pauseAll = function(t, e, a) {
                    u(!0, t, e, a)
                }, s.resumeAll = function(t, e, a) {
                    u(!1, t, e, a)
                }, s.globalTimeScale = function(e) {
                    var i = t._rootTimeline,
                        s = a.ticker.time;
                    return arguments.length ? (e = e || 1e-6, i._startTime = s - (s - i._startTime) * i._timeScale / e, i = t._rootFramesTimeline, s = a.ticker.frame, i._startTime = s - (s - i._startTime) * i._timeScale / e, i._timeScale = t._rootTimeline._timeScale = e, e) : i._timeScale
                }, r.progress = function(t) {
                    return arguments.length ? this.totalTime(this.duration() * (this._yoyo && 0 != (1 & this._cycle) ? 1 - t : t) + this._cycle * (this._duration + this._repeatDelay), !1) : this._time / this.duration()
                }, r.totalProgress = function(t) {
                    return arguments.length ? this.totalTime(this.totalDuration() * t, !1) : this._totalTime / this.totalDuration()
                }, r.time = function(t, e) {
                    return arguments.length ? (this._dirty && this.totalDuration(), t > this._duration && (t = this._duration), this._yoyo && 0 != (1 & this._cycle) ? t = this._duration - t + this._cycle * (this._duration + this._repeatDelay) : 0 !== this._repeat && (t += this._cycle * (this._duration + this._repeatDelay)), this.totalTime(t, e)) : this._time
                }, r.duration = function(e) {
                    return arguments.length ? t.prototype.duration.call(this, e) : this._duration
                }, r.totalDuration = function(t) {
                    return arguments.length ? -1 === this._repeat ? this : this.duration((t - this._repeat * this._repeatDelay) / (this._repeat + 1)) : (this._dirty && (this._totalDuration = -1 === this._repeat ? 999999999999 : this._duration * (this._repeat + 1) + this._repeatDelay * this._repeat, this._dirty = !1), this._totalDuration)
                }, r.repeat = function(t) {
                    return arguments.length ? (this._repeat = t, this._uncache(!0)) : this._repeat
                }, r.repeatDelay = function(t) {
                    return arguments.length ? (this._repeatDelay = t, this._uncache(!0)) : this._repeatDelay
                }, r.yoyo = function(t) {
                    return arguments.length ? (this._yoyo = t, this) : this._yoyo
                }, s
            }), !0), window._gsDefine("TimelineLite", ["core.Animation", "core.SimpleTimeline", "TweenLite"], (function(t, e, a) {
                var i = function(t) {
                        e.call(this, t), this._labels = {}, this.autoRemoveChildren = !0 === this.vars.autoRemoveChildren, this.smoothChildTiming = !0 === this.vars.smoothChildTiming, this._sortChildren = !0, this._onUpdate = this.vars.onUpdate;
                        var a, i, s = this.vars;
                        for (i in s)(a = s[i]) instanceof Array && -1 !== a.join("").indexOf("{self}") && (s[i] = this._swapSelfInParams(a));
                        s.tweens instanceof Array && this.add(s.tweens, 0, s.align, s.stagger)
                    },
                    s = [],
                    o = function(t) {
                        var e, a = {};
                        for (e in t) a[e] = t[e];
                        return a
                    },
                    r = function(t, e, a, i) {
                        t._timeline.pause(t._startTime), e && e.apply(i || t._timeline, a || s)
                    },
                    n = s.slice,
                    h = i.prototype = new e;
                return i.version = "1.10.2", h.constructor = i, h.kill()._gc = !1, h.to = function(t, e, i, s) {
                    return e ? this.add(new a(t, e, i), s) : this.set(t, i, s)
                }, h.from = function(t, e, i, s) {
                    return this.add(a.from(t, e, i), s)
                }, h.fromTo = function(t, e, i, s, o) {
                    return e ? this.add(a.fromTo(t, e, i, s), o) : this.set(t, s, o)
                }, h.staggerTo = function(t, e, s, r, h, l, u, m) {
                    var d, c = new i({
                        onComplete: l,
                        onCompleteParams: u,
                        onCompleteScope: m
                    });
                    for ("string" == typeof t && (t = a.selector(t) || t), !(t instanceof Array) && t.length && t !== window && t[0] && (t[0] === window || t[0].nodeType && t[0].style && !t.nodeType) && (t = n.call(t, 0)), r = r || 0, d = 0; t.length > d; d++) s.startAt && (s.startAt = o(s.startAt)), c.to(t[d], e, o(s), d * r);
                    return this.add(c, h)
                }, h.staggerFrom = function(t, e, a, i, s, o, r, n) {
                    return a.immediateRender = 0 != a.immediateRender, a.runBackwards = !0, this.staggerTo(t, e, a, i, s, o, r, n)
                }, h.staggerFromTo = function(t, e, a, i, s, o, r, n, h) {
                    return i.startAt = a, i.immediateRender = 0 != i.immediateRender && 0 != a.immediateRender, this.staggerTo(t, e, i, s, o, r, n, h)
                }, h.call = function(t, e, i, s) {
                    return this.add(a.delayedCall(0, t, e, i), s)
                }, h.set = function(t, e, i) {
                    return i = this._parseTimeOrLabel(i, 0, !0), null == e.immediateRender && (e.immediateRender = i === this._time && !this._paused), this.add(new a(t, 0, e), i)
                }, i.exportRoot = function(t, e) {
                    null == (t = t || {}).smoothChildTiming && (t.smoothChildTiming = !0);
                    var s, o, r = new i(t),
                        n = r._timeline;
                    for (null == e && (e = !0), n._remove(r, !0), r._startTime = 0, r._rawPrevTime = r._time = r._totalTime = n._time, s = n._first; s;) o = s._next, e && s instanceof a && s.target === s.vars.onComplete || r.add(s, s._startTime - s._delay), s = o;
                    return n.add(r, 0), r
                }, h.add = function(s, o, r, n) {
                    var h, l, u, m, d;
                    if ("number" != typeof o && (o = this._parseTimeOrLabel(o, 0, !0, s)), !(s instanceof t)) {
                        if (s instanceof Array) {
                            for (r = r || "normal", n = n || 0, h = o, l = s.length, u = 0; l > u; u++)(m = s[u]) instanceof Array && (m = new i({
                                tweens: m
                            })), this.add(m, h), "string" != typeof m && "function" != typeof m && ("sequence" === r ? h = m._startTime + m.totalDuration() / m._timeScale : "start" === r && (m._startTime -= m.delay())), h += n;
                            return this._uncache(!0)
                        }
                        if ("string" == typeof s) return this.addLabel(s, o);
                        if ("function" != typeof s) throw "Cannot add " + s + " into the timeline; it is neither a tween, timeline, function, nor a string.";
                        s = a.delayedCall(0, s)
                    }
                    if (e.prototype.add.call(this, s, o), this._gc && !this._paused && this._time === this._duration && this._time < this.duration())
                        for (d = this; d._gc && d._timeline;) d._timeline.smoothChildTiming ? d.totalTime(d._totalTime, !0) : d._enabled(!0, !1), d = d._timeline;
                    return this
                }, h.remove = function(e) {
                    if (e instanceof t) return this._remove(e, !1);
                    if (e instanceof Array) {
                        for (var a = e.length; --a > -1;) this.remove(e[a]);
                        return this
                    }
                    return "string" == typeof e ? this.removeLabel(e) : this.kill(null, e)
                }, h._remove = function(t, a) {
                    return e.prototype._remove.call(this, t, a), this._last ? this._time > this._last._startTime && (this._time = this.duration(), this._totalTime = this._totalDuration) : this._time = this._totalTime = 0, this
                }, h.append = function(t, e) {
                    return this.add(t, this._parseTimeOrLabel(null, e, !0, t))
                }, h.insert = h.insertMultiple = function(t, e, a, i) {
                    return this.add(t, e || 0, a, i)
                }, h.appendMultiple = function(t, e, a, i) {
                    return this.add(t, this._parseTimeOrLabel(null, e, !0, t), a, i)
                }, h.addLabel = function(t, e) {
                    return this._labels[t] = this._parseTimeOrLabel(e), this
                }, h.addPause = function(t, e, a, i) {
                    return this.call(r, ["{self}", e, a, i], this, t)
                }, h.removeLabel = function(t) {
                    return delete this._labels[t], this
                }, h.getLabelTime = function(t) {
                    return null != this._labels[t] ? this._labels[t] : -1
                }, h._parseTimeOrLabel = function(e, a, i, s) {
                    var o;
                    if (s instanceof t && s.timeline === this) this.remove(s);
                    else if (s instanceof Array)
                        for (o = s.length; --o > -1;) s[o] instanceof t && s[o].timeline === this && this.remove(s[o]);
                    if ("string" == typeof a) return this._parseTimeOrLabel(a, i && "number" == typeof e && null == this._labels[a] ? e - this.duration() : 0, i);
                    if (a = a || 0, "string" != typeof e || !isNaN(e) && null == this._labels[e]) null == e && (e = this.duration());
                    else {
                        if (-1 === (o = e.indexOf("="))) return null == this._labels[e] ? i ? this._labels[e] = this.duration() + a : a : this._labels[e] + a;
                        a = parseInt(e.charAt(o - 1) + "1", 10) * Number(e.substr(o + 1)), e = o > 1 ? this._parseTimeOrLabel(e.substr(0, o - 1), 0, i) : this.duration()
                    }
                    return Number(e) + a
                }, h.seek = function(t, e) {
                    return this.totalTime("number" == typeof t ? t : this._parseTimeOrLabel(t), !1 !== e)
                }, h.stop = function() {
                    return this.paused(!0)
                }, h.gotoAndPlay = function(t, e) {
                    return this.play(t, e)
                }, h.gotoAndStop = function(t, e) {
                    return this.pause(t, e)
                }, h.render = function(t, e, a) {
                    this._gc && this._enabled(!0, !1);
                    var i, o, r, n, h, l = this._dirty ? this.totalDuration() : this._totalDuration,
                        u = this._time,
                        m = this._startTime,
                        d = this._timeScale,
                        c = this._paused;
                    if (t >= l ? (this._totalTime = this._time = l, this._reversed || this._hasPausedChild() || (o = !0, n = "onComplete", 0 === this._duration && (0 === t || 0 > this._rawPrevTime) && this._rawPrevTime !== t && this._first && (h = !0, this._rawPrevTime > 0 && (n = "onReverseComplete"))), this._rawPrevTime = t, t = l + 1e-6) : 1e-7 > t ? (this._totalTime = this._time = 0, (0 !== u || 0 === this._duration && this._rawPrevTime > 0) && (n = "onReverseComplete", o = this._reversed), 0 > t ? (this._active = !1, 0 === this._duration && this._rawPrevTime >= 0 && this._first && (h = !0), this._rawPrevTime = t) : (this._rawPrevTime = t, t = 0, this._initted || (h = !0))) : this._totalTime = this._time = this._rawPrevTime = t, this._time !== u && this._first || a || h) {
                        if (this._initted || (this._initted = !0), this._active || !this._paused && this._time !== u && t > 0 && (this._active = !0), 0 === u && this.vars.onStart && 0 !== this._time && (e || this.vars.onStart.apply(this.vars.onStartScope || this, this.vars.onStartParams || s)), this._time >= u)
                            for (i = this._first; i && (r = i._next, !this._paused || c);)(i._active || i._startTime <= this._time && !i._paused && !i._gc) && (i._reversed ? i.render((i._dirty ? i.totalDuration() : i._totalDuration) - (t - i._startTime) * i._timeScale, e, a) : i.render((t - i._startTime) * i._timeScale, e, a)), i = r;
                        else
                            for (i = this._last; i && (r = i._prev, !this._paused || c);)(i._active || u >= i._startTime && !i._paused && !i._gc) && (i._reversed ? i.render((i._dirty ? i.totalDuration() : i._totalDuration) - (t - i._startTime) * i._timeScale, e, a) : i.render((t - i._startTime) * i._timeScale, e, a)), i = r;
                        this._onUpdate && (e || this._onUpdate.apply(this.vars.onUpdateScope || this, this.vars.onUpdateParams || s)), n && (this._gc || (m === this._startTime || d !== this._timeScale) && (0 === this._time || l >= this.totalDuration()) && (o && (this._timeline.autoRemoveChildren && this._enabled(!1, !1), this._active = !1), !e && this.vars[n] && this.vars[n].apply(this.vars[n + "Scope"] || this, this.vars[n + "Params"] || s)))
                    }
                }, h._hasPausedChild = function() {
                    for (var t = this._first; t;) {
                        if (t._paused || t instanceof i && t._hasPausedChild()) return !0;
                        t = t._next
                    }
                    return !1
                }, h.getChildren = function(t, e, i, s) {
                    s = s || -9999999999;
                    for (var o = [], r = this._first, n = 0; r;) s > r._startTime || (r instanceof a ? !1 !== e && (o[n++] = r) : (!1 !== i && (o[n++] = r), !1 !== t && (n = (o = o.concat(r.getChildren(!0, e, i))).length))), r = r._next;
                    return o
                }, h.getTweensOf = function(t, e) {
                    for (var i = a.getTweensOf(t), s = i.length, o = [], r = 0; --s > -1;)(i[s].timeline === this || e && this._contains(i[s])) && (o[r++] = i[s]);
                    return o
                }, h._contains = function(t) {
                    for (var e = t.timeline; e;) {
                        if (e === this) return !0;
                        e = e.timeline
                    }
                    return !1
                }, h.shiftChildren = function(t, e, a) {
                    a = a || 0;
                    for (var i, s = this._first, o = this._labels; s;) s._startTime >= a && (s._startTime += t), s = s._next;
                    if (e)
                        for (i in o) o[i] >= a && (o[i] += t);
                    return this._uncache(!0)
                }, h._kill = function(t, e) {
                    if (!t && !e) return this._enabled(!1, !1);
                    for (var a = e ? this.getTweensOf(e) : this.getChildren(!0, !0, !1), i = a.length, s = !1; --i > -1;) a[i]._kill(t, e) && (s = !0);
                    return s
                }, h.clear = function(t) {
                    var e = this.getChildren(!1, !0, !0),
                        a = e.length;
                    for (this._time = this._totalTime = 0; --a > -1;) e[a]._enabled(!1, !1);
                    return !1 !== t && (this._labels = {}), this._uncache(!0)
                }, h.invalidate = function() {
                    for (var t = this._first; t;) t.invalidate(), t = t._next;
                    return this
                }, h._enabled = function(t, a) {
                    if (t === this._gc)
                        for (var i = this._first; i;) i._enabled(t, !0), i = i._next;
                    return e.prototype._enabled.call(this, t, a)
                }, h.progress = function(t) {
                    return arguments.length ? this.totalTime(this.duration() * t, !1) : this._time / this.duration()
                }, h.duration = function(t) {
                    return arguments.length ? (0 !== this.duration() && 0 !== t && this.timeScale(this._duration / t), this) : (this._dirty && this.totalDuration(), this._duration)
                }, h.totalDuration = function(t) {
                    if (!arguments.length) {
                        if (this._dirty) {
                            for (var e, a, i = 0, s = this._last, o = 999999999999; s;) e = s._prev, s._dirty && s.totalDuration(), s._startTime > o && this._sortChildren && !s._paused ? this.add(s, s._startTime - s._delay) : o = s._startTime, 0 > s._startTime && !s._paused && (i -= s._startTime, this._timeline.smoothChildTiming && (this._startTime += s._startTime / this._timeScale), this.shiftChildren(-s._startTime, !1, -9999999999), o = 0), (a = s._startTime + s._totalDuration / s._timeScale) > i && (i = a), s = e;
                            this._duration = this._totalDuration = i, this._dirty = !1
                        }
                        return this._totalDuration
                    }
                    return 0 !== this.totalDuration() && 0 !== t && this.timeScale(this._totalDuration / t), this
                }, h.usesFrames = function() {
                    for (var e = this._timeline; e._timeline;) e = e._timeline;
                    return e === t._rootFramesTimeline
                }, h.rawTime = function() {
                    return this._paused || 0 !== this._totalTime && this._totalTime !== this._totalDuration ? this._totalTime : (this._timeline.rawTime() - this._startTime) * this._timeScale
                }, i
            }), !0), window._gsDefine("TimelineMax", ["TimelineLite", "TweenLite", "easing.Ease"], (function(t, e, a) {
                var i = function(e) {
                        t.call(this, e), this._repeat = this.vars.repeat || 0, this._repeatDelay = this.vars.repeatDelay || 0, this._cycle = 0, this._yoyo = !0 === this.vars.yoyo, this._dirty = !0
                    },
                    s = [],
                    o = new a(null, null, 1, 0),
                    r = function(t) {
                        for (; t;) {
                            if (t._paused) return !0;
                            t = t._timeline
                        }
                        return !1
                    },
                    n = i.prototype = new t;
                return n.constructor = i, n.kill()._gc = !1, i.version = "1.10.2", n.invalidate = function() {
                    return this._yoyo = !0 === this.vars.yoyo, this._repeat = this.vars.repeat || 0, this._repeatDelay = this.vars.repeatDelay || 0, this._uncache(!0), t.prototype.invalidate.call(this)
                }, n.addCallback = function(t, a, i, s) {
                    return this.add(e.delayedCall(0, t, i, s), a)
                }, n.removeCallback = function(t, e) {
                    if (t)
                        if (null == e) this._kill(null, t);
                        else
                            for (var a = this.getTweensOf(t, !1), i = a.length, s = this._parseTimeOrLabel(e); --i > -1;) a[i]._startTime === s && a[i]._enabled(!1, !1);
                    return this
                }, n.tweenTo = function(t, a) {
                    a = a || {};
                    var i, r, n = {
                        ease: o,
                        overwrite: 2,
                        useFrames: this.usesFrames(),
                        immediateRender: !1
                    };
                    for (i in a) n[i] = a[i];
                    return n.time = this._parseTimeOrLabel(t), r = new e(this, Math.abs(Number(n.time) - this._time) / this._timeScale || .001, n), n.onStart = function() {
                        r.target.paused(!0), r.vars.time !== r.target.time() && r.duration(Math.abs(r.vars.time - r.target.time()) / r.target._timeScale), a.onStart && a.onStart.apply(a.onStartScope || r, a.onStartParams || s)
                    }, r
                }, n.tweenFromTo = function(t, e, a) {
                    a = a || {}, t = this._parseTimeOrLabel(t), a.startAt = {
                        onComplete: this.seek,
                        onCompleteParams: [t],
                        onCompleteScope: this
                    }, a.immediateRender = !1 !== a.immediateRender;
                    var i = this.tweenTo(e, a);
                    return i.duration(Math.abs(i.vars.time - t) / this._timeScale || .001)
                }, n.render = function(t, e, a) {
                    this._gc && this._enabled(!0, !1);
                    var i, o, r, n, h, l, u = this._dirty ? this.totalDuration() : this._totalDuration,
                        m = this._duration,
                        d = this._time,
                        c = this._totalTime,
                        g = this._startTime,
                        p = this._timeScale,
                        f = this._rawPrevTime,
                        _ = this._paused,
                        I = this._cycle;
                    if (t >= u ? (this._locked || (this._totalTime = u, this._cycle = this._repeat), this._reversed || this._hasPausedChild() || (o = !0, n = "onComplete", 0 === m && (0 === t || 0 > this._rawPrevTime) && this._rawPrevTime !== t && this._first && (h = !0, this._rawPrevTime > 0 && (n = "onReverseComplete"))), this._rawPrevTime = t, this._yoyo && 0 != (1 & this._cycle) ? this._time = t = 0 : (this._time = m, t = m + 1e-6)) : 1e-7 > t ? (this._locked || (this._totalTime = this._cycle = 0), this._time = 0, (0 !== d || 0 === m && this._rawPrevTime > 0 && !this._locked) && (n = "onReverseComplete", o = this._reversed), 0 > t ? (this._active = !1, 0 === m && this._rawPrevTime >= 0 && this._first && (h = !0), this._rawPrevTime = t) : (this._rawPrevTime = t, t = 0, this._initted || (h = !0))) : (this._time = this._rawPrevTime = t, this._locked || (this._totalTime = t, 0 !== this._repeat && (l = m + this._repeatDelay, this._cycle = this._totalTime / l >> 0, 0 !== this._cycle && this._cycle === this._totalTime / l && this._cycle--, this._time = this._totalTime - this._cycle * l, this._yoyo && 0 != (1 & this._cycle) && (this._time = m - this._time), this._time > m ? (this._time = m, t = m + 1e-6) : 0 > this._time ? this._time = t = 0 : t = this._time))), this._cycle !== I && !this._locked) {
                        var v = this._yoyo && 0 != (1 & I),
                            D = v === (this._yoyo && 0 != (1 & this._cycle)),
                            y = this._totalTime,
                            b = this._cycle,
                            w = this._rawPrevTime,
                            x = this._time;
                        if (this._totalTime = I * m, I > this._cycle ? v = !v : this._totalTime += m, this._time = d, this._rawPrevTime = 0 === m ? f - 1e-5 : f, this._cycle = I, this._locked = !0, d = v ? 0 : m, this.render(d, e, 0 === m), e || this._gc || this.vars.onRepeat && this.vars.onRepeat.apply(this.vars.onRepeatScope || this, this.vars.onRepeatParams || s), D && (d = v ? m + 1e-6 : -1e-6, this.render(d, !0, !1)), this._locked = !1, this._paused && !_) return;
                        this._time = x, this._totalTime = y, this._cycle = b, this._rawPrevTime = w
                    }
                    if (this._time !== d && this._first || a || h) {
                        if (this._initted || (this._initted = !0), this._active || !this._paused && this._totalTime !== c && t > 0 && (this._active = !0), 0 === c && this.vars.onStart && 0 !== this._totalTime && (e || this.vars.onStart.apply(this.vars.onStartScope || this, this.vars.onStartParams || s)), this._time >= d)
                            for (i = this._first; i && (r = i._next, !this._paused || _);)(i._active || i._startTime <= this._time && !i._paused && !i._gc) && (i._reversed ? i.render((i._dirty ? i.totalDuration() : i._totalDuration) - (t - i._startTime) * i._timeScale, e, a) : i.render((t - i._startTime) * i._timeScale, e, a)), i = r;
                        else
                            for (i = this._last; i && (r = i._prev, !this._paused || _);)(i._active || d >= i._startTime && !i._paused && !i._gc) && (i._reversed ? i.render((i._dirty ? i.totalDuration() : i._totalDuration) - (t - i._startTime) * i._timeScale, e, a) : i.render((t - i._startTime) * i._timeScale, e, a)), i = r;
                        this._onUpdate && (e || this._onUpdate.apply(this.vars.onUpdateScope || this, this.vars.onUpdateParams || s)), n && (this._locked || this._gc || (g === this._startTime || p !== this._timeScale) && (0 === this._time || u >= this.totalDuration()) && (o && (this._timeline.autoRemoveChildren && this._enabled(!1, !1), this._active = !1), !e && this.vars[n] && this.vars[n].apply(this.vars[n + "Scope"] || this, this.vars[n + "Params"] || s)))
                    } else c !== this._totalTime && this._onUpdate && (e || this._onUpdate.apply(this.vars.onUpdateScope || this, this.vars.onUpdateParams || s))
                }, n.getActive = function(t, e, a) {
                    null == t && (t = !0), null == e && (e = !0), null == a && (a = !1);
                    var i, s, o = [],
                        n = this.getChildren(t, e, a),
                        h = 0,
                        l = n.length;
                    for (i = 0; l > i; i++)(s = n[i])._paused || s._timeline._time >= s._startTime && s._timeline._time < s._startTime + s._totalDuration / s._timeScale && (r(s._timeline) || (o[h++] = s));
                    return o
                }, n.getLabelAfter = function(t) {
                    t || 0 !== t && (t = this._time);
                    var e, a = this.getLabelsArray(),
                        i = a.length;
                    for (e = 0; i > e; e++)
                        if (a[e].time > t) return a[e].name;
                    return null
                }, n.getLabelBefore = function(t) {
                    null == t && (t = this._time);
                    for (var e = this.getLabelsArray(), a = e.length; --a > -1;)
                        if (t > e[a].time) return e[a].name;
                    return null
                }, n.getLabelsArray = function() {
                    var t, e = [],
                        a = 0;
                    for (t in this._labels) e[a++] = {
                        time: this._labels[t],
                        name: t
                    };
                    return e.sort((function(t, e) {
                        return t.time - e.time
                    })), e
                }, n.progress = function(t) {
                    return arguments.length ? this.totalTime(this.duration() * (this._yoyo && 0 != (1 & this._cycle) ? 1 - t : t) + this._cycle * (this._duration + this._repeatDelay), !1) : this._time / this.duration()
                }, n.totalProgress = function(t) {
                    return arguments.length ? this.totalTime(this.totalDuration() * t, !1) : this._totalTime / this.totalDuration()
                }, n.totalDuration = function(e) {
                    return arguments.length ? -1 === this._repeat ? this : this.duration((e - this._repeat * this._repeatDelay) / (this._repeat + 1)) : (this._dirty && (t.prototype.totalDuration.call(this), this._totalDuration = -1 === this._repeat ? 999999999999 : this._duration * (this._repeat + 1) + this._repeatDelay * this._repeat), this._totalDuration)
                }, n.time = function(t, e) {
                    return arguments.length ? (this._dirty && this.totalDuration(), t > this._duration && (t = this._duration), this._yoyo && 0 != (1 & this._cycle) ? t = this._duration - t + this._cycle * (this._duration + this._repeatDelay) : 0 !== this._repeat && (t += this._cycle * (this._duration + this._repeatDelay)), this.totalTime(t, e)) : this._time
                }, n.repeat = function(t) {
                    return arguments.length ? (this._repeat = t, this._uncache(!0)) : this._repeat
                }, n.repeatDelay = function(t) {
                    return arguments.length ? (this._repeatDelay = t, this._uncache(!0)) : this._repeatDelay
                }, n.yoyo = function(t) {
                    return arguments.length ? (this._yoyo = t, this) : this._yoyo
                }, n.currentLabel = function(t) {
                    return arguments.length ? this.seek(t, !0) : this.getLabelBefore(this._time + 1e-8)
                }, i
            }), !0), t = 180 / Math.PI, e = Math.PI / 180, a = [], i = [], s = [], o = {}, r = function(t, e, a, i) {
                this.a = t, this.b = e, this.c = a, this.d = i, this.da = i - t, this.ca = a - t, this.ba = e - t
            }, n = function(t, e, a, i) {
                var s = {
                        a: t
                    },
                    o = {},
                    r = {},
                    n = {
                        c: i
                    },
                    h = (t + e) / 2,
                    l = (e + a) / 2,
                    u = (a + i) / 2,
                    m = (h + l) / 2,
                    d = (l + u) / 2,
                    c = (d - m) / 8;
                return s.b = h + (t - h) / 4, o.b = m + c, s.c = o.a = (s.b + o.b) / 2, o.c = r.a = (m + d) / 2, r.b = d - c, n.b = u + (i - u) / 4, r.c = n.a = (r.b + n.b) / 2, [s, o, r, n]
            }, h = function(t, e, o, r, h) {
                var l, u, m, d, c, g, p, f, _, I, v, D, y, b = t.length - 1,
                    w = 0,
                    x = t[0].a;
                for (l = 0; b > l; l++) u = (c = t[w]).a, m = c.d, d = t[w + 1].d, h ? (v = a[l], y = .25 * ((D = i[l]) + v) * e / (r ? .5 : s[l] || .5), f = m - ((g = m - (m - u) * (r ? .5 * e : 0 !== v ? y / v : 0)) + (((p = m + (d - m) * (r ? .5 * e : 0 !== D ? y / D : 0)) - g) * (3 * v / (v + D) + .5) / 4 || 0))) : f = m - ((g = m - .5 * (m - u) * e) + (p = m + .5 * (d - m) * e)) / 2, g += f, p += f, c.c = _ = g, c.b = 0 !== l ? x : x = c.a + .6 * (c.c - c.a), c.da = m - u, c.ca = _ - u, c.ba = x - u, o ? (I = n(u, x, _, m), t.splice(w, 1, I[0], I[1], I[2], I[3]), w += 4) : w++, x = p;
                (c = t[w]).b = x, c.c = x + .4 * (c.d - x), c.da = c.d - c.a, c.ca = c.c - c.a, c.ba = x - c.a, o && (I = n(c.a, x, c.c, c.d), t.splice(w, 1, I[0], I[1], I[2], I[3]))
            }, l = function(t, e, s, o) {
                var n, h, l, u, m, d, c = [];
                if (o)
                    for (h = (t = [o].concat(t)).length; --h > -1;) "string" == typeof(d = t[h][e]) && "=" === d.charAt(1) && (t[h][e] = o[e] + Number(d.charAt(0) + d.substr(2)));
                if (0 > (n = t.length - 2)) return c[0] = new r(t[0][e], 0, 0, t[-1 > n ? 0 : 1][e]), c;
                for (h = 0; n > h; h++) l = t[h][e], u = t[h + 1][e], c[h] = new r(l, 0, 0, u), s && (m = t[h + 2][e], a[h] = (a[h] || 0) + (u - l) * (u - l), i[h] = (i[h] || 0) + (m - u) * (m - u));
                return c[h] = new r(t[h][e], 0, 0, t[h + 1][e]), c
            }, u = function(t, e, r, n, u, m) {
                var d, c, g, p, f, _, I, v, D = {},
                    y = [],
                    b = m || t[0];
                for (c in u = "string" == typeof u ? "," + u + "," : ",x,y,z,left,top,right,bottom,marginTop,marginLeft,marginRight,marginBottom,paddingLeft,paddingTop,paddingRight,paddingBottom,backgroundPosition,backgroundPosition_y,", null == e && (e = 1), t[0]) y.push(c);
                if (t.length > 1) {
                    for (v = t[t.length - 1], I = !0, d = y.length; --d > -1;)
                        if (c = y[d], Math.abs(b[c] - v[c]) > .05) {
                            I = !1;
                            break
                        }
                    I && (t = t.concat(), m && t.unshift(m), t.push(t[1]), m = t[t.length - 3])
                }
                for (a.length = i.length = s.length = 0, d = y.length; --d > -1;) c = y[d], o[c] = -1 !== u.indexOf("," + c + ","), D[c] = l(t, c, o[c], m);
                for (d = a.length; --d > -1;) a[d] = Math.sqrt(a[d]), i[d] = Math.sqrt(i[d]);
                if (!n) {
                    for (d = y.length; --d > -1;)
                        if (o[c])
                            for (_ = (g = D[y[d]]).length - 1, p = 0; _ > p; p++) f = g[p + 1].da / i[p] + g[p].da / a[p], s[p] = (s[p] || 0) + f * f;
                    for (d = s.length; --d > -1;) s[d] = Math.sqrt(s[d])
                }
                for (d = y.length, p = r ? 4 : 1; --d > -1;) g = D[c = y[d]], h(g, e, r, n, o[c]), I && (g.splice(0, p), g.splice(g.length - p, p));
                return D
            }, m = function(t, e, a) {
                var i, s, o, n, h, l, u, m, d, c, g, p = {},
                    f = "cubic" === (e = e || "soft") ? 3 : 2,
                    _ = "soft" === e,
                    I = [];
                if (_ && a && (t = [a].concat(t)), null == t || f + 1 > t.length) throw "invalid Bezier data";
                for (d in t[0]) I.push(d);
                for (l = I.length; --l > -1;) {
                    for (p[d = I[l]] = h = [], c = 0, m = t.length, u = 0; m > u; u++) i = null == a ? t[u][d] : "string" == typeof(g = t[u][d]) && "=" === g.charAt(1) ? a[d] + Number(g.charAt(0) + g.substr(2)) : Number(g), _ && u > 1 && m - 1 > u && (h[c++] = (i + h[c - 2]) / 2), h[c++] = i;
                    for (m = c - f + 1, c = 0, u = 0; m > u; u += f) i = h[u], s = h[u + 1], o = h[u + 2], n = 2 === f ? 0 : h[u + 3], h[c++] = g = 3 === f ? new r(i, s, o, n) : new r(i, (2 * s + i) / 3, (2 * s + o) / 3, o);
                    h.length = c
                }
                return p
            }, d = function(t, e, a) {
                for (var i, s, o, r, n, h, l, u, m, d, c, g = 1 / a, p = t.length; --p > -1;)
                    for (o = (d = t[p]).a, r = d.d - o, n = d.c - o, h = d.b - o, i = s = 0, u = 1; a >= u; u++) i = s - (s = ((l = g * u) * l * r + 3 * (m = 1 - l) * (l * n + m * h)) * l), e[c = p * a + u - 1] = (e[c] || 0) + i * i
            }, c = function(t, e) {
                var a, i, s, o = [],
                    r = [],
                    n = 0,
                    h = 0,
                    l = (e = e >> 0 || 6) - 1,
                    u = [],
                    m = [];
                for (a in t) d(t[a], o, e);
                for (i = 0; 0 > i; i++) n += Math.sqrt(o[i]), m[s = i % e] = n, s === l && (h += n, u[s = i / e >> 0] = m, r[s] = h, n = 0, m = []);
                return {
                    length: h,
                    lengths: r,
                    segments: u
                }
            }, g = window._gsDefine.plugin({
                propName: "bezier",
                priority: -1,
                API: 2,
                global: !0,
                init: function(t, e, a) {
                    this._target = t, e instanceof Array && (e = {
                        values: e
                    }), this._func = {}, this._round = {}, this._props = [], this._timeRes = null == e.timeResolution ? 6 : parseInt(e.timeResolution, 10);
                    var i, s, o, r, n, h = e.values || [],
                        l = {},
                        d = h[0],
                        g = e.autoRotate || a.vars.orientToBezier;
                    for (i in this._autoRotate = g ? g instanceof Array ? g : [
                            ["x", "y", "rotation", !0 === g ? 0 : Number(g) || 0]
                        ] : null, d) this._props.push(i);
                    for (o = this._props.length; --o > -1;) i = this._props[o], this._overwriteProps.push(i), s = this._func[i] = "function" == typeof t[i], l[i] = s ? t[i.indexOf("set") || "function" != typeof t["get" + i.substr(3)] ? i : "get" + i.substr(3)]() : parseFloat(t[i]), n || l[i] !== h[0][i] && (n = l);
                    if (this._beziers = "cubic" !== e.type && "quadratic" !== e.type && "soft" !== e.type ? u(h, isNaN(e.curviness) ? 1 : e.curviness, !1, "thruBasic" === e.type, e.correlate, n) : m(h, e.type, l), this._segCount = this._beziers[i].length, this._timeRes) {
                        var p = c(this._beziers, this._timeRes);
                        this._length = p.length, this._lengths = p.lengths, this._segments = p.segments, this._l1 = this._li = this._s1 = this._si = 0, this._l2 = this._lengths[0], this._curSeg = this._segments[0], this._s2 = this._curSeg[0], this._prec = 1 / this._curSeg.length
                    }
                    if (g = this._autoRotate)
                        for (g[0] instanceof Array || (this._autoRotate = g = [g]), o = g.length; --o > -1;)
                            for (r = 0; 3 > r; r++) i = g[o][r], this._func[i] = "function" == typeof t[i] && t[i.indexOf("set") || "function" != typeof t["get" + i.substr(3)] ? i : "get" + i.substr(3)];
                    return !0
                },
                set: function(e) {
                    var a, i, s, o, r, n, h, l, u, m, d = this._segCount,
                        c = this._func,
                        g = this._target;
                    if (this._timeRes) {
                        if (u = this._lengths, m = this._curSeg, e *= this._length, s = this._li, e > this._l2 && d - 1 > s) {
                            for (l = d - 1; l > s && e >= (this._l2 = u[++s]););
                            this._l1 = u[s - 1], this._li = s, this._curSeg = m = this._segments[s], this._s2 = m[this._s1 = this._si = 0]
                        } else if (this._l1 > e && s > 0) {
                            for (; s > 0 && (this._l1 = u[--s]) >= e;);
                            0 === s && this._l1 > e ? this._l1 = 0 : s++, this._l2 = u[s], this._li = s, this._curSeg = m = this._segments[s], this._s1 = m[(this._si = m.length - 1) - 1] || 0, this._s2 = m[this._si]
                        }
                        if (a = s, e -= this._l1, s = this._si, e > this._s2 && m.length - 1 > s) {
                            for (l = m.length - 1; l > s && e >= (this._s2 = m[++s]););
                            this._s1 = m[s - 1], this._si = s
                        } else if (this._s1 > e && s > 0) {
                            for (; s > 0 && (this._s1 = m[--s]) >= e;);
                            0 === s && this._s1 > e ? this._s1 = 0 : s++, this._s2 = m[s], this._si = s
                        }
                        n = (s + (e - this._s1) / (this._s2 - this._s1)) * this._prec
                    } else n = (e - (a = 0 > e ? 0 : e >= 1 ? d - 1 : d * e >> 0) * (1 / d)) * d;
                    for (i = 1 - n, s = this._props.length; --s > -1;) o = this._props[s], h = (n * n * (r = this._beziers[o][a]).da + 3 * i * (n * r.ca + i * r.ba)) * n + r.a, this._round[o] && (h = h + (h > 0 ? .5 : -.5) >> 0), c[o] ? g[o](h) : g[o] = h;
                    if (this._autoRotate) {
                        var p, f, _, I, v, D, y, b = this._autoRotate;
                        for (s = b.length; --s > -1;) o = b[s][2], D = b[s][3] || 0, y = !0 === b[s][4] ? 1 : t, r = this._beziers[b[s][0]], p = this._beziers[b[s][1]], r && p && (r = r[a], p = p[a], f = r.a + (r.b - r.a) * n, f += ((I = r.b + (r.c - r.b) * n) - f) * n, I += (r.c + (r.d - r.c) * n - I) * n, _ = p.a + (p.b - p.a) * n, _ += ((v = p.b + (p.c - p.b) * n) - _) * n, v += (p.c + (p.d - p.c) * n - v) * n, h = Math.atan2(v - _, I - f) * y + D, c[o] ? g[o](h) : g[o] = h)
                    }
                }
            }), p = g.prototype, g.bezierThrough = u, g.cubicToQuadratic = n, g._autoCSS = !0, g.quadraticToCubic = function(t, e, a) {
                return new r(t, (2 * e + t) / 3, (2 * e + a) / 3, a)
            }, g._cssRegister = function() {
                var t = window._gsDefine.globals.CSSPlugin;
                if (t) {
                    var a = t._internals,
                        i = a._parseToProxy,
                        s = a._setPluginRatio,
                        o = a.CSSPropTween;
                    a._registerComplexSpecialProp("bezier", {
                        parser: function(t, a, r, n, h, l) {
                            a instanceof Array && (a = {
                                values: a
                            }), l = new g;
                            var u, m, d, c = a.values,
                                p = c.length - 1,
                                f = [],
                                _ = {};
                            if (0 > p) return h;
                            for (u = 0; p >= u; u++) d = i(t, c[u], n, h, l, p !== u), f[u] = d.end;
                            for (m in a) _[m] = a[m];
                            return _.values = f, (h = new o(t, "bezier", 0, 0, d.pt, 2)).data = d, h.plugin = l, h.setRatio = s, 0 === _.autoRotate && (_.autoRotate = !0), !_.autoRotate || _.autoRotate instanceof Array || (u = !0 === _.autoRotate ? 0 : Number(_.autoRotate) * e, _.autoRotate = null != d.end.left ? [
                                ["left", "top", "rotation", u, !0]
                            ] : null != d.end.x && [
                                ["x", "y", "rotation", u, !0]
                            ]), _.autoRotate && (n._transform || n._enableTransforms(!1), d.autoRotate = n._target._gsTransform), l._onInitTween(d.proxy, _, n._tween), h
                        }
                    })
                }
            }, p._roundProps = function(t, e) {
                for (var a = this._overwriteProps, i = a.length; --i > -1;)(t[a[i]] || t.bezier || t.bezierThrough) && (this._round[a[i]] = e)
            }, p._kill = function(t) {
                var e, a, i = this._props;
                for (e in this._beziers)
                    if (e in t)
                        for (delete this._beziers[e], delete this._func[e], a = i.length; --a > -1;) i[a] === e && i.splice(a, 1);
                return this._super._kill.call(this, t)
            }, window._gsDefine("plugins.CSSPlugin", ["plugins.TweenPlugin", "TweenLite"], (function(t, e) {
                var a, i, s, o, r = function() {
                        t.call(this, "css"), this._overwriteProps.length = 0, this.setRatio = r.prototype.setRatio
                    },
                    n = {},
                    h = r.prototype = new t("css");
                h.constructor = r, r.version = "1.10.2", r.API = 2, r.defaultTransformPerspective = 0, h = "px", r.suffixMap = {
                    top: h,
                    right: h,
                    bottom: h,
                    left: h,
                    width: h,
                    height: h,
                    fontSize: h,
                    padding: h,
                    margin: h,
                    perspective: h
                };
                var l, u, m, d, c, g, p = /(?:\d|\-\d|\.\d|\-\.\d)+/g,
                    f = /(?:\d|\-\d|\.\d|\-\.\d|\+=\d|\-=\d|\+=.\d|\-=\.\d)+/g,
                    _ = /(?:\+=|\-=|\-|\b)[\d\-\.]+[a-zA-Z0-9]*(?:%|\b)/gi,
                    I = /[^\d\-\.]/g,
                    v = /(?:\d|\-|\+|=|#|\.)*/g,
                    D = /opacity *= *([^)]*)/,
                    y = /opacity:([^;]*)/,
                    b = /alpha\(opacity *=.+?\)/i,
                    w = /^(rgb|hsl)/,
                    x = /([A-Z])/g,
                    S = /-([a-z])/gi,
                    A = /(^(?:url\(\"|url\())|(?:(\"\))$|\)$)/gi,
                    T = function(t, e) {
                        return e.toUpperCase()
                    },
                    P = /(?:Left|Right|Width)/i,
                    E = /(M11|M12|M21|M22)=[\d\-\.e]+/gi,
                    M = /progid\:DXImageTransform\.Microsoft\.Matrix\(.+?\)/i,
                    k = /,(?=[^\)]*(?:\(|$))/gi,
                    H = Math.PI / 180,
                    L = 180 / Math.PI,
                    B = {},
                    C = document,
                    G = C.createElement("div"),
                    F = C.createElement("img"),
                    N = r._internals = {
                        _specialProps: n
                    },
                    Y = navigator.userAgent,
                    R = function() {
                        var t, e = Y.indexOf("Android"),
                            a = C.createElement("div");
                        return m = -1 !== Y.indexOf("Safari") && -1 === Y.indexOf("Chrome") && (-1 === e || Number(Y.substr(e + 8, 1)) > 3), c = m && 6 > Number(Y.substr(Y.indexOf("Version/") + 8, 1)), d = -1 !== Y.indexOf("Firefox"), /MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(Y), g = parseFloat(RegExp.$1), a.innerHTML = "<a style='top:1px;opacity:.55;'>a</a>", !!(t = a.getElementsByTagName("a")[0]) && /^0.55/.test(t.style.opacity)
                    }(),
                    O = function(t) {
                        return D.test("string" == typeof t ? t : (t.currentStyle ? t.currentStyle.filter : t.style.filter) || "") ? parseFloat(RegExp.$1) / 100 : 1
                    },
                    U = function(t) {
                        window.console && console.log(t)
                    },
                    X = "",
                    W = "",
                    V = function(t, e) {
                        var a, i, s = (e = e || G).style;
                        if (void 0 !== s[t]) return t;
                        for (t = t.charAt(0).toUpperCase() + t.substr(1), a = ["O", "Moz", "ms", "Ms", "Webkit"], i = 5; --i > -1 && void 0 === s[a[i] + t];);
                        return i >= 0 ? (X = "-" + (W = 3 === i ? "ms" : a[i]).toLowerCase() + "-", W + t) : null
                    },
                    q = C.defaultView ? C.defaultView.getComputedStyle : function() {},
                    z = r.getStyle = function(t, e, a, i, s) {
                        var o;
                        return R || "opacity" !== e ? (!i && t.style[e] ? o = t.style[e] : (a = a || q(t, null)) ? o = (t = a.getPropertyValue(e.replace(x, "-$1").toLowerCase())) || a.length ? t : a[e] : t.currentStyle && (o = t.currentStyle[e]), null == s || o && "none" !== o && "auto" !== o && "auto auto" !== o ? o : s) : O(t)
                    },
                    j = function(t, e, a, i, s) {
                        if ("px" === i || !i) return a;
                        if ("auto" === i || !a) return 0;
                        var o, r = P.test(e),
                            n = t,
                            h = G.style,
                            l = 0 > a;
                        return l && (a = -a), "%" === i && -1 !== e.indexOf("border") ? o = a / 100 * (r ? t.clientWidth : t.clientHeight) : (h.cssText = "border-style:solid; border-width:0; position:absolute; line-height:0;", "%" !== i && n.appendChild ? h[r ? "borderLeftWidth" : "borderTopWidth"] = a + i : (n = t.parentNode || C.body, h[r ? "width" : "height"] = a + i), n.appendChild(G), o = parseFloat(G[r ? "offsetWidth" : "offsetHeight"]), n.removeChild(G), 0 !== o || s || (o = j(t, e, a, i, !0))), l ? -o : o
                    },
                    K = function(t, e, a) {
                        if ("absolute" !== z(t, "position", a)) return 0;
                        var i = "left" === e ? "Left" : "Top",
                            s = z(t, "margin" + i, a);
                        return t["offset" + i] - (j(t, e, parseFloat(s), s.replace(v, "")) || 0)
                    },
                    Q = function(t, e) {
                        var a, i, s = {};
                        if (e = e || q(t, null))
                            if (a = e.length)
                                for (; --a > -1;) s[e[a].replace(S, T)] = e.getPropertyValue(e[a]);
                            else
                                for (a in e) s[a] = e[a];
                        else if (e = t.currentStyle || t.style)
                            for (a in e) s[a.replace(S, T)] = e[a];
                        return R || (s.opacity = O(t)), i = wt(t, e, !1), s.rotation = i.rotation * L, s.skewX = i.skewX * L, s.scaleX = i.scaleX, s.scaleY = i.scaleY, s.x = i.x, s.y = i.y, bt && (s.z = i.z, s.rotationX = i.rotationX * L, s.rotationY = i.rotationY * L, s.scaleZ = i.scaleZ), s.filters && delete s.filters, s
                    },
                    Z = function(t, e, a, i, s) {
                        var o, r, n, h = {},
                            l = t.style;
                        for (r in a) "cssText" !== r && "length" !== r && isNaN(r) && (e[r] !== (o = a[r]) || s && s[r]) && -1 === r.indexOf("Origin") && ("number" == typeof o || "string" == typeof o) && (h[r] = "auto" !== o || "left" !== r && "top" !== r ? "" !== o && "auto" !== o && "none" !== o || "string" != typeof e[r] || "" === e[r].replace(I, "") ? o : 0 : K(t, r), void 0 !== l[r] && (n = new mt(l, r, l[r], n)));
                        if (i)
                            for (r in i) "className" !== r && (h[r] = i[r]);
                        return {
                            difs: h,
                            firstMPT: n
                        }
                    },
                    $ = {
                        width: ["Left", "Right"],
                        height: ["Top", "Bottom"]
                    },
                    J = ["marginLeft", "marginRight", "marginTop", "marginBottom"],
                    tt = function(t, e, a) {
                        var i = parseFloat("width" === e ? t.offsetWidth : t.offsetHeight),
                            s = $[e],
                            o = s.length;
                        for (a = a || q(t, null); --o > -1;) i -= parseFloat(z(t, "padding" + s[o], a, !0)) || 0, i -= parseFloat(z(t, "border" + s[o] + "Width", a, !0)) || 0;
                        return i
                    },
                    et = function(t, e) {
                        (null == t || "" === t || "auto" === t || "auto auto" === t) && (t = "0 0");
                        var a = t.split(" "),
                            i = -1 !== t.indexOf("left") ? "0%" : -1 !== t.indexOf("right") ? "100%" : a[0],
                            s = -1 !== t.indexOf("top") ? "0%" : -1 !== t.indexOf("bottom") ? "100%" : a[1];
                        return null == s ? s = "0" : "center" === s && (s = "50%"), ("center" === i || isNaN(parseFloat(i)) && -1 === (i + "").indexOf("=")) && (i = "50%"), e && (e.oxp = -1 !== i.indexOf("%"), e.oyp = -1 !== s.indexOf("%"), e.oxr = "=" === i.charAt(1), e.oyr = "=" === s.charAt(1), e.ox = parseFloat(i.replace(I, "")), e.oy = parseFloat(s.replace(I, ""))), i + " " + s + (a.length > 2 ? " " + a[2] : "")
                    },
                    at = function(t, e) {
                        return "string" == typeof t && "=" === t.charAt(1) ? parseInt(t.charAt(0) + "1", 10) * parseFloat(t.substr(2)) : parseFloat(t) - parseFloat(e)
                    },
                    it = function(t, e) {
                        return null == t ? e : "string" == typeof t && "=" === t.charAt(1) ? parseInt(t.charAt(0) + "1", 10) * Number(t.substr(2)) + e : parseFloat(t)
                    },
                    st = function(t, e, a, i) {
                        var s, o, r, n, h = 1e-6;
                        return null == t ? n = e : "number" == typeof t ? n = t * H : (s = 2 * Math.PI, o = t.split("_"), r = Number(o[0].replace(I, "")) * (-1 === t.indexOf("rad") ? H : 1) - ("=" === t.charAt(1) ? 0 : e), o.length && (i && (i[a] = e + r), -1 !== t.indexOf("short") && ((r %= s) !== r % (s / 2) && (r = 0 > r ? r + s : r - s)), -1 !== t.indexOf("_cw") && 0 > r ? r = (r + 9999999999 * s) % s - (0 | r / s) * s : -1 !== t.indexOf("ccw") && r > 0 && (r = (r - 9999999999 * s) % s - (0 | r / s) * s)), n = e + r), h > n && n > -h && (n = 0), n
                    },
                    ot = {
                        aqua: [0, 255, 255],
                        lime: [0, 255, 0],
                        silver: [192, 192, 192],
                        black: [0, 0, 0],
                        maroon: [128, 0, 0],
                        teal: [0, 128, 128],
                        blue: [0, 0, 255],
                        navy: [0, 0, 128],
                        white: [255, 255, 255],
                        fuchsia: [255, 0, 255],
                        olive: [128, 128, 0],
                        yellow: [255, 255, 0],
                        orange: [255, 165, 0],
                        gray: [128, 128, 128],
                        purple: [128, 0, 128],
                        green: [0, 128, 0],
                        red: [255, 0, 0],
                        pink: [255, 192, 203],
                        cyan: [0, 255, 255],
                        transparent: [255, 255, 255, 0]
                    },
                    rt = function(t, e, a) {
                        return 0 | 255 * (1 > 6 * (t = 0 > t ? t + 1 : t > 1 ? t - 1 : t) ? e + 6 * (a - e) * t : .5 > t ? a : 2 > 3 * t ? e + 6 * (a - e) * (2 / 3 - t) : e) + .5
                    },
                    nt = function(t) {
                        var e, a, i, s, o, r;
                        return t && "" !== t ? "number" == typeof t ? [t >> 16, 255 & t >> 8, 255 & t] : ("," === t.charAt(t.length - 1) && (t = t.substr(0, t.length - 1)), ot[t] ? ot[t] : "#" === t.charAt(0) ? (4 === t.length && (e = t.charAt(1), a = t.charAt(2), i = t.charAt(3), t = "#" + e + e + a + a + i + i), [(t = parseInt(t.substr(1), 16)) >> 16, 255 & t >> 8, 255 & t]) : "hsl" === t.substr(0, 3) ? (t = t.match(p), s = Number(t[0]) % 360 / 360, o = Number(t[1]) / 100, e = 2 * (r = Number(t[2]) / 100) - (a = .5 >= r ? r * (o + 1) : r + o - r * o), t.length > 3 && (t[3] = Number(t[3])), t[0] = rt(s + 1 / 3, e, a), t[1] = rt(s, e, a), t[2] = rt(s - 1 / 3, e, a), t) : ((t = t.match(p) || ot.transparent)[0] = Number(t[0]), t[1] = Number(t[1]), t[2] = Number(t[2]), t.length > 3 && (t[3] = Number(t[3])), t)) : ot.black
                    },
                    ht = "(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#.+?\\b";
                for (h in ot) ht += "|" + h + "\\b";
                ht = RegExp(ht + ")", "gi");
                var lt = function(t, e, a, i) {
                        if (null == t) return function(t) {
                            return t
                        };
                        var s, o = e ? (t.match(ht) || [""])[0] : "",
                            r = t.split(o).join("").match(_) || [],
                            n = t.substr(0, t.indexOf(r[0])),
                            h = ")" === t.charAt(t.length - 1) ? ")" : "",
                            l = -1 !== t.indexOf(" ") ? " " : ",",
                            u = r.length,
                            m = u > 0 ? r[0].replace(p, "") : "";
                        return u ? s = e ? function(t) {
                            var e, d, c, g;
                            if ("number" == typeof t) t += m;
                            else if (i && k.test(t)) {
                                for (g = t.replace(k, "|").split("|"), c = 0; g.length > c; c++) g[c] = s(g[c]);
                                return g.join(",")
                            }
                            if (e = (t.match(ht) || [o])[0], c = (d = t.split(e).join("").match(_) || []).length, u > c--)
                                for (; u > ++c;) d[c] = a ? d[0 | (c - 1) / 2] : r[c];
                            return n + d.join(l) + l + e + h + (-1 !== t.indexOf("inset") ? " inset" : "")
                        } : function(t) {
                            var e, o, d;
                            if ("number" == typeof t) t += m;
                            else if (i && k.test(t)) {
                                for (o = t.replace(k, "|").split("|"), d = 0; o.length > d; d++) o[d] = s(o[d]);
                                return o.join(",")
                            }
                            if (d = (e = t.match(_) || []).length, u > d--)
                                for (; u > ++d;) e[d] = a ? e[0 | (d - 1) / 2] : r[d];
                            return n + e.join(l) + h
                        } : function(t) {
                            return t
                        }
                    },
                    ut = function(t) {
                        return t = t.split(","),
                            function(e, a, i, s, o, r, n) {
                                var h, l = (a + "").split(" ");
                                for (n = {}, h = 0; 4 > h; h++) n[t[h]] = l[h] = l[h] || l[(h - 1) / 2 >> 0];
                                return s.parse(e, n, o, r)
                            }
                    },
                    mt = (N._setPluginRatio = function(t) {
                        this.plugin.setRatio(t);
                        for (var e, a, i, s, o = this.data, r = o.proxy, n = o.firstMPT, h = 1e-6; n;) e = r[n.v], n.r ? e = e > 0 ? 0 | e + .5 : 0 | e - .5 : h > e && e > -h && (e = 0), n.t[n.p] = e, n = n._next;
                        if (o.autoRotate && (o.autoRotate.rotation = r.rotation), 1 === t)
                            for (n = o.firstMPT; n;) {
                                if ((a = n.t).type) {
                                    if (1 === a.type) {
                                        for (s = a.xs0 + a.s + a.xs1, i = 1; a.l > i; i++) s += a["xn" + i] + a["xs" + (i + 1)];
                                        a.e = s
                                    }
                                } else a.e = a.s + a.xs0;
                                n = n._next
                            }
                    }, function(t, e, a, i, s) {
                        this.t = t, this.p = e, this.v = a, this.r = s, i && (i._prev = this, this._next = i)
                    }),
                    dt = (N._parseToProxy = function(t, e, a, i, s, o) {
                        var r, n, h, l, u, m = i,
                            d = {},
                            c = {},
                            g = a._transform,
                            p = B;
                        for (a._transform = null, B = e, i = u = a.parse(t, e, i, s), B = p, o && (a._transform = g, m && (m._prev = null, m._prev && (m._prev._next = null))); i && i !== m;) {
                            if (1 >= i.type && (c[n = i.p] = i.s + i.c, d[n] = i.s, o || (l = new mt(i, "s", n, l, i.r), i.c = 0), 1 === i.type))
                                for (r = i.l; --r > 0;) h = "xn" + r, c[n = i.p + "_" + h] = i.data[h], d[n] = i[h], o || (l = new mt(i, h, n, l, i.rxp[h]));
                            i = i._next
                        }
                        return {
                            proxy: d,
                            end: c,
                            firstMPT: l,
                            pt: u
                        }
                    }, N.CSSPropTween = function(t, e, i, s, r, n, h, l, u, m, d) {
                        this.t = t, this.p = e, this.s = i, this.c = s, this.n = h || e, t instanceof dt || o.push(this.n), this.r = l, this.type = n || 0, u && (this.pr = u, a = !0), this.b = void 0 === m ? i : m, this.e = void 0 === d ? i + s : d, r && (this._next = r, r._prev = this)
                    }),
                    ct = r.parseComplex = function(t, e, a, i, s, o, r, n, h, u) {
                        r = new dt(t, e, 0, 0, r, u ? 2 : 1, null, !1, n, a = a || o || "", i), i += "";
                        var m, d, c, g, _, I, v, D, y, b, x, S, A = a.split(", ").join(",").split(" "),
                            T = i.split(", ").join(",").split(" "),
                            P = A.length,
                            E = !1 !== l;
                        for ((-1 !== i.indexOf(",") || -1 !== a.indexOf(",")) && (A = A.join(" ").replace(k, ", ").split(" "), T = T.join(" ").replace(k, ", ").split(" "), P = A.length), P !== T.length && (P = (A = (o || "").split(" ")).length), r.plugin = h, r.setRatio = u, m = 0; P > m; m++)
                            if (g = A[m], _ = T[m], (D = parseFloat(g)) || 0 === D) r.appendXtra("", D, at(_, D), _.replace(f, ""), E && -1 !== _.indexOf("px"), !0);
                            else if (s && ("#" === g.charAt(0) || ot[g] || w.test(g))) S = "," === _.charAt(_.length - 1) ? ")," : ")", g = nt(g), _ = nt(_), (y = g.length + _.length > 6) && !R && 0 === _[3] ? (r["xs" + r.l] += r.l ? " transparent" : "transparent", r.e = r.e.split(T[m]).join("transparent")) : (R || (y = !1), r.appendXtra(y ? "rgba(" : "rgb(", g[0], _[0] - g[0], ",", !0, !0).appendXtra("", g[1], _[1] - g[1], ",", !0).appendXtra("", g[2], _[2] - g[2], y ? "," : S, !0), y && (g = 4 > g.length ? 1 : g[3], r.appendXtra("", g, (4 > _.length ? 1 : _[3]) - g, S, !1)));
                        else if (I = g.match(p)) {
                            if (!(v = _.match(f)) || v.length !== I.length) return r;
                            for (c = 0, d = 0; I.length > d; d++) x = I[d], b = g.indexOf(x, c), r.appendXtra(g.substr(c, b - c), Number(x), at(v[d], x), "", E && "px" === g.substr(b + x.length, 2), 0 === d), c = b + x.length;
                            r["xs" + r.l] += g.substr(c)
                        } else r["xs" + r.l] += r.l ? " " + g : g;
                        if (-1 !== i.indexOf("=") && r.data) {
                            for (S = r.xs0 + r.data.s, m = 1; r.l > m; m++) S += r["xs" + m] + r.data["xn" + m];
                            r.e = S + r["xs" + m]
                        }
                        return r.l || (r.type = -1, r.xs0 = r.e), r.xfirst || r
                    },
                    gt = 9;
                for ((h = dt.prototype).l = h.pr = 0; --gt > 0;) h["xn" + gt] = 0, h["xs" + gt] = "";
                h.xs0 = "", h._next = h._prev = h.xfirst = h.data = h.plugin = h.setRatio = h.rxp = null, h.appendXtra = function(t, e, a, i, s, o) {
                    var r = this,
                        n = r.l;
                    return r["xs" + n] += o && n ? " " + t : t || "", a || 0 === n || r.plugin ? (r.l++, r.type = r.setRatio ? 2 : 1, r["xs" + r.l] = i || "", n > 0 ? (r.data["xn" + n] = e + a, r.rxp["xn" + n] = s, r["xn" + n] = e, r.plugin || (r.xfirst = new dt(r, "xn" + n, e, a, r.xfirst || r, 0, r.n, s, r.pr), r.xfirst.xs0 = 0), r) : (r.data = {
                        s: e + a
                    }, r.rxp = {}, r.s = e, r.c = a, r.r = s, r)) : (r["xs" + n] += e + (i || ""), r)
                };
                var pt = function(t, e) {
                        e = e || {}, this.p = e.prefix && V(t) || t, n[t] = n[this.p] = this, this.format = e.formatter || lt(e.defaultValue, e.color, e.collapsible, e.multi), e.parser && (this.parse = e.parser), this.clrs = e.color, this.multi = e.multi, this.keyword = e.keyword, this.dflt = e.defaultValue, this.pr = e.priority || 0
                    },
                    ft = N._registerComplexSpecialProp = function(t, e, a) {
                        "object" != typeof e && (e = {
                            parser: a
                        });
                        var i, s = t.split(","),
                            o = e.defaultValue;
                        for (a = a || [o], i = 0; s.length > i; i++) e.prefix = 0 === i && e.prefix, e.defaultValue = a[i] || o, new pt(s[i], e)
                    },
                    _t = function(t) {
                        if (!n[t]) {
                            var e = t.charAt(0).toUpperCase() + t.substr(1) + "Plugin";
                            ft(t, {
                                parser: function(t, a, i, s, o, r, h) {
                                    var l = (window.GreenSockGlobals || window).com.greensock.plugins[e];
                                    return l ? (l._cssRegister(), n[i].parse(t, a, i, s, o, r, h)) : (U("Error: " + e + " js file not loaded."), o)
                                }
                            })
                        }
                    };
                (h = pt.prototype).parseComplex = function(t, e, a, i, s, o) {
                    var r, n, h, l, u, m = this.keyword;
                    if (this.multi && (k.test(a) || k.test(e) ? (n = e.replace(k, "|").split("|"), h = a.replace(k, "|").split("|")) : m && (n = [e], h = [a])), h) {
                        for (l = h.length > n.length ? h.length : n.length, r = 0; l > r; r++) e = n[r] = n[r] || this.dflt, a = h[r] = h[r] || this.dflt, m && (e.indexOf(m) !== (u = a.indexOf(m)) && ((a = -1 === u ? h : n)[r] += " " + m));
                        e = n.join(", "), a = h.join(", ")
                    }
                    return ct(t, this.p, e, a, this.clrs, this.dflt, i, this.pr, s, o)
                }, h.parse = function(t, e, a, i, o, r) {
                    return this.parseComplex(t.style, this.format(z(t, this.p, s, !1, this.dflt)), this.format(e), o, r)
                }, r.registerSpecialProp = function(t, e, a) {
                    ft(t, {
                        parser: function(t, i, s, o, r, n) {
                            var h = new dt(t, s, 0, 0, r, 2, s, !1, a);
                            return h.plugin = n, h.setRatio = e(t, i, o._tween, s), h
                        },
                        priority: a
                    })
                };
                var It = "scaleX,scaleY,scaleZ,x,y,z,skewX,rotation,rotationX,rotationY,perspective".split(","),
                    vt = V("transform"),
                    Dt = X + "transform",
                    yt = V("transformOrigin"),
                    bt = null !== V("perspective"),
                    wt = function(t, e, a, i) {
                        if (t._gsTransform && a && !i) return t._gsTransform;
                        var s, o, n, h, l, u, m, d, c, g, p, f, _, I = a && t._gsTransform || {
                                skewY: 0
                            },
                            v = 0 > I.scaleX,
                            D = 2e-5,
                            y = 1e5,
                            b = 1e-4 - Math.PI,
                            w = Math.PI - 1e-4,
                            x = bt && (parseFloat(z(t, yt, e, !1, "0 0 0").split(" ")[2]) || I.zOrigin) || 0;
                        for (vt ? s = z(t, Dt, e, !0) : t.currentStyle && (s = (s = t.currentStyle.filter.match(E)) && 4 === s.length ? [s[0].substr(4), Number(s[2].substr(4)), Number(s[1].substr(4)), s[3].substr(4), I.x || 0, I.y || 0].join(",") : ""), n = (o = (s || "").match(/(?:\-|\b)[\d\-\.e]+\b/gi) || []).length; --n > -1;) h = Number(o[n]), o[n] = (l = h - (h |= 0)) ? (0 | l * y + (0 > l ? -.5 : .5)) / y + h : h;
                        if (16 === o.length) {
                            var S = o[8],
                                A = o[9],
                                T = o[10],
                                P = o[12],
                                M = o[13],
                                k = o[14];
                            if (I.zOrigin && (P = S * (k = -I.zOrigin) - o[12], M = A * k - o[13], k = T * k + I.zOrigin - o[14]), !a || i || null == I.rotationX) {
                                var H, L, B, C, G, F, N, Y = o[0],
                                    R = o[1],
                                    O = o[2],
                                    U = o[3],
                                    X = o[4],
                                    W = o[5],
                                    V = o[6],
                                    q = o[7],
                                    j = o[11],
                                    K = I.rotationX = Math.atan2(V, T),
                                    Q = b > K || K > w;
                                K && (H = X * (C = Math.cos(-K)) + S * (G = Math.sin(-K)), L = W * C + A * G, B = V * C + T * G, S = X * -G + S * C, A = W * -G + A * C, T = V * -G + T * C, j = q * -G + j * C, X = H, W = L, V = B), (K = I.rotationY = Math.atan2(S, Y)) && (F = b > K || K > w, L = R * (C = Math.cos(-K)) - A * (G = Math.sin(-K)), B = O * C - T * G, A = R * G + A * C, T = O * G + T * C, j = U * G + j * C, Y = H = Y * C - S * G, R = L, O = B), (K = I.rotation = Math.atan2(R, W)) && (N = b > K || K > w, Y = Y * (C = Math.cos(-K)) + X * (G = Math.sin(-K)), L = R * C + W * G, W = R * -G + W * C, V = O * -G + V * C, R = L), N && Q ? I.rotation = I.rotationX = 0 : N && F ? I.rotation = I.rotationY = 0 : F && Q && (I.rotationY = I.rotationX = 0), I.scaleX = (0 | Math.sqrt(Y * Y + R * R) * y + .5) / y, I.scaleY = (0 | Math.sqrt(W * W + A * A) * y + .5) / y, I.scaleZ = (0 | Math.sqrt(V * V + T * T) * y + .5) / y, I.skewX = 0, I.perspective = j ? 1 / (0 > j ? -j : j) : 0, I.x = P, I.y = M, I.z = k
                            }
                        } else if (!(bt && !i && o.length && I.x === o[4] && I.y === o[5] && (I.rotationX || I.rotationY) || void 0 !== I.x && "none" === z(t, "display", e))) {
                            var Z = o.length >= 6,
                                $ = Z ? o[0] : 1,
                                J = o[1] || 0,
                                tt = o[2] || 0,
                                et = Z ? o[3] : 1;
                            I.x = o[4] || 0, I.y = o[5] || 0, u = Math.sqrt($ * $ + J * J), m = Math.sqrt(et * et + tt * tt), d = $ || J ? Math.atan2(J, $) : I.rotation || 0, c = tt || et ? Math.atan2(tt, et) + d : I.skewX || 0, g = u - Math.abs(I.scaleX || 0), p = m - Math.abs(I.scaleY || 0), Math.abs(c) > Math.PI / 2 && Math.abs(c) < 1.5 * Math.PI && (v ? (u *= -1, c += 0 >= d ? Math.PI : -Math.PI, d += 0 >= d ? Math.PI : -Math.PI) : (m *= -1, c += 0 >= c ? Math.PI : -Math.PI)), f = (d - I.rotation) % Math.PI, _ = (c - I.skewX) % Math.PI, (void 0 === I.skewX || g > D || -D > g || p > D || -D > p || f > b && w > f && !1 | f * y || _ > b && w > _ && !1 | _ * y) && (I.scaleX = u, I.scaleY = m, I.rotation = d, I.skewX = c), bt && (I.rotationX = I.rotationY = I.z = 0, I.perspective = parseFloat(r.defaultTransformPerspective) || 0, I.scaleZ = 1)
                        }
                        for (n in I.zOrigin = x, I) D > I[n] && I[n] > -D && (I[n] = 0);
                        return a && (t._gsTransform = I), I
                    },
                    xt = function(t) {
                        var e, a, i = this.data,
                            s = -i.rotation,
                            o = s + i.skewX,
                            r = 1e5,
                            n = (0 | Math.cos(s) * i.scaleX * r) / r,
                            h = (0 | Math.sin(s) * i.scaleX * r) / r,
                            l = (0 | Math.sin(o) * -i.scaleY * r) / r,
                            u = (0 | Math.cos(o) * i.scaleY * r) / r,
                            m = this.t.style,
                            d = this.t.currentStyle;
                        if (d) {
                            a = h, h = -l, l = -a, e = d.filter, m.filter = "";
                            var c, p, f = this.t.offsetWidth,
                                _ = this.t.offsetHeight,
                                I = "absolute" !== d.position,
                                y = "progid:DXImageTransform.Microsoft.Matrix(M11=" + n + ", M12=" + h + ", M21=" + l + ", M22=" + u,
                                b = i.x,
                                w = i.y;
                            if (null != i.ox && (b += (c = (i.oxp ? .01 * f * i.ox : i.ox) - f / 2) - (c * n + (p = (i.oyp ? .01 * _ * i.oy : i.oy) - _ / 2) * h), w += p - (c * l + p * u)), I) y += ", Dx=" + ((c = f / 2) - (c * n + (p = _ / 2) * h) + b) + ", Dy=" + (p - (c * l + p * u) + w) + ")";
                            else {
                                var x, S, A, T = 8 > g ? 1 : -1;
                                for (c = i.ieOffsetX || 0, p = i.ieOffsetY || 0, i.ieOffsetX = Math.round((f - ((0 > n ? -n : n) * f + (0 > h ? -h : h) * _)) / 2 + b), i.ieOffsetY = Math.round((_ - ((0 > u ? -u : u) * _ + (0 > l ? -l : l) * f)) / 2 + w), gt = 0; 4 > gt; gt++) A = (a = -1 !== (x = d[S = J[gt]]).indexOf("px") ? parseFloat(x) : j(this.t, S, parseFloat(x), x.replace(v, "")) || 0) !== i[S] ? 2 > gt ? -i.ieOffsetX : -i.ieOffsetY : 2 > gt ? c - i.ieOffsetX : p - i.ieOffsetY, m[S] = (i[S] = Math.round(a - A * (0 === gt || 2 === gt ? 1 : T))) + "px";
                                y += ", sizingMethod='auto expand')"
                            }
                            m.filter = -1 !== e.indexOf("DXImageTransform.Microsoft.Matrix(") ? e.replace(M, y) : y + " " + e, (0 === t || 1 === t) && 1 === n && 0 === h && 0 === l && 1 === u && (I && -1 === y.indexOf("Dx=0, Dy=0") || D.test(e) && 100 !== parseFloat(RegExp.$1) || -1 === e.indexOf("gradient(") && m.removeAttribute("filter"))
                        }
                    },
                    St = function() {
                        var t, e, a, i, s, o, r, n, h, l, u, m, c, g, p, f, _, I, v, D, y, b, w, x, S, A, T, P = this.data,
                            E = this.t.style,
                            M = P.rotation,
                            k = P.scaleX,
                            H = P.scaleY,
                            L = P.scaleZ;
                        if (d && (S = E.top ? "top" : E.bottom || parseFloat(z(this.t, "top", null, !1)) ? "bottom" : "top", y = z(this.t, S, null, !1), A = parseFloat(y) || 0, T = y.substr((A + "").length) || "px", P._ffFix = !P._ffFix, E[S] = (P._ffFix ? A + .05 : A - .05) + T), M || P.skewX) t = v = Math.cos(M), s = D = Math.sin(M), P.skewX && (M -= P.skewX, v = Math.cos(M), D = Math.sin(M)), e = -D, o = v;
                        else {
                            if (!P.rotationY && !P.rotationX && 1 === L) return void(E[vt] = "translate3d(" + P.x + "px," + P.y + "px," + P.z + "px)" + (1 !== k || 1 !== H ? " scale(" + k + "," + H + ")" : ""));
                            t = o = 1, e = s = 0
                        }
                        u = 1, a = i = r = n = h = l = m = c = g = 0, p = (f = P.perspective) ? -1 / f : 0, _ = P.zOrigin, I = 1e5, (M = P.rotationY) && (v = Math.cos(M), h = u * -(D = Math.sin(M)), c = p * -D, a = t * D, r = s * D, u *= v, p *= v, t *= v, s *= v), (M = P.rotationX) && (y = e * (v = Math.cos(M)) + a * (D = Math.sin(M)), b = o * v + r * D, w = l * v + u * D, x = g * v + p * D, a = e * -D + a * v, r = o * -D + r * v, u = l * -D + u * v, p = g * -D + p * v, e = y, o = b, l = w, g = x), 1 !== L && (a *= L, r *= L, u *= L, p *= L), 1 !== H && (e *= H, o *= H, l *= H, g *= H), 1 !== k && (t *= k, s *= k, h *= k, c *= k), _ && (i = a * (m -= _), n = r * m, m = u * m + _), i = (y = (i += P.x) - (i |= 0)) ? (0 | y * I + (0 > y ? -.5 : .5)) / I + i : i, n = (y = (n += P.y) - (n |= 0)) ? (0 | y * I + (0 > y ? -.5 : .5)) / I + n : n, m = (y = (m += P.z) - (m |= 0)) ? (0 | y * I + (0 > y ? -.5 : .5)) / I + m : m, E[vt] = "matrix3d(" + [(0 | t * I) / I, (0 | s * I) / I, (0 | h * I) / I, (0 | c * I) / I, (0 | e * I) / I, (0 | o * I) / I, (0 | l * I) / I, (0 | g * I) / I, (0 | a * I) / I, (0 | r * I) / I, (0 | u * I) / I, (0 | p * I) / I, i, n, m, f ? 1 + -m / f : 1].join(",") + ")"
                    },
                    At = function() {
                        var t, e, a, i, s, o, r, n, h, l = this.data,
                            u = this.t,
                            m = u.style;
                        d && (t = m.top ? "top" : m.bottom || parseFloat(z(u, "top", null, !1)) ? "bottom" : "top", e = z(u, t, null, !1), a = parseFloat(e) || 0, i = e.substr((a + "").length) || "px", l._ffFix = !l._ffFix, m[t] = (l._ffFix ? a + .05 : a - .05) + i), l.rotation || l.skewX ? (o = (s = l.rotation) - l.skewX, r = 1e5, n = l.scaleX * r, h = l.scaleY * r, m[vt] = "matrix(" + (0 | Math.cos(s) * n) / r + "," + (0 | Math.sin(s) * n) / r + "," + (0 | Math.sin(o) * -h) / r + "," + (0 | Math.cos(o) * h) / r + "," + l.x + "," + l.y + ")") : m[vt] = "matrix(" + l.scaleX + ",0,0," + l.scaleY + "," + l.x + "," + l.y + ")"
                    };
                ft("transform,scale,scaleX,scaleY,scaleZ,x,y,z,rotation,rotationX,rotationY,rotationZ,skewX,skewY,shortRotation,shortRotationX,shortRotationY,shortRotationZ,transformOrigin,transformPerspective,directionalRotation,parseTransform,force3D", {
                    parser: function(t, e, a, i, o, r, n) {
                        if (i._transform) return o;
                        var h, l, u, m, d, c, g, p = i._transform = wt(t, s, !0, n.parseTransform),
                            f = t.style,
                            _ = 1e-6,
                            I = It.length,
                            v = n,
                            D = {};
                        if ("string" == typeof v.transform && vt) u = f.cssText, f[vt] = v.transform, f.display = "block", h = wt(t, null, !1), f.cssText = u;
                        else if ("object" == typeof v) {
                            if (h = {
                                    scaleX: it(null != v.scaleX ? v.scaleX : v.scale, p.scaleX),
                                    scaleY: it(null != v.scaleY ? v.scaleY : v.scale, p.scaleY),
                                    scaleZ: it(null != v.scaleZ ? v.scaleZ : v.scale, p.scaleZ),
                                    x: it(v.x, p.x),
                                    y: it(v.y, p.y),
                                    z: it(v.z, p.z),
                                    perspective: it(v.transformPerspective, p.perspective)
                                }, null != (g = v.directionalRotation))
                                if ("object" == typeof g)
                                    for (u in g) v[u] = g[u];
                                else v.rotation = g;
                            h.rotation = st("rotation" in v ? v.rotation : "shortRotation" in v ? v.shortRotation + "_short" : "rotationZ" in v ? v.rotationZ : p.rotation * L, p.rotation, "rotation", D), bt && (h.rotationX = st("rotationX" in v ? v.rotationX : "shortRotationX" in v ? v.shortRotationX + "_short" : p.rotationX * L || 0, p.rotationX, "rotationX", D), h.rotationY = st("rotationY" in v ? v.rotationY : "shortRotationY" in v ? v.shortRotationY + "_short" : p.rotationY * L || 0, p.rotationY, "rotationY", D)), h.skewX = null == v.skewX ? p.skewX : st(v.skewX, p.skewX), h.skewY = null == v.skewY ? p.skewY : st(v.skewY, p.skewY), (l = h.skewY - p.skewY) && (h.skewX += l, h.rotation += l)
                        }
                        for (null != v.force3D && (p.force3D = v.force3D, c = !0), (d = p.force3D || p.z || p.rotationX || p.rotationY || h.z || h.rotationX || h.rotationY || h.perspective) || null == v.scale || (h.scaleZ = 1); --I > -1;)((m = h[a = It[I]] - p[a]) > _ || -_ > m || null != B[a]) && (c = !0, o = new dt(p, a, p[a], m, o), a in D && (o.e = D[a]), o.xs0 = 0, o.plugin = r, i._overwriteProps.push(o.n));
                        return ((m = v.transformOrigin) || bt && d && p.zOrigin) && (vt ? (c = !0, a = yt, m = (m || z(t, a, s, !1, "50% 50%")) + "", (o = new dt(f, a, 0, 0, o, -1, "transformOrigin")).b = f[a], o.plugin = r, bt ? (u = p.zOrigin, m = m.split(" "), p.zOrigin = (m.length > 2 && (0 === u || "0px" !== m[2]) ? parseFloat(m[2]) : u) || 0, o.xs0 = o.e = f[a] = m[0] + " " + (m[1] || "50%") + " 0px", (o = new dt(p, "zOrigin", 0, 0, o, -1, o.n)).b = u, o.xs0 = o.e = p.zOrigin) : o.xs0 = o.e = f[a] = m) : et(m + "", p)), c && (i._transformType = d || 3 === this._transformType ? 3 : 2), o
                    },
                    prefix: !0
                }), ft("boxShadow", {
                    defaultValue: "0px 0px 0px 0px #999",
                    prefix: !0,
                    color: !0,
                    multi: !0,
                    keyword: "inset"
                }), ft("borderRadius", {
                    defaultValue: "0px",
                    parser: function(t, e, a, o, r) {
                        e = this.format(e);
                        var n, h, l, u, m, d, c, g, p, f, _, I, v, D, y, b, w = ["borderTopLeftRadius", "borderTopRightRadius", "borderBottomRightRadius", "borderBottomLeftRadius"],
                            x = t.style;
                        for (p = parseFloat(t.offsetWidth), f = parseFloat(t.offsetHeight), n = e.split(" "), h = 0; w.length > h; h++) this.p.indexOf("border") && (w[h] = V(w[h])), -1 !== (m = u = z(t, w[h], s, !1, "0px")).indexOf(" ") && (u = m.split(" "), m = u[0], u = u[1]), d = l = n[h], c = parseFloat(m), I = m.substr((c + "").length), (v = "=" === d.charAt(1)) ? (g = parseInt(d.charAt(0) + "1", 10), d = d.substr(2), g *= parseFloat(d), _ = d.substr((g + "").length - (0 > g ? 1 : 0)) || "") : (g = parseFloat(d), _ = d.substr((g + "").length)), "" === _ && (_ = i[a] || I), _ !== I && (D = j(t, "borderLeft", c, I), y = j(t, "borderTop", c, I), "%" === _ ? (m = D / p * 100 + "%", u = y / f * 100 + "%") : "em" === _ ? (m = D / (b = j(t, "borderLeft", 1, "em")) + "em", u = y / b + "em") : (m = D + "px", u = y + "px"), v && (d = parseFloat(m) + g + _, l = parseFloat(u) + g + _)), r = ct(x, w[h], m + " " + u, d + " " + l, !1, "0px", r);
                        return r
                    },
                    prefix: !0,
                    formatter: lt("0px 0px 0px 0px", !1, !0)
                }), ft("backgroundPosition", {
                    defaultValue: "0 0",
                    parser: function(t, e, a, i, o, r) {
                        var n, h, l, u, m, d, c = "background-position",
                            p = s || q(t, null),
                            f = this.format((p ? g ? p.getPropertyValue(c + "-x") + " " + p.getPropertyValue(c + "-y") : p.getPropertyValue(c) : t.currentStyle.backgroundPositionX + " " + t.currentStyle.backgroundPositionY) || "0 0"),
                            _ = this.format(e);
                        if (-1 !== f.indexOf("%") != (-1 !== _.indexOf("%")) && ((d = z(t, "backgroundImage").replace(A, "")) && "none" !== d)) {
                            for (n = f.split(" "), h = _.split(" "), F.setAttribute("src", d), l = 2; --l > -1;)(u = -1 !== (f = n[l]).indexOf("%")) !== (-1 !== h[l].indexOf("%")) && (m = 0 === l ? t.offsetWidth - F.width : t.offsetHeight - F.height, n[l] = u ? parseFloat(f) / 100 * m + "px" : parseFloat(f) / m * 100 + "%");
                            f = n.join(" ")
                        }
                        return this.parseComplex(t.style, f, _, o, r)
                    },
                    formatter: et
                }), ft("backgroundSize", {
                    defaultValue: "0 0",
                    formatter: et
                }), ft("perspective", {
                    defaultValue: "0px",
                    prefix: !0
                }), ft("perspectiveOrigin", {
                    defaultValue: "50% 50%",
                    prefix: !0
                }), ft("transformStyle", {
                    prefix: !0
                }), ft("backfaceVisibility", {
                    prefix: !0
                }), ft("margin", {
                    parser: ut("marginTop,marginRight,marginBottom,marginLeft")
                }), ft("padding", {
                    parser: ut("paddingTop,paddingRight,paddingBottom,paddingLeft")
                }), ft("clip", {
                    defaultValue: "rect(0px,0px,0px,0px)",
                    parser: function(t, e, a, i, o, r) {
                        var n, h, l;
                        return 9 > g ? (h = t.currentStyle, l = 8 > g ? " " : ",", n = "rect(" + h.clipTop + l + h.clipRight + l + h.clipBottom + l + h.clipLeft + ")", e = this.format(e).split(",").join(l)) : (n = this.format(z(t, this.p, s, !1, this.dflt)), e = this.format(e)), this.parseComplex(t.style, n, e, o, r)
                    }
                }), ft("textShadow", {
                    defaultValue: "0px 0px 0px #999",
                    color: !0,
                    multi: !0
                }), ft("autoRound,strictUnits", {
                    parser: function(t, e, a, i, s) {
                        return s
                    }
                }), ft("border", {
                    defaultValue: "0px solid #000",
                    parser: function(t, e, a, i, o, r) {
                        return this.parseComplex(t.style, this.format(z(t, "borderTopWidth", s, !1, "0px") + " " + z(t, "borderTopStyle", s, !1, "solid") + " " + z(t, "borderTopColor", s, !1, "#000")), this.format(e), o, r)
                    },
                    color: !0,
                    formatter: function(t) {
                        var e = t.split(" ");
                        return e[0] + " " + (e[1] || "solid") + " " + (t.match(ht) || ["#000"])[0]
                    }
                }), ft("float,cssFloat,styleFloat", {
                    parser: function(t, e, a, i, s) {
                        var o = t.style,
                            r = "cssFloat" in o ? "cssFloat" : "styleFloat";
                        return new dt(o, r, 0, 0, s, -1, a, !1, 0, o[r], e)
                    }
                });
                var Tt = function(t) {
                    var e, a = this.t,
                        i = a.filter || z(this.data, "filter"),
                        s = 0 | this.s + this.c * t;
                    100 === s && (-1 === i.indexOf("atrix(") && -1 === i.indexOf("radient(") ? (a.removeAttribute("filter"), e = !z(this.data, "filter")) : (a.filter = i.replace(b, ""), e = !0)), e || (this.xn1 && (a.filter = i = i || "alpha(opacity=" + s + ")"), -1 === i.indexOf("opacity") ? 0 === s && this.xn1 || (a.filter += " alpha(opacity=" + s + ")") : a.filter = i.replace(D, "opacity=" + s))
                };
                ft("opacity,alpha,autoAlpha", {
                    defaultValue: "1",
                    parser: function(t, e, a, i, o, r) {
                        var n = parseFloat(z(t, "opacity", s, !1, "1")),
                            h = t.style,
                            l = "autoAlpha" === a;
                        return e = parseFloat(e), l && 1 === n && "hidden" === z(t, "visibility", s) && 0 !== e && (n = 0), R ? o = new dt(h, "opacity", n, e - n, o) : ((o = new dt(h, "opacity", 100 * n, 100 * (e - n), o)).xn1 = l ? 1 : 0, h.zoom = 1, o.type = 2, o.b = "alpha(opacity=" + o.s + ")", o.e = "alpha(opacity=" + (o.s + o.c) + ")", o.data = t, o.plugin = r, o.setRatio = Tt), l && ((o = new dt(h, "visibility", 0, 0, o, -1, null, !1, 0, 0 !== n ? "inherit" : "hidden", 0 === e ? "hidden" : "inherit")).xs0 = "inherit", i._overwriteProps.push(o.n)), o
                    }
                });
                var Pt = function(t, e) {
                        e && (t.removeProperty ? t.removeProperty(e.replace(x, "-$1").toLowerCase()) : t.removeAttribute(e))
                    },
                    Et = function(t) {
                        if (this.t._gsClassPT = this, 1 === t || 0 === t) {
                            this.t.className = 0 === t ? this.b : this.e;
                            for (var e = this.data, a = this.t.style; e;) e.v ? a[e.p] = e.v : Pt(a, e.p), e = e._next;
                            1 === t && this.t._gsClassPT === this && (this.t._gsClassPT = null)
                        } else this.t.className !== this.e && (this.t.className = this.e)
                    };
                ft("className", {
                    parser: function(t, e, i, o, r, n, h) {
                        var l, u, m, d, c, g = t.className,
                            p = t.style.cssText;
                        if ((r = o._classNamePT = new dt(t, i, 0, 0, r, 2)).setRatio = Et, r.pr = -11, a = !0, r.b = g, u = Q(t, s), m = t._gsClassPT) {
                            for (d = {}, c = m.data; c;) d[c.p] = 1, c = c._next;
                            m.setRatio(1)
                        }
                        return t._gsClassPT = r, r.e = "=" !== e.charAt(1) ? e : g.replace(RegExp("\\s*\\b" + e.substr(2) + "\\b"), "") + ("+" === e.charAt(0) ? " " + e.substr(2) : ""), o._tween._duration && (t.className = r.e, l = Z(t, u, Q(t), h, d), t.className = g, r.data = l.firstMPT, t.style.cssText = p, r = r.xfirst = o.parse(t, l.difs, r, n)), r
                    }
                });
                var Mt = function(t) {
                    if ((1 === t || 0 === t) && this.data._totalTime === this.data._totalDuration) {
                        if ("all" === this.e) return this.t.style.cssText = "", void(this.t._gsTransform && delete this.t._gsTransform);
                        for (var e, a = this.t.style, i = this.e.split(","), s = i.length, o = n.transform.parse; --s > -1;) e = i[s], n[e] && (e = n[e].parse === o ? vt : n[e].p), Pt(a, e)
                    }
                };
                for (ft("clearProps", {
                        parser: function(t, e, i, s, o) {
                            return (o = new dt(t, i, 0, 0, o, 2)).setRatio = Mt, o.e = e, o.pr = -10, o.data = s._tween, a = !0, o
                        }
                    }), h = "bezier,throwProps,physicsProps,physics2D".split(","), gt = h.length; gt--;) _t(h[gt]);
                (h = r.prototype)._firstPT = null, h._onInitTween = function(t, e, n) {
                    if (!t.nodeType) return !1;
                    this._target = t, this._tween = n, this._vars = e, l = e.autoRound, a = !1, i = e.suffixMap || r.suffixMap, s = q(t, ""), o = this._overwriteProps;
                    var h, d, g, p, f, _, I, v, D, b = t.style;
                    if (u && "" === b.zIndex && (("auto" === (h = z(t, "zIndex", s)) || "" === h) && (b.zIndex = 0)), "string" == typeof e && (p = b.cssText, h = Q(t, s), b.cssText = p + ";" + e, h = Z(t, h, Q(t)).difs, !R && y.test(e) && (h.opacity = parseFloat(RegExp.$1)), e = h, b.cssText = p), this._firstPT = d = this.parse(t, e, null), this._transformType) {
                        for (D = 3 === this._transformType, vt ? m && (u = !0, "" === b.zIndex && (("auto" === (I = z(t, "zIndex", s)) || "" === I) && (b.zIndex = 0)), c && (b.WebkitBackfaceVisibility = this._vars.WebkitBackfaceVisibility || (D ? "visible" : "hidden"))) : b.zoom = 1, g = d; g && g._next;) g = g._next;
                        v = new dt(t, "transform", 0, 0, null, 2), this._linkCSSP(v, null, g), v.setRatio = D && bt ? St : vt ? At : xt, v.data = this._transform || wt(t, s, !0), o.pop()
                    }
                    if (a) {
                        for (; d;) {
                            for (_ = d._next, g = p; g && g.pr > d.pr;) g = g._next;
                            (d._prev = g ? g._prev : f) ? d._prev._next = d: p = d, (d._next = g) ? g._prev = d : f = d, d = _
                        }
                        this._firstPT = p
                    }
                    return !0
                }, h.parse = function(t, e, a, o) {
                    var r, h, u, m, d, c, g, p, f, _, I = t.style;
                    for (r in e) c = e[r], (h = n[r]) ? a = h.parse(t, c, r, this, a, o, e) : (d = z(t, r, s) + "", f = "string" == typeof c, "color" === r || "fill" === r || "stroke" === r || -1 !== r.indexOf("Color") || f && w.test(c) ? (f || (c = ((c = nt(c)).length > 3 ? "rgba(" : "rgb(") + c.join(",") + ")"), a = ct(I, r, d, c, !0, "transparent", a, 0, o)) : !f || -1 === c.indexOf(" ") && -1 === c.indexOf(",") ? (g = (u = parseFloat(d)) || 0 === u ? d.substr((u + "").length) : "", ("" === d || "auto" === d) && ("width" === r || "height" === r ? (u = tt(t, r, s), g = "px") : "left" === r || "top" === r ? (u = K(t, r, s), g = "px") : (u = "opacity" !== r ? 0 : 1, g = "")), (_ = f && "=" === c.charAt(1)) ? (m = parseInt(c.charAt(0) + "1", 10), c = c.substr(2), m *= parseFloat(c), p = c.replace(v, "")) : (m = parseFloat(c), p = f && c.substr((m + "").length) || ""), "" === p && (p = i[r] || g), c = m || 0 === m ? (_ ? m + u : m) + p : e[r], g !== p && "" !== p && (m || 0 === m) && (u || 0 === u) && (u = j(t, r, u, g), "%" === p ? ((u /= j(t, r, 100, "%") / 100) > 100 && (u = 100), !0 !== e.strictUnits && (d = u + "%")) : "em" === p ? u /= j(t, r, 1, "em") : (m = j(t, r, m, p), p = "px"), _ && (m || 0 === m) && (c = m + u + p)), _ && (m += u), !u && 0 !== u || !m && 0 !== m ? void 0 !== I[r] && (c || "NaN" != c + "" && null != c) ? (a = new dt(I, r, m || u || 0, 0, a, -1, r, !1, 0, d, c)).xs0 = "none" !== c || "display" !== r && -1 === r.indexOf("Style") ? c : d : U("invalid " + r + " tween value: " + e[r]) : (a = new dt(I, r, u, m - u, a, 0, r, !1 !== l && ("px" === p || "zIndex" === r), 0, d, c)).xs0 = p) : a = ct(I, r, d, c, !0, null, a, 0, o)), o && a && !a.plugin && (a.plugin = o);
                    return a
                }, h.setRatio = function(t) {
                    var e, a, i, s = this._firstPT,
                        o = 1e-6;
                    if (1 !== t || this._tween._time !== this._tween._duration && 0 !== this._tween._time)
                        if (t || this._tween._time !== this._tween._duration && 0 !== this._tween._time || -1e-6 === this._tween._rawPrevTime)
                            for (; s;) {
                                if (e = s.c * t + s.s, s.r ? e = e > 0 ? 0 | e + .5 : 0 | e - .5 : o > e && e > -o && (e = 0), s.type)
                                    if (1 === s.type)
                                        if (2 === (i = s.l)) s.t[s.p] = s.xs0 + e + s.xs1 + s.xn1 + s.xs2;
                                        else if (3 === i) s.t[s.p] = s.xs0 + e + s.xs1 + s.xn1 + s.xs2 + s.xn2 + s.xs3;
                                else if (4 === i) s.t[s.p] = s.xs0 + e + s.xs1 + s.xn1 + s.xs2 + s.xn2 + s.xs3 + s.xn3 + s.xs4;
                                else if (5 === i) s.t[s.p] = s.xs0 + e + s.xs1 + s.xn1 + s.xs2 + s.xn2 + s.xs3 + s.xn3 + s.xs4 + s.xn4 + s.xs5;
                                else {
                                    for (a = s.xs0 + e + s.xs1, i = 1; s.l > i; i++) a += s["xn" + i] + s["xs" + (i + 1)];
                                    s.t[s.p] = a
                                } else -1 === s.type ? s.t[s.p] = s.xs0 : s.setRatio && s.setRatio(t);
                                else s.t[s.p] = e + s.xs0;
                                s = s._next
                            } else
                                for (; s;) 2 !== s.type ? s.t[s.p] = s.b : s.setRatio(t), s = s._next;
                        else
                            for (; s;) 2 !== s.type ? s.t[s.p] = s.e : s.setRatio(t), s = s._next
                }, h._enableTransforms = function(t) {
                    this._transformType = t || 3 === this._transformType ? 3 : 2, this._transform = this._transform || wt(this._target, s, !0)
                }, h._linkCSSP = function(t, e, a, i) {
                    return t && (e && (e._prev = t), t._next && (t._next._prev = t._prev), t._prev ? t._prev._next = t._next : this._firstPT === t && (this._firstPT = t._next, i = !0), a ? a._next = t : i || null !== this._firstPT || (this._firstPT = t), t._next = e, t._prev = a), t
                }, h._kill = function(e) {
                    var a, i, s, o = e;
                    if (e.autoAlpha || e.alpha) {
                        for (i in o = {}, e) o[i] = e[i];
                        o.opacity = 1, o.autoAlpha && (o.visibility = 1)
                    }
                    return e.className && (a = this._classNamePT) && ((s = a.xfirst) && s._prev ? this._linkCSSP(s._prev, a._next, s._prev._prev) : s === this._firstPT && (this._firstPT = a._next), a._next && this._linkCSSP(a._next, a._next._next, s._prev), this._classNamePT = null), t.prototype._kill.call(this, o)
                };
                var kt = function(t, e, a) {
                    var i, s, o, r;
                    if (t.slice)
                        for (s = t.length; --s > -1;) kt(t[s], e, a);
                    else
                        for (s = (i = t.childNodes).length; --s > -1;) r = (o = i[s]).type, o.style && (e.push(Q(o)), a && a.push(o)), 1 !== r && 9 !== r && 11 !== r || !o.childNodes.length || kt(o, e, a)
                };
                return r.cascadeTo = function(t, a, i) {
                    var s, o, r, n = e.to(t, a, i),
                        h = [n],
                        l = [],
                        u = [],
                        m = [],
                        d = e._internals.reservedProps;
                    for (t = n._targets || n.target, kt(t, l, m), n.render(a, !0), kt(t, u), n.render(0, !0), n._enabled(!0), s = 0; --s > -1;)
                        if ((o = Z(m[s], l[s], u[s])).firstMPT) {
                            for (r in o = o.difs, i) d[r] && (o[r] = i[r]);
                            h.push(e.to(m[s], a, o))
                        }
                    return h
                }, t.activate([r]), r
            }), !0),
            function() {
                var t = window._gsDefine.plugin({
                        propName: "roundProps",
                        priority: -1,
                        API: 2,
                        init: function(t, e, a) {
                            return this._tween = a, !0
                        }
                    }),
                    e = t.prototype;
                e._onInitAllProps = function() {
                    for (var t, e, a, i = this._tween, s = i.vars.roundProps instanceof Array ? i.vars.roundProps : i.vars.roundProps.split(","), o = s.length, r = {}, n = i._propLookup.roundProps; --o > -1;) r[s[o]] = 1;
                    for (o = s.length; --o > -1;)
                        for (t = s[o], e = i._firstPT; e;) a = e._next, e.pg ? e.t._roundProps(r, !0) : e.n === t && (this._add(e.t, t, e.s, e.c), a && (a._prev = e._prev), e._prev ? e._prev._next = a : i._firstPT === e && (i._firstPT = a), e._next = e._prev = null, i._propLookup[t] = n), e = a;
                    return !1
                }, e._add = function(t, e, a, i) {
                    this._addTween(t, e, a, a + i, e, !0), this._overwriteProps.push(e)
                }
            }(), window._gsDefine.plugin({
                propName: "attr",
                API: 2,
                init: function(t, e) {
                    var a;
                    if ("function" != typeof t.setAttribute) return !1;
                    for (a in this._target = t, this._proxy = {}, e) this._addTween(this._proxy, a, parseFloat(t.getAttribute(a)), e[a], a) && this._overwriteProps.push(a);
                    return !0
                },
                set: function(t) {
                    this._super.setRatio.call(this, t);
                    for (var e, a = this._overwriteProps, i = a.length; --i > -1;) e = a[i], this._target.setAttribute(e, this._proxy[e] + "")
                }
            }), window._gsDefine.plugin({
                propName: "directionalRotation",
                API: 2,
                init: function(t, e) {
                    "object" != typeof e && (e = {
                        rotation: e
                    }), this.finals = {};
                    var a, i, s, o, r, n = !0 === e.useRadians ? 2 * Math.PI : 360,
                        h = 1e-6;
                    for (a in e) "useRadians" !== a && (i = (r = (e[a] + "").split("_"))[0], s = parseFloat("function" != typeof t[a] ? t[a] : t[a.indexOf("set") || "function" != typeof t["get" + a.substr(3)] ? a : "get" + a.substr(3)]()), o = (this.finals[a] = "string" == typeof i && "=" === i.charAt(1) ? s + parseInt(i.charAt(0) + "1", 10) * Number(i.substr(2)) : Number(i) || 0) - s, r.length && (-1 !== (i = r.join("_")).indexOf("short") && ((o %= n) !== o % (n / 2) && (o = 0 > o ? o + n : o - n)), -1 !== i.indexOf("_cw") && 0 > o ? o = (o + 9999999999 * n) % n - (0 | o / n) * n : -1 !== i.indexOf("ccw") && o > 0 && (o = (o - 9999999999 * n) % n - (0 | o / n) * n)), (o > h || -h > o) && (this._addTween(t, a, s, s + o, a), this._overwriteProps.push(a)));
                    return !0
                },
                set: function(t) {
                    var e;
                    if (1 !== t) this._super.setRatio.call(this, t);
                    else
                        for (e = this._firstPT; e;) e.f ? e.t[e.p](this.finals[e.p]) : e.t[e.p] = this.finals[e.p], e = e._next
                }
            })._autoCSS = !0, window._gsDefine("easing.Back", ["easing.Ease"], (function(t) {
                var e, a, i, s = window.GreenSockGlobals || window,
                    o = s.com.greensock,
                    r = 2 * Math.PI,
                    n = Math.PI / 2,
                    h = o._class,
                    l = function(e, a) {
                        var i = h("easing." + e, (function() {}), !0),
                            s = i.prototype = new t;
                        return s.constructor = i, s.getRatio = a, i
                    },
                    u = t.register || function() {},
                    m = function(t, e, a, i) {
                        var s = h("easing." + t, {
                            easeOut: new e,
                            easeIn: new a,
                            easeInOut: new i
                        }, !0);
                        return u(s, t), s
                    },
                    d = function(t, e, a) {
                        this.t = t, this.v = e, a && (this.next = a, a.prev = this, this.c = a.v - e, this.gap = a.t - t)
                    },
                    c = function(e, a) {
                        var i = h("easing." + e, (function(t) {
                                this._p1 = t || 0 === t ? t : 1.70158, this._p2 = 1.525 * this._p1
                            }), !0),
                            s = i.prototype = new t;
                        return s.constructor = i, s.getRatio = a, s.config = function(t) {
                            return new i(t)
                        }, i
                    },
                    g = m("Back", c("BackOut", (function(t) {
                        return (t -= 1) * t * ((this._p1 + 1) * t + this._p1) + 1
                    })), c("BackIn", (function(t) {
                        return t * t * ((this._p1 + 1) * t - this._p1)
                    })), c("BackInOut", (function(t) {
                        return 1 > (t *= 2) ? .5 * t * t * ((this._p2 + 1) * t - this._p2) : .5 * ((t -= 2) * t * ((this._p2 + 1) * t + this._p2) + 2)
                    }))),
                    p = h("easing.SlowMo", (function(t, e, a) {
                        e = e || 0 === e ? e : .7, null == t ? t = .7 : t > 1 && (t = 1), this._p = 1 !== t ? e : 0, this._p1 = (1 - t) / 2, this._p2 = t, this._p3 = this._p1 + this._p2, this._calcEnd = !0 === a
                    }), !0),
                    f = p.prototype = new t;
                return f.constructor = p, f.getRatio = function(t) {
                    var e = t + (.5 - t) * this._p;
                    return this._p1 > t ? this._calcEnd ? 1 - (t = 1 - t / this._p1) * t : e - (t = 1 - t / this._p1) * t * t * t * e : t > this._p3 ? this._calcEnd ? 1 - (t = (t - this._p3) / this._p1) * t : e + (t - e) * (t = (t - this._p3) / this._p1) * t * t * t : this._calcEnd ? 1 : e
                }, p.ease = new p(.7, .7), f.config = p.config = function(t, e, a) {
                    return new p(t, e, a)
                }, e = h("easing.SteppedEase", (function(t) {
                    t = t || 1, this._p1 = 1 / t, this._p2 = t + 1
                }), !0), (f = e.prototype = new t).constructor = e, f.getRatio = function(t) {
                    return 0 > t ? t = 0 : t >= 1 && (t = .999999999), (this._p2 * t >> 0) * this._p1
                }, f.config = e.config = function(t) {
                    return new e(t)
                }, a = h("easing.RoughEase", (function(e) {
                    for (var a, i, s, o, r, n, h = (e = e || {}).taper || "none", l = [], u = 0, m = 0 | (e.points || 20), c = m, g = !1 !== e.randomize, p = !0 === e.clamp, f = e.template instanceof t ? e.template : null, _ = "number" == typeof e.strength ? .4 * e.strength : .4; --c > -1;) a = g ? Math.random() : 1 / m * c, i = f ? f.getRatio(a) : a, "none" === h ? s = _ : "out" === h ? s = (o = 1 - a) * o * _ : "in" === h ? s = a * a * _ : .5 > a ? s = .5 * (o = 2 * a) * o * _ : s = .5 * (o = 2 * (1 - a)) * o * _, g ? i += Math.random() * s - .5 * s : c % 2 ? i += .5 * s : i -= .5 * s, p && (i > 1 ? i = 1 : 0 > i && (i = 0)), l[u++] = {
                        x: a,
                        y: i
                    };
                    for (l.sort((function(t, e) {
                            return t.x - e.x
                        })), n = new d(1, 1, null), c = m; --c > -1;) r = l[c], n = new d(r.x, r.y, n);
                    this._prev = new d(0, 0, 0 !== n.t ? n : n.next)
                }), !0), (f = a.prototype = new t).constructor = a, f.getRatio = function(t) {
                    var e = this._prev;
                    if (t > e.t) {
                        for (; e.next && t >= e.t;) e = e.next;
                        e = e.prev
                    } else
                        for (; e.prev && e.t >= t;) e = e.prev;
                    return this._prev = e, e.v + (t - e.t) / e.gap * e.c
                }, f.config = function(t) {
                    return new a(t)
                }, a.ease = new a, m("Bounce", l("BounceOut", (function(t) {
                    return 1 / 2.75 > t ? 7.5625 * t * t : 2 / 2.75 > t ? 7.5625 * (t -= 1.5 / 2.75) * t + .75 : 2.5 / 2.75 > t ? 7.5625 * (t -= 2.25 / 2.75) * t + .9375 : 7.5625 * (t -= 2.625 / 2.75) * t + .984375
                })), l("BounceIn", (function(t) {
                    return 1 / 2.75 > (t = 1 - t) ? 1 - 7.5625 * t * t : 2 / 2.75 > t ? 1 - (7.5625 * (t -= 1.5 / 2.75) * t + .75) : 2.5 / 2.75 > t ? 1 - (7.5625 * (t -= 2.25 / 2.75) * t + .9375) : 1 - (7.5625 * (t -= 2.625 / 2.75) * t + .984375)
                })), l("BounceInOut", (function(t) {
                    var e = .5 > t;
                    return t = 1 / 2.75 > (t = e ? 1 - 2 * t : 2 * t - 1) ? 7.5625 * t * t : 2 / 2.75 > t ? 7.5625 * (t -= 1.5 / 2.75) * t + .75 : 2.5 / 2.75 > t ? 7.5625 * (t -= 2.25 / 2.75) * t + .9375 : 7.5625 * (t -= 2.625 / 2.75) * t + .984375, e ? .5 * (1 - t) : .5 * t + .5
                }))), m("Circ", l("CircOut", (function(t) {
                    return Math.sqrt(1 - (t -= 1) * t)
                })), l("CircIn", (function(t) {
                    return -(Math.sqrt(1 - t * t) - 1)
                })), l("CircInOut", (function(t) {
                    return 1 > (t *= 2) ? -.5 * (Math.sqrt(1 - t * t) - 1) : .5 * (Math.sqrt(1 - (t -= 2) * t) + 1)
                }))), i = function(e, a, i) {
                    var s = h("easing." + e, (function(t, e) {
                            this._p1 = t || 1, this._p2 = e || i, this._p3 = this._p2 / r * (Math.asin(1 / this._p1) || 0)
                        }), !0),
                        o = s.prototype = new t;
                    return o.constructor = s, o.getRatio = a, o.config = function(t, e) {
                        return new s(t, e)
                    }, s
                }, m("Elastic", i("ElasticOut", (function(t) {
                    return this._p1 * Math.pow(2, -10 * t) * Math.sin((t - this._p3) * r / this._p2) + 1
                }), .3), i("ElasticIn", (function(t) {
                    return -this._p1 * Math.pow(2, 10 * (t -= 1)) * Math.sin((t - this._p3) * r / this._p2)
                }), .3), i("ElasticInOut", (function(t) {
                    return 1 > (t *= 2) ? -.5 * this._p1 * Math.pow(2, 10 * (t -= 1)) * Math.sin((t - this._p3) * r / this._p2) : .5 * this._p1 * Math.pow(2, -10 * (t -= 1)) * Math.sin((t - this._p3) * r / this._p2) + 1
                }), .45)), m("Expo", l("ExpoOut", (function(t) {
                    return 1 - Math.pow(2, -10 * t)
                })), l("ExpoIn", (function(t) {
                    return Math.pow(2, 10 * (t - 1)) - .001
                })), l("ExpoInOut", (function(t) {
                    return 1 > (t *= 2) ? .5 * Math.pow(2, 10 * (t - 1)) : .5 * (2 - Math.pow(2, -10 * (t - 1)))
                }))), m("Sine", l("SineOut", (function(t) {
                    return Math.sin(t * n)
                })), l("SineIn", (function(t) {
                    return 1 - Math.cos(t * n)
                })), l("SineInOut", (function(t) {
                    return -.5 * (Math.cos(Math.PI * t) - 1)
                }))), h("easing.EaseLookup", {
                    find: function(e) {
                        return t.map[e]
                    }
                }, !0), u(s.SlowMo, "SlowMo", "ease,"), u(a, "RoughEase", "ease,"), u(e, "SteppedEase", "ease,"), g
            }), !0)
    })),
    function(t) {
        "use strict";
        var e, a, i, s, o, r = t.GreenSockGlobals || t,
            n = function(t) {
                var e, a = t.split("."),
                    i = r;
                for (e = 0; a.length > e; e++) i[a[e]] = i = i[a[e]] || {};
                return i
            },
            h = n("com.greensock"),
            l = [].slice,
            u = function() {},
            m = {},
            d = function(e, a, i, s) {
                this.sc = m[e] ? m[e].sc : [], m[e] = this, this.gsClass = null, this.func = i;
                var o = [];
                this.check = function(h) {
                    for (var l, u, c, g, p = a.length, f = p; --p > -1;)(l = m[a[p]] || new d(a[p], [])).gsClass ? (o[p] = l.gsClass, f--) : h && l.sc.push(this);
                    if (0 === f && i)
                        for (c = (u = ("com.greensock." + e).split(".")).pop(), g = n(u.join("."))[c] = this.gsClass = i.apply(i, o), s && (r[c] = g, "function" == typeof define && define.amd ? define((t.GreenSockAMDPath ? t.GreenSockAMDPath + "/" : "") + e.split(".").join("/"), [], (function() {
                                return g
                            })) : "undefined" != typeof module && module.exports && (module.exports = g)), p = 0; this.sc.length > p; p++) this.sc[p].check()
                }, this.check(!0)
            },
            c = t._gsDefine = function(t, e, a, i) {
                return new d(t, e, a, i)
            },
            g = h._class = function(t, e, a) {
                return e = e || function() {}, c(t, [], (function() {
                    return e
                }), a), e
            };
        c.globals = r;
        var p = [0, 0, 1, 1],
            f = [],
            _ = g("easing.Ease", (function(t, e, a, i) {
                this._func = t, this._type = a || 0, this._power = i || 0, this._params = e ? p.concat(e) : p
            }), !0),
            I = _.map = {},
            v = _.register = function(t, e, a, i) {
                for (var s, o, r, n, l = e.split(","), u = l.length, m = (a || "easeIn,easeOut,easeInOut").split(","); --u > -1;)
                    for (o = l[u], s = i ? g("easing." + o, null, !0) : h.easing[o] || {}, r = m.length; --r > -1;) n = m[r], I[o + "." + n] = I[n + o] = s[n] = t.getRatio ? t : t[n] || new t
            };
        for ((i = _.prototype)._calcEnd = !1, i.getRatio = function(t) {
                if (this._func) return this._params[0] = t, this._func.apply(null, this._params);
                var e = this._type,
                    a = this._power,
                    i = 1 === e ? 1 - t : 2 === e ? t : .5 > t ? 2 * t : 2 * (1 - t);
                return 1 === a ? i *= i : 2 === a ? i *= i * i : 3 === a ? i *= i * i * i : 4 === a && (i *= i * i * i * i), 1 === e ? 1 - i : 2 === e ? i : .5 > t ? i / 2 : 1 - i / 2
            }, a = (e = ["Linear", "Quad", "Cubic", "Quart", "Quint,Strong"]).length; --a > -1;) i = e[a] + ",Power" + a, v(new _(null, null, 1, a), i, "easeOut", !0), v(new _(null, null, 2, a), i, "easeIn" + (0 === a ? ",easeNone" : "")), v(new _(null, null, 3, a), i, "easeInOut");
        I.linear = h.easing.Linear.easeIn, I.swing = h.easing.Quad.easeInOut;
        var D = g("events.EventDispatcher", (function(t) {
            this._listeners = {}, this._eventTarget = t || this
        }));
        (i = D.prototype).addEventListener = function(t, e, a, i, r) {
            r = r || 0;
            var n, h, l = this._listeners[t],
                u = 0;
            for (null == l && (this._listeners[t] = l = []), h = l.length; --h > -1;)(n = l[h]).c === e && n.s === a ? l.splice(h, 1) : 0 === u && r > n.pr && (u = h + 1);
            l.splice(u, 0, {
                c: e,
                s: a,
                up: i,
                pr: r
            }), this !== s || o || s.wake()
        }, i.removeEventListener = function(t, e) {
            var a, i = this._listeners[t];
            if (i)
                for (a = i.length; --a > -1;)
                    if (i[a].c === e) return void i.splice(a, 1)
        }, i.dispatchEvent = function(t) {
            var e, a, i, s = this._listeners[t];
            if (s)
                for (e = s.length, a = this._eventTarget; --e > -1;)(i = s[e]).up ? i.c.call(i.s || a, {
                    type: t,
                    target: a
                }) : i.c.call(i.s || a)
        };
        var y = t.requestAnimationFrame,
            b = t.cancelAnimationFrame,
            w = Date.now || function() {
                return (new Date).getTime()
            },
            x = w();
        for (a = (e = ["ms", "moz", "webkit", "o"]).length; --a > -1 && !y;) y = t[e[a] + "RequestAnimationFrame"], b = t[e[a] + "CancelAnimationFrame"] || t[e[a] + "CancelRequestAnimationFrame"];
        g("Ticker", (function(t, e) {
            var a, i, r, n, h, l = this,
                m = w(),
                d = !1 !== e && y,
                c = function(t) {
                    x = w(), l.time = (x - m) / 1e3;
                    var e, s = l.time - h;
                    (!a || s > 0 || !0 === t) && (l.frame++, h += s + (s >= n ? .004 : n - s), e = !0), !0 !== t && (r = i(c)), e && l.dispatchEvent("tick")
                };
            D.call(l), this.time = this.frame = 0, this.tick = function() {
                c(!0)
            }, this.sleep = function() {
                null != r && (d && b ? b(r) : clearTimeout(r), i = u, r = null, l === s && (o = !1))
            }, this.wake = function() {
                null !== r && l.sleep(), i = 0 === a ? u : d && y ? y : function(t) {
                    return setTimeout(t, 0 | 1e3 * (h - l.time) + 1)
                }, l === s && (o = !0), c(2)
            }, this.fps = function(t) {
                return arguments.length ? (n = 1 / ((a = t) || 60), h = this.time + n, void l.wake()) : a
            }, this.useRAF = function(t) {
                return arguments.length ? (l.sleep(), d = t, void l.fps(a)) : d
            }, l.fps(t), setTimeout((function() {
                d && (!r || 5 > l.frame) && l.useRAF(!1)
            }), 1500)
        })), (i = h.Ticker.prototype = new h.events.EventDispatcher).constructor = h.Ticker;
        var S = g("core.Animation", (function(t, e) {
            if (this.vars = e = e || {}, this._duration = this._totalDuration = t || 0, this._delay = Number(e.delay) || 0, this._timeScale = 1, this._active = !0 === e.immediateRender, this.data = e.data, this._reversed = !0 === e.reversed, F) {
                o || s.wake();
                var a = this.vars.useFrames ? G : F;
                a.add(this, a._time), this.vars.paused && this.paused(!0)
            }
        }));
        s = S.ticker = new h.Ticker, (i = S.prototype)._dirty = i._gc = i._initted = i._paused = !1, i._totalTime = i._time = 0, i._rawPrevTime = -1, i._next = i._last = i._onUpdate = i._timeline = i.timeline = null, i._paused = !1;
        var A = function() {
            w() - x > 2e3 && s.wake(), setTimeout(A, 2e3)
        };
        A(), i.play = function(t, e) {
            return arguments.length && this.seek(t, e), this.reversed(!1).paused(!1)
        }, i.pause = function(t, e) {
            return arguments.length && this.seek(t, e), this.paused(!0)
        }, i.resume = function(t, e) {
            return arguments.length && this.seek(t, e), this.paused(!1)
        }, i.seek = function(t, e) {
            return this.totalTime(Number(t), !1 !== e)
        }, i.restart = function(t, e) {
            return this.reversed(!1).paused(!1).totalTime(t ? -this._delay : 0, !1 !== e, !0)
        }, i.reverse = function(t, e) {
            return arguments.length && this.seek(t || this.totalDuration(), e), this.reversed(!0).paused(!1)
        }, i.render = function() {}, i.invalidate = function() {
            return this
        }, i._enabled = function(t, e) {
            return o || s.wake(), this._gc = !t, this._active = t && !this._paused && this._totalTime > 0 && this._totalTime < this._totalDuration, !0 !== e && (t && !this.timeline ? this._timeline.add(this, this._startTime - this._delay) : !t && this.timeline && this._timeline._remove(this, !0)), !1
        }, i._kill = function() {
            return this._enabled(!1, !1)
        }, i.kill = function(t, e) {
            return this._kill(t, e), this
        }, i._uncache = function(t) {
            for (var e = t ? this : this.timeline; e;) e._dirty = !0, e = e.timeline;
            return this
        }, i._swapSelfInParams = function(t) {
            for (var e = t.length, a = t.concat(); --e > -1;) "{self}" === t[e] && (a[e] = this);
            return a
        }, i.eventCallback = function(t, e, a, i) {
            if ("on" === (t || "").substr(0, 2)) {
                var s = this.vars;
                if (1 === arguments.length) return s[t];
                null == e ? delete s[t] : (s[t] = e, s[t + "Params"] = a instanceof Array && -1 !== a.join("").indexOf("{self}") ? this._swapSelfInParams(a) : a, s[t + "Scope"] = i), "onUpdate" === t && (this._onUpdate = e)
            }
            return this
        }, i.delay = function(t) {
            return arguments.length ? (this._timeline.smoothChildTiming && this.startTime(this._startTime + t - this._delay), this._delay = t, this) : this._delay
        }, i.duration = function(t) {
            return arguments.length ? (this._duration = this._totalDuration = t, this._uncache(!0), this._timeline.smoothChildTiming && this._time > 0 && this._time < this._duration && 0 !== t && this.totalTime(this._totalTime * (t / this._duration), !0), this) : (this._dirty = !1, this._duration)
        }, i.totalDuration = function(t) {
            return this._dirty = !1, arguments.length ? this.duration(t) : this._totalDuration
        }, i.time = function(t, e) {
            return arguments.length ? (this._dirty && this.totalDuration(), this.totalTime(t > this._duration ? this._duration : t, e)) : this._time
        }, i.totalTime = function(t, e, a) {
            if (o || s.wake(), !arguments.length) return this._totalTime;
            if (this._timeline) {
                if (0 > t && !a && (t += this.totalDuration()), this._timeline.smoothChildTiming) {
                    this._dirty && this.totalDuration();
                    var i = this._totalDuration,
                        r = this._timeline;
                    if (t > i && !a && (t = i), this._startTime = (this._paused ? this._pauseTime : r._time) - (this._reversed ? i - t : t) / this._timeScale, r._dirty || this._uncache(!1), r._timeline)
                        for (; r._timeline;) r._timeline._time !== (r._startTime + r._totalTime) / r._timeScale && r.totalTime(r._totalTime, !0), r = r._timeline
                }
                this._gc && this._enabled(!0, !1), this._totalTime !== t && this.render(t, e, !1)
            }
            return this
        }, i.startTime = function(t) {
            return arguments.length ? (t !== this._startTime && (this._startTime = t, this.timeline && this.timeline._sortChildren && this.timeline.add(this, t - this._delay)), this) : this._startTime
        }, i.timeScale = function(t) {
            if (!arguments.length) return this._timeScale;
            if (t = t || 1e-6, this._timeline && this._timeline.smoothChildTiming) {
                var e = this._pauseTime,
                    a = e || 0 === e ? e : this._timeline.totalTime();
                this._startTime = a - (a - this._startTime) * this._timeScale / t
            }
            return this._timeScale = t, this._uncache(!1)
        }, i.reversed = function(t) {
            return arguments.length ? (t != this._reversed && (this._reversed = t, this.totalTime(this._totalTime, !0)), this) : this._reversed
        }, i.paused = function(t) {
            if (!arguments.length) return this._paused;
            if (t != this._paused && this._timeline) {
                o || t || s.wake();
                var e = this._timeline,
                    a = e.rawTime(),
                    i = a - this._pauseTime;
                !t && e.smoothChildTiming && (this._startTime += i, this._uncache(!1)), this._pauseTime = t ? a : null, this._paused = t, this._active = !t && this._totalTime > 0 && this._totalTime < this._totalDuration, t || 0 === i || 0 === this._duration || this.render(e.smoothChildTiming ? this._totalTime : (a - this._startTime) / this._timeScale, !0, !0)
            }
            return this._gc && !t && this._enabled(!0, !1), this
        };
        var T = g("core.SimpleTimeline", (function(t) {
            S.call(this, 0, t), this.autoRemoveChildren = this.smoothChildTiming = !0
        }));
        (i = T.prototype = new S).constructor = T, i.kill()._gc = !1, i._first = i._last = null, i._sortChildren = !1, i.add = i.insert = function(t, e) {
            var a, i;
            if (t._startTime = Number(e || 0) + t._delay, t._paused && this !== t._timeline && (t._pauseTime = t._startTime + (this.rawTime() - t._startTime) / t._timeScale), t.timeline && t.timeline._remove(t, !0), t.timeline = t._timeline = this, t._gc && t._enabled(!0, !0), a = this._last, this._sortChildren)
                for (i = t._startTime; a && a._startTime > i;) a = a._prev;
            return a ? (t._next = a._next, a._next = t) : (t._next = this._first, this._first = t), t._next ? t._next._prev = t : this._last = t, t._prev = a, this._timeline && this._uncache(!0), this
        }, i._remove = function(t, e) {
            return t.timeline === this && (e || t._enabled(!1, !0), t.timeline = null, t._prev ? t._prev._next = t._next : this._first === t && (this._first = t._next), t._next ? t._next._prev = t._prev : this._last === t && (this._last = t._prev), this._timeline && this._uncache(!0)), this
        }, i.render = function(t, e, a) {
            var i, s = this._first;
            for (this._totalTime = this._time = this._rawPrevTime = t; s;) i = s._next, (s._active || t >= s._startTime && !s._paused) && (s._reversed ? s.render((s._dirty ? s.totalDuration() : s._totalDuration) - (t - s._startTime) * s._timeScale, e, a) : s.render((t - s._startTime) * s._timeScale, e, a)), s = i
        }, i.rawTime = function() {
            return o || s.wake(), this._totalTime
        };
        var P = g("TweenLite", (function(e, a, i) {
                if (S.call(this, a, i), this.render = P.prototype.render, null == e) throw "Cannot tween a null target.";
                this.target = e = "string" != typeof e ? e : P.selector(e) || e;
                var s, o, r, n = e.jquery || e.length && e !== t && e[0] && (e[0] === t || e[0].nodeType && e[0].style && !e.nodeType),
                    h = this.vars.overwrite;
                if (this._overwrite = h = null == h ? C[P.defaultOverwrite] : "number" == typeof h ? h >> 0 : C[h], (n || e instanceof Array) && "number" != typeof e[0])
                    for (this._targets = r = l.call(e, 0), this._propLookup = [], this._siblings = [], s = 0; r.length > s; s++)(o = r[s]) ? "string" != typeof o ? o.length && o !== t && o[0] && (o[0] === t || o[0].nodeType && o[0].style && !o.nodeType) ? (r.splice(s--, 1), this._targets = r = r.concat(l.call(o, 0))) : (this._siblings[s] = N(o, this, !1), 1 === h && this._siblings[s].length > 1 && Y(o, this, null, 1, this._siblings[s])) : "string" == typeof(o = r[s--] = P.selector(o)) && r.splice(s + 1, 1) : r.splice(s--, 1);
                else this._propLookup = {}, this._siblings = N(e, this, !1), 1 === h && this._siblings.length > 1 && Y(e, this, null, 1, this._siblings);
                (this.vars.immediateRender || 0 === a && 0 === this._delay && !1 !== this.vars.immediateRender) && this.render(-this._delay, !1, !0)
            }), !0),
            E = function(e) {
                return e.length && e !== t && e[0] && (e[0] === t || e[0].nodeType && e[0].style && !e.nodeType)
            };
        (i = P.prototype = new S).constructor = P, i.kill()._gc = !1, i.ratio = 0, i._firstPT = i._targets = i._overwrittenProps = i._startAt = null, i._notifyPluginsOfEnabled = !1, P.version = "1.10.2", P.defaultEase = i._ease = new _(null, null, 1, 1), P.defaultOverwrite = "auto", P.ticker = s, P.autoSleep = !0, P.selector = t.$ || t.jQuery || function(e) {
            return t.$ ? (P.selector = t.$, t.$(e)) : t.document ? t.document.getElementById("#" === e.charAt(0) ? e.substr(1) : e) : e
        };
        var M = P._internals = {},
            k = P._plugins = {},
            H = P._tweenLookup = {},
            L = 0,
            B = M.reservedProps = {
                ease: 1,
                delay: 1,
                overwrite: 1,
                onComplete: 1,
                onCompleteParams: 1,
                onCompleteScope: 1,
                useFrames: 1,
                runBackwards: 1,
                startAt: 1,
                onUpdate: 1,
                onUpdateParams: 1,
                onUpdateScope: 1,
                onStart: 1,
                onStartParams: 1,
                onStartScope: 1,
                onReverseComplete: 1,
                onReverseCompleteParams: 1,
                onReverseCompleteScope: 1,
                onRepeat: 1,
                onRepeatParams: 1,
                onRepeatScope: 1,
                easeParams: 1,
                yoyo: 1,
                immediateRender: 1,
                repeat: 1,
                repeatDelay: 1,
                data: 1,
                paused: 1,
                reversed: 1,
                autoCSS: 1
            },
            C = {
                none: 0,
                all: 1,
                auto: 2,
                concurrent: 3,
                allOnStart: 4,
                preexisting: 5,
                true: 1,
                false: 0
            },
            G = S._rootFramesTimeline = new T,
            F = S._rootTimeline = new T;
        F._startTime = s.time, G._startTime = s.frame, F._active = G._active = !0, S._updateRoot = function() {
            if (F.render((s.time - F._startTime) * F._timeScale, !1, !1), G.render((s.frame - G._startTime) * G._timeScale, !1, !1), !(s.frame % 120)) {
                var t, e, a;
                for (a in H) {
                    for (t = (e = H[a].tweens).length; --t > -1;) e[t]._gc && e.splice(t, 1);
                    0 === e.length && delete H[a]
                }
                if ((!(a = F._first) || a._paused) && P.autoSleep && !G._first && 1 === s._listeners.tick.length) {
                    for (; a && a._paused;) a = a._next;
                    a || s.sleep()
                }
            }
        }, s.addEventListener("tick", S._updateRoot);
        var N = function(t, e, a) {
                var i, s, o = t._gsTweenID;
                if (H[o || (t._gsTweenID = o = "t" + L++)] || (H[o] = {
                        target: t,
                        tweens: []
                    }), e && ((i = H[o].tweens)[s = i.length] = e, a))
                    for (; --s > -1;) i[s] === e && i.splice(s, 1);
                return H[o].tweens
            },
            Y = function(t, e, a, i, s) {
                var o, r, n, h;
                if (1 === i || i >= 4) {
                    for (h = s.length, o = 0; h > o; o++)
                        if ((n = s[o]) !== e) n._gc || n._enabled(!1, !1) && (r = !0);
                        else if (5 === i) break;
                    return r
                }
                var l, u = e._startTime + 1e-10,
                    m = [],
                    d = 0,
                    c = 0 === e._duration;
                for (o = s.length; --o > -1;)(n = s[o]) === e || n._gc || n._paused || (n._timeline !== e._timeline ? (l = l || R(e, 0, c), 0 === R(n, l, c) && (m[d++] = n)) : u >= n._startTime && n._startTime + n.totalDuration() / n._timeScale + 1e-10 > u && ((c || !n._initted) && 2e-10 >= u - n._startTime || (m[d++] = n)));
                for (o = d; --o > -1;) n = m[o], 2 === i && n._kill(a, t) && (r = !0), (2 !== i || !n._firstPT && n._initted) && n._enabled(!1, !1) && (r = !0);
                return r
            },
            R = function(t, e, a) {
                for (var i = t._timeline, s = i._timeScale, o = t._startTime, r = 1e-10; i._timeline;) {
                    if (o += i._startTime, s *= i._timeScale, i._paused) return -100;
                    i = i._timeline
                }
                return (o /= s) > e ? o - e : a && o === e || !t._initted && 2 * r > o - e ? r : (o += t.totalDuration() / t._timeScale / s) > e + r ? 0 : o - e - r
            };
        i._init = function() {
            var t, e, a, i, s = this.vars,
                o = this._overwrittenProps,
                r = this._duration,
                n = s.immediateRender,
                h = s.ease;
            if (s.startAt) {
                if (this._startAt && this._startAt.render(-1, !0), s.startAt.overwrite = 0, s.startAt.immediateRender = !0, this._startAt = P.to(this.target, 0, s.startAt), n)
                    if (this._time > 0) this._startAt = null;
                    else if (0 !== r) return
            } else if (s.runBackwards && s.immediateRender && 0 !== r)
                if (this._startAt) this._startAt.render(-1, !0), this._startAt = null;
                else if (0 === this._time) {
                for (i in a = {}, s) B[i] && "autoCSS" !== i || (a[i] = s[i]);
                return a.overwrite = 0, void(this._startAt = P.to(this.target, 0, a))
            }
            if (this._ease = h ? h instanceof _ ? s.easeParams instanceof Array ? h.config.apply(h, s.easeParams) : h : "function" == typeof h ? new _(h, s.easeParams) : I[h] || P.defaultEase : P.defaultEase, this._easeType = this._ease._type, this._easePower = this._ease._power, this._firstPT = null, this._targets)
                for (t = this._targets.length; --t > -1;) this._initProps(this._targets[t], this._propLookup[t] = {}, this._siblings[t], o ? o[t] : null) && (e = !0);
            else e = this._initProps(this.target, this._propLookup, this._siblings, o);
            if (e && P._onPluginEvent("_onInitAllProps", this), o && (this._firstPT || "function" != typeof this.target && this._enabled(!1, !1)), s.runBackwards)
                for (a = this._firstPT; a;) a.s += a.c, a.c = -a.c, a = a._next;
            this._onUpdate = s.onUpdate, this._initted = !0
        }, i._initProps = function(e, a, i, s) {
            var o, r, n, h, l, u;
            if (null == e) return !1;
            for (o in this.vars.css || e.style && e !== t && e.nodeType && k.css && !1 !== this.vars.autoCSS && function(t, e) {
                    var a, i = {};
                    for (a in t) B[a] || a in e && "x" !== a && "y" !== a && "width" !== a && "height" !== a && "className" !== a && "border" !== a || !(!k[a] || k[a] && k[a]._autoCSS) || (i[a] = t[a], delete t[a]);
                    t.css = i
                }(this.vars, e), this.vars) {
                if (u = this.vars[o], B[o]) u instanceof Array && -1 !== u.join("").indexOf("{self}") && (this.vars[o] = u = this._swapSelfInParams(u, this));
                else if (k[o] && (h = new k[o])._onInitTween(e, this.vars[o], this)) {
                    for (this._firstPT = l = {
                            _next: this._firstPT,
                            t: h,
                            p: "setRatio",
                            s: 0,
                            c: 1,
                            f: !0,
                            n: o,
                            pg: !0,
                            pr: h._priority
                        }, r = h._overwriteProps.length; --r > -1;) a[h._overwriteProps[r]] = this._firstPT;
                    (h._priority || h._onInitAllProps) && (n = !0), (h._onDisable || h._onEnable) && (this._notifyPluginsOfEnabled = !0)
                } else this._firstPT = a[o] = l = {
                    _next: this._firstPT,
                    t: e,
                    p: o,
                    f: "function" == typeof e[o],
                    n: o,
                    pg: !1,
                    pr: 0
                }, l.s = l.f ? e[o.indexOf("set") || "function" != typeof e["get" + o.substr(3)] ? o : "get" + o.substr(3)]() : parseFloat(e[o]), l.c = "string" == typeof u && "=" === u.charAt(1) ? parseInt(u.charAt(0) + "1", 10) * Number(u.substr(2)) : Number(u) - l.s || 0;
                l && l._next && (l._next._prev = l)
            }
            return s && this._kill(s, e) ? this._initProps(e, a, i, s) : this._overwrite > 1 && this._firstPT && i.length > 1 && Y(e, this, a, this._overwrite, i) ? (this._kill(a, e), this._initProps(e, a, i, s)) : n
        }, i.render = function(t, e, a) {
            var i, s, o, r = this._time;
            if (t >= this._duration) this._totalTime = this._time = this._duration, this.ratio = this._ease._calcEnd ? this._ease.getRatio(1) : 1, this._reversed || (i = !0, s = "onComplete"), 0 === this._duration && ((0 === t || 0 > this._rawPrevTime) && this._rawPrevTime !== t && (a = !0, this._rawPrevTime > 0 && (s = "onReverseComplete", e && (t = -1))), this._rawPrevTime = t);
            else if (1e-7 > t) this._totalTime = this._time = 0, this.ratio = this._ease._calcEnd ? this._ease.getRatio(0) : 0, (0 !== r || 0 === this._duration && this._rawPrevTime > 0) && (s = "onReverseComplete", i = this._reversed), 0 > t ? (this._active = !1, 0 === this._duration && (this._rawPrevTime >= 0 && (a = !0), this._rawPrevTime = t)) : this._initted || (a = !0);
            else if (this._totalTime = this._time = t, this._easeType) {
                var n = t / this._duration,
                    h = this._easeType,
                    l = this._easePower;
                (1 === h || 3 === h && n >= .5) && (n = 1 - n), 3 === h && (n *= 2), 1 === l ? n *= n : 2 === l ? n *= n * n : 3 === l ? n *= n * n * n : 4 === l && (n *= n * n * n * n), this.ratio = 1 === h ? 1 - n : 2 === h ? n : .5 > t / this._duration ? n / 2 : 1 - n / 2
            } else this.ratio = this._ease.getRatio(t / this._duration);
            if (this._time !== r || a) {
                if (!this._initted) {
                    if (this._init(), !this._initted) return;
                    this._time && !i ? this.ratio = this._ease.getRatio(this._time / this._duration) : i && this._ease._calcEnd && (this.ratio = this._ease.getRatio(0 === this._time ? 0 : 1))
                }
                for (this._active || !this._paused && this._time !== r && t >= 0 && (this._active = !0), 0 === r && (this._startAt && (t >= 0 ? this._startAt.render(t, e, a) : s || (s = "_dummyGS")), this.vars.onStart && (0 !== this._time || 0 === this._duration) && (e || this.vars.onStart.apply(this.vars.onStartScope || this, this.vars.onStartParams || f))), o = this._firstPT; o;) o.f ? o.t[o.p](o.c * this.ratio + o.s) : o.t[o.p] = o.c * this.ratio + o.s, o = o._next;
                this._onUpdate && (0 > t && this._startAt && this._startAt.render(t, e, a), e || this._onUpdate.apply(this.vars.onUpdateScope || this, this.vars.onUpdateParams || f)), s && (this._gc || (0 > t && this._startAt && !this._onUpdate && this._startAt.render(t, e, a), i && (this._timeline.autoRemoveChildren && this._enabled(!1, !1), this._active = !1), !e && this.vars[s] && this.vars[s].apply(this.vars[s + "Scope"] || this, this.vars[s + "Params"] || f)))
            }
        }, i._kill = function(t, e) {
            if ("all" === t && (t = null), null == t && (null == e || e === this.target)) return this._enabled(!1, !1);
            var a, i, s, o, r, n, h, l;
            if (((e = "string" != typeof e ? e || this._targets || this.target : P.selector(e) || e) instanceof Array || E(e)) && "number" != typeof e[0])
                for (a = e.length; --a > -1;) this._kill(t, e[a]) && (n = !0);
            else {
                if (this._targets) {
                    for (a = this._targets.length; --a > -1;)
                        if (e === this._targets[a]) {
                            r = this._propLookup[a] || {}, this._overwrittenProps = this._overwrittenProps || [], i = this._overwrittenProps[a] = t ? this._overwrittenProps[a] || {} : "all";
                            break
                        }
                } else {
                    if (e !== this.target) return !1;
                    r = this._propLookup, i = this._overwrittenProps = t ? this._overwrittenProps || {} : "all"
                }
                if (r) {
                    for (s in h = t || r, l = t !== i && "all" !== i && t !== r && (null == t || !0 !== t._tempKill), h)(o = r[s]) && (o.pg && o.t._kill(h) && (n = !0), o.pg && 0 !== o.t._overwriteProps.length || (o._prev ? o._prev._next = o._next : o === this._firstPT && (this._firstPT = o._next), o._next && (o._next._prev = o._prev), o._next = o._prev = null), delete r[s]), l && (i[s] = 1);
                    !this._firstPT && this._initted && this._enabled(!1, !1)
                }
            }
            return n
        }, i.invalidate = function() {
            return this._notifyPluginsOfEnabled && P._onPluginEvent("_onDisable", this), this._firstPT = null, this._overwrittenProps = null, this._onUpdate = null, this._startAt = null, this._initted = this._active = this._notifyPluginsOfEnabled = !1, this._propLookup = this._targets ? {} : [], this
        }, i._enabled = function(t, e) {
            if (o || s.wake(), t && this._gc) {
                var a, i = this._targets;
                if (i)
                    for (a = i.length; --a > -1;) this._siblings[a] = N(i[a], this, !0);
                else this._siblings = N(this.target, this, !0)
            }
            return S.prototype._enabled.call(this, t, e), !(!this._notifyPluginsOfEnabled || !this._firstPT) && P._onPluginEvent(t ? "_onEnable" : "_onDisable", this)
        }, P.to = function(t, e, a) {
            return new P(t, e, a)
        }, P.from = function(t, e, a) {
            return a.runBackwards = !0, a.immediateRender = 0 != a.immediateRender, new P(t, e, a)
        }, P.fromTo = function(t, e, a, i) {
            return i.startAt = a, i.immediateRender = 0 != i.immediateRender && 0 != a.immediateRender, new P(t, e, i)
        }, P.delayedCall = function(t, e, a, i, s) {
            return new P(e, 0, {
                delay: t,
                onComplete: e,
                onCompleteParams: a,
                onCompleteScope: i,
                onReverseComplete: e,
                onReverseCompleteParams: a,
                onReverseCompleteScope: i,
                immediateRender: !1,
                useFrames: s,
                overwrite: 0
            })
        }, P.set = function(t, e) {
            return new P(t, 0, e)
        }, P.killTweensOf = P.killDelayedCallsTo = function(t, e) {
            for (var a = P.getTweensOf(t), i = a.length; --i > -1;) a[i]._kill(e, t)
        }, P.getTweensOf = function(t) {
            if (null == t) return [];
            var e, a, i, s;
            if (((t = "string" != typeof t ? t : P.selector(t) || t) instanceof Array || E(t)) && "number" != typeof t[0]) {
                for (e = t.length, a = []; --e > -1;) a = a.concat(P.getTweensOf(t[e]));
                for (e = a.length; --e > -1;)
                    for (s = a[e], i = e; --i > -1;) s === a[i] && a.splice(e, 1)
            } else
                for (e = (a = N(t).concat()).length; --e > -1;) a[e]._gc && a.splice(e, 1);
            return a
        };
        var O = g("plugins.TweenPlugin", (function(t, e) {
            this._overwriteProps = (t || "").split(","), this._propName = this._overwriteProps[0], this._priority = e || 0, this._super = O.prototype
        }), !0);
        if (i = O.prototype, O.version = "1.10.1", O.API = 2, i._firstPT = null, i._addTween = function(t, e, a, i, s, o) {
                var r, n;
                return null != i && (r = "number" == typeof i || "=" !== i.charAt(1) ? Number(i) - a : parseInt(i.charAt(0) + "1", 10) * Number(i.substr(2))) ? (this._firstPT = n = {
                    _next: this._firstPT,
                    t: t,
                    p: e,
                    s: a,
                    c: r,
                    f: "function" == typeof t[e],
                    n: s || e,
                    r: o
                }, n._next && (n._next._prev = n), n) : void 0
            }, i.setRatio = function(t) {
                for (var e, a = this._firstPT, i = 1e-6; a;) e = a.c * t + a.s, a.r ? e = 0 | e + (e > 0 ? .5 : -.5) : i > e && e > -i && (e = 0), a.f ? a.t[a.p](e) : a.t[a.p] = e, a = a._next
            }, i._kill = function(t) {
                var e, a = this._overwriteProps,
                    i = this._firstPT;
                if (null != t[this._propName]) this._overwriteProps = [];
                else
                    for (e = a.length; --e > -1;) null != t[a[e]] && a.splice(e, 1);
                for (; i;) null != t[i.n] && (i._next && (i._next._prev = i._prev), i._prev ? (i._prev._next = i._next, i._prev = null) : this._firstPT === i && (this._firstPT = i._next)), i = i._next;
                return !1
            }, i._roundProps = function(t, e) {
                for (var a = this._firstPT; a;)(t[this._propName] || null != a.n && t[a.n.split(this._propName + "_").join("")]) && (a.r = e), a = a._next
            }, P._onPluginEvent = function(t, e) {
                var a, i, s, o, r, n = e._firstPT;
                if ("_onInitAllProps" === t) {
                    for (; n;) {
                        for (r = n._next, i = s; i && i.pr > n.pr;) i = i._next;
                        (n._prev = i ? i._prev : o) ? n._prev._next = n: s = n, (n._next = i) ? i._prev = n : o = n, n = r
                    }
                    n = e._firstPT = s
                }
                for (; n;) n.pg && "function" == typeof n.t[t] && n.t[t]() && (a = !0), n = n._next;
                return a
            }, O.activate = function(t) {
                for (var e = t.length; --e > -1;) t[e].API === O.API && (k[(new t[e])._propName] = t[e]);
                return !0
            }, c.plugin = function(t) {
                if (!(t && t.propName && t.init && t.API)) throw "illegal plugin definition.";
                var e, a = t.propName,
                    i = t.priority || 0,
                    s = t.overwriteProps,
                    o = {
                        init: "_onInitTween",
                        set: "setRatio",
                        kill: "_kill",
                        round: "_roundProps",
                        initAll: "_onInitAllProps"
                    },
                    r = g("plugins." + a.charAt(0).toUpperCase() + a.substr(1) + "Plugin", (function() {
                        O.call(this, a, i), this._overwriteProps = s || []
                    }), !0 === t.global),
                    n = r.prototype = new O(a);
                for (e in n.constructor = r, r.API = t.API, o) "function" == typeof t[e] && (n[o[e]] = t[e]);
                return r.version = t.version, O.activate([r]), r
            }, e = t._gsQueue) {
            for (a = 0; e.length > a; a++) e[a]();
            for (i in m) m[i].func || t.console.log("GSAP encountered missing dependency: com.greensock." + i)
        }
        o = !1
    }(window),
    function() {
        "use strict";
        var t = function() {
            this.init()
        };
        t.prototype = {
            init: function() {
                var t = this || e;
                return t._counter = 1e3, t._codecs = {}, t._howls = [], t._muted = !1, t._volume = 1, t._canPlayEvent = "canplaythrough", t._navigator = "undefined" != typeof window && window.navigator ? window.navigator : null, t.masterGain = null, t.noAudio = !1, t.usingWebAudio = !0, t.autoSuspend = !0, t.ctx = null, t.mobileAutoEnable = !0, t._setup(), t
            },
            volume: function(t) {
                var a = this || e;
                if (t = parseFloat(t), a.ctx || l(), void 0 !== t && t >= 0 && t <= 1) {
                    if (a._volume = t, a._muted) return a;
                    a.usingWebAudio && (a.masterGain.gain.value = t);
                    for (var i = 0; i < a._howls.length; i++)
                        if (!a._howls[i]._webAudio)
                            for (var s = a._howls[i]._getSoundIds(), o = 0; o < s.length; o++) {
                                var r = a._howls[i]._soundById(s[o]);
                                r && r._node && (r._node.volume = r._volume * t)
                            }
                    return a
                }
                return a._volume
            },
            mute: function(t) {
                var a = this || e;
                a.ctx || l(), a._muted = t, a.usingWebAudio && (a.masterGain.gain.value = t ? 0 : a._volume);
                for (var i = 0; i < a._howls.length; i++)
                    if (!a._howls[i]._webAudio)
                        for (var s = a._howls[i]._getSoundIds(), o = 0; o < s.length; o++) {
                            var r = a._howls[i]._soundById(s[o]);
                            r && r._node && (r._node.muted = !!t || r._muted)
                        }
                return a
            },
            unload: function() {
                for (var t = this || e, a = t._howls.length - 1; a >= 0; a--) t._howls[a].unload();
                return t.usingWebAudio && t.ctx && void 0 !== t.ctx.close && (t.ctx.close(), t.ctx = null, l()), t
            },
            codecs: function(t) {
                return (this || e)._codecs[t.replace(/^x-/, "")]
            },
            _setup: function() {
                var t = this || e;
                if (t.state = t.ctx && t.ctx.state || "running", t._autoSuspend(), !t.usingWebAudio)
                    if ("undefined" != typeof Audio) try {
                        void 0 === (new Audio).oncanplaythrough && (t._canPlayEvent = "canplay")
                    } catch (e) {
                        t.noAudio = !0
                    } else t.noAudio = !0;
                try {
                    (new Audio).muted && (t.noAudio = !0)
                } catch (t) {}
                return t.noAudio || t._setupCodecs(), t
            },
            _setupCodecs: function() {
                var t = this || e,
                    a = null;
                try {
                    a = "undefined" != typeof Audio ? new Audio : null
                } catch (e) {
                    return t
                }
                if (!a || "function" != typeof a.canPlayType) return t;
                var i = a.canPlayType("audio/mpeg;").replace(/^no$/, ""),
                    s = t._navigator && t._navigator.userAgent.match(/OPR\/([0-6].)/g),
                    o = s && parseInt(s[0].split("/")[1], 10) < 33;
                return t._codecs = {
                    mp3: !(o || !i && !a.canPlayType("audio/mp3;").replace(/^no$/, "")),
                    mpeg: !!i,
                    opus: !!a.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/, ""),
                    ogg: !!a.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/, ""),
                    oga: !!a.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/, ""),
                    wav: !!a.canPlayType('audio/wav; codecs="1"').replace(/^no$/, ""),
                    aac: !!a.canPlayType("audio/aac;").replace(/^no$/, ""),
                    caf: !!a.canPlayType("audio/x-caf;").replace(/^no$/, ""),
                    m4a: !!(a.canPlayType("audio/x-m4a;") || a.canPlayType("audio/m4a;") || a.canPlayType("audio/aac;")).replace(/^no$/, ""),
                    mp4: !!(a.canPlayType("audio/x-mp4;") || a.canPlayType("audio/mp4;") || a.canPlayType("audio/aac;")).replace(/^no$/, ""),
                    weba: !!a.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/, ""),
                    webm: !!a.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/, ""),
                    dolby: !!a.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/, ""),
                    flac: !!(a.canPlayType("audio/x-flac;") || a.canPlayType("audio/flac;")).replace(/^no$/, "")
                }, t
            },
            _enableMobileAudio: function() {
                var t = this || e,
                    a = /iPhone|iPad|iPod|Android|BlackBerry|BB10|Silk|Mobi/i.test(t._navigator && t._navigator.userAgent),
                    i = !!("ontouchend" in window || t._navigator && t._navigator.maxTouchPoints > 0 || t._navigator && t._navigator.msMaxTouchPoints > 0);
                if (!t._mobileEnabled && t.ctx && (a || i)) {
                    t._mobileEnabled = !1, t._mobileUnloaded || 44100 === t.ctx.sampleRate || (t._mobileUnloaded = !0, t.unload()), t._scratchBuffer = t.ctx.createBuffer(1, 1, 22050);
                    var s = function() {
                        e._autoResume();
                        var a = t.ctx.createBufferSource();
                        a.buffer = t._scratchBuffer, a.connect(t.ctx.destination), void 0 === a.start ? a.noteOn(0) : a.start(0), "function" == typeof t.ctx.resume && t.ctx.resume(), a.onended = function() {
                            a.disconnect(0), t._mobileEnabled = !0, t.mobileAutoEnable = !1, document.removeEventListener("touchend", s, !0)
                        }
                    };
                    return document.addEventListener("touchend", s, !0), t
                }
            },
            _autoSuspend: function() {
                var t = this;
                if (t.autoSuspend && t.ctx && void 0 !== t.ctx.suspend && e.usingWebAudio) {
                    for (var a = 0; a < t._howls.length; a++)
                        if (t._howls[a]._webAudio)
                            for (var i = 0; i < t._howls[a]._sounds.length; i++)
                                if (!t._howls[a]._sounds[i]._paused) return t;
                    return t._suspendTimer && clearTimeout(t._suspendTimer), t._suspendTimer = setTimeout((function() {
                        t.autoSuspend && (t._suspendTimer = null, t.state = "suspending", t.ctx.suspend().then((function() {
                            t.state = "suspended", t._resumeAfterSuspend && (delete t._resumeAfterSuspend, t._autoResume())
                        })))
                    }), 3e4), t
                }
            },
            _autoResume: function() {
                var t = this;
                if (t.ctx && void 0 !== t.ctx.resume && e.usingWebAudio) return "running" === t.state && t._suspendTimer ? (clearTimeout(t._suspendTimer), t._suspendTimer = null) : "suspended" === t.state ? (t.ctx.resume().then((function() {
                    t.state = "running";
                    for (var e = 0; e < t._howls.length; e++) t._howls[e]._emit("resume")
                })), t._suspendTimer && (clearTimeout(t._suspendTimer), t._suspendTimer = null)) : "suspending" === t.state && (t._resumeAfterSuspend = !0), t
            }
        };
        var e = new t,
            a = function(t) {
                t.src && 0 !== t.src.length ? this.init(t) : console.error("An array of source files must be passed with any new Howl.")
            };
        a.prototype = {
            init: function(t) {
                var a = this;
                return e.ctx || l(), a._autoplay = t.autoplay || !1, a._format = "string" != typeof t.format ? t.format : [t.format], a._html5 = t.html5 || !1, a._muted = t.mute || !1, a._loop = t.loop || !1, a._pool = t.pool || 5, a._preload = "boolean" != typeof t.preload || t.preload, a._rate = t.rate || 1, a._sprite = t.sprite || {}, a._src = "string" != typeof t.src ? t.src : [t.src], a._volume = void 0 !== t.volume ? t.volume : 1, a._duration = 0, a._state = "unloaded", a._sounds = [], a._endTimers = {}, a._queue = [], a._onend = t.onend ? [{
                    fn: t.onend
                }] : [], a._onfade = t.onfade ? [{
                    fn: t.onfade
                }] : [], a._onload = t.onload ? [{
                    fn: t.onload
                }] : [], a._onloaderror = t.onloaderror ? [{
                    fn: t.onloaderror
                }] : [], a._onpause = t.onpause ? [{
                    fn: t.onpause
                }] : [], a._onplay = t.onplay ? [{
                    fn: t.onplay
                }] : [], a._onstop = t.onstop ? [{
                    fn: t.onstop
                }] : [], a._onmute = t.onmute ? [{
                    fn: t.onmute
                }] : [], a._onvolume = t.onvolume ? [{
                    fn: t.onvolume
                }] : [], a._onrate = t.onrate ? [{
                    fn: t.onrate
                }] : [], a._onseek = t.onseek ? [{
                    fn: t.onseek
                }] : [], a._onresume = [], a._webAudio = e.usingWebAudio && !a._html5, void 0 !== e.ctx && e.ctx && e.mobileAutoEnable && e._enableMobileAudio(), e._howls.push(a), a._autoplay && a._queue.push({
                    event: "play",
                    action: function() {
                        a.play()
                    }
                }), a._preload && a.load(), a
            },
            load: function() {
                var t = this,
                    a = null;
                if (!e.noAudio) {
                    "string" == typeof t._src && (t._src = [t._src]);
                    for (var s = 0; s < t._src.length; s++) {
                        var r, n;
                        if (t._format && t._format[s]) r = t._format[s];
                        else {
                            if ("string" != typeof(n = t._src[s])) {
                                t._emit("loaderror", null, "Non-string found in selected audio sources - ignoring.");
                                continue
                            }(r = /^data:audio\/([^;,]+);/i.exec(n)) || (r = /\.([^.]+)$/.exec(n.split("?", 1)[0])), r && (r = r[1].toLowerCase())
                        }
                        if (r || console.warn('No file extension was found. Consider using the "format" property or specify an extension.'), r && e.codecs(r)) {
                            a = t._src[s];
                            break
                        }
                    }
                    return a ? (t._src = a, t._state = "loading", "https:" === window.location.protocol && "http:" === a.slice(0, 5) && (t._html5 = !0, t._webAudio = !1), new i(t), t._webAudio && o(t), t) : void t._emit("loaderror", null, "No codec support for selected audio sources.")
                }
                t._emit("loaderror", null, "No audio support.")
            },
            play: function(t, a) {
                var i = this,
                    s = null;
                if ("number" == typeof t) s = t, t = null;
                else {
                    if ("string" == typeof t && "loaded" === i._state && !i._sprite[t]) return null;
                    if (void 0 === t) {
                        t = "__default";
                        for (var o = 0, r = 0; r < i._sounds.length; r++) i._sounds[r]._paused && !i._sounds[r]._ended && (o++, s = i._sounds[r]._id);
                        1 === o ? t = null : s = null
                    }
                }
                var n = s ? i._soundById(s) : i._inactiveSound();
                if (!n) return null;
                if (s && !t && (t = n._sprite || "__default"), "loaded" !== i._state) {
                    n._sprite = t, n._ended = !1;
                    var h = n._id;
                    return i._queue.push({
                        event: "play",
                        action: function() {
                            i.play(h)
                        }
                    }), h
                }
                if (s && !n._paused) return a || setTimeout((function() {
                    i._emit("play", n._id)
                }), 0), n._id;
                i._webAudio && e._autoResume();
                var l = Math.max(0, n._seek > 0 ? n._seek : i._sprite[t][0] / 1e3),
                    u = Math.max(0, (i._sprite[t][0] + i._sprite[t][1]) / 1e3 - l),
                    m = 1e3 * u / Math.abs(n._rate);
                n._paused = !1, n._ended = !1, n._sprite = t, n._seek = l, n._start = i._sprite[t][0] / 1e3, n._stop = (i._sprite[t][0] + i._sprite[t][1]) / 1e3, n._loop = !(!n._loop && !i._sprite[t][2]);
                var d = n._node;
                if (i._webAudio) {
                    var c = function() {
                            i._refreshBuffer(n);
                            var t = n._muted || i._muted ? 0 : n._volume;
                            d.gain.setValueAtTime(t, e.ctx.currentTime), n._playStart = e.ctx.currentTime, void 0 === d.bufferSource.start ? n._loop ? d.bufferSource.noteGrainOn(0, l, 86400) : d.bufferSource.noteGrainOn(0, l, u) : n._loop ? d.bufferSource.start(0, l, 86400) : d.bufferSource.start(0, l, u), m !== 1 / 0 && (i._endTimers[n._id] = setTimeout(i._ended.bind(i, n), m)), a || setTimeout((function() {
                                i._emit("play", n._id)
                            }), 0)
                        },
                        g = "running" === e.state;
                    if ("loaded" === i._state && g) c();
                    else {
                        var p = g || "loaded" !== i._state ? "load" : "resume";
                        i.once(p, c, g ? n._id : null), i._clearTimer(n._id)
                    }
                } else {
                    var f = function() {
                            d.currentTime = l, d.muted = n._muted || i._muted || e._muted || d.muted, d.volume = n._volume * e.volume(), d.playbackRate = n._rate, d.play(), m !== 1 / 0 && (i._endTimers[n._id] = setTimeout(i._ended.bind(i, n), m)), a || i._emit("play", n._id)
                        },
                        _ = "loaded" === i._state && (window && window.ejecta || !d.readyState && e._navigator.isCocoonJS);
                    if (4 === d.readyState || _) f();
                    else {
                        var I = function() {
                            f(), d.removeEventListener(e._canPlayEvent, I, !1)
                        };
                        d.addEventListener(e._canPlayEvent, I, !1), i._clearTimer(n._id)
                    }
                }
                return n._id
            },
            pause: function(t) {
                var e = this;
                if ("loaded" !== e._state) return e._queue.push({
                    event: "pause",
                    action: function() {
                        e.pause(t)
                    }
                }), e;
                for (var a = e._getSoundIds(t), i = 0; i < a.length; i++) {
                    e._clearTimer(a[i]);
                    var s = e._soundById(a[i]);
                    if (s && !s._paused && (s._seek = e.seek(a[i]), s._rateSeek = 0, s._paused = !0, e._stopFade(a[i]), s._node))
                        if (e._webAudio) {
                            if (!s._node.bufferSource) continue;
                            void 0 === s._node.bufferSource.stop ? s._node.bufferSource.noteOff(0) : s._node.bufferSource.stop(0), e._cleanBuffer(s._node)
                        } else isNaN(s._node.duration) && s._node.duration !== 1 / 0 || s._node.pause();
                    arguments[1] || e._emit("pause", s ? s._id : null)
                }
                return e
            },
            stop: function(t, e) {
                var a = this;
                if ("loaded" !== a._state) return a._queue.push({
                    event: "stop",
                    action: function() {
                        a.stop(t)
                    }
                }), a;
                for (var i = a._getSoundIds(t), s = 0; s < i.length; s++) {
                    a._clearTimer(i[s]);
                    var o = a._soundById(i[s]);
                    o && (o._seek = o._start || 0, o._rateSeek = 0, o._paused = !0, o._ended = !0, a._stopFade(i[s]), o._node && (a._webAudio ? o._node.bufferSource && (void 0 === o._node.bufferSource.stop ? o._node.bufferSource.noteOff(0) : o._node.bufferSource.stop(0), a._cleanBuffer(o._node)) : isNaN(o._node.duration) && o._node.duration !== 1 / 0 || (o._node.currentTime = o._start || 0, o._node.pause())), e || a._emit("stop", o._id))
                }
                return a
            },
            mute: function(t, a) {
                var i = this;
                if ("loaded" !== i._state) return i._queue.push({
                    event: "mute",
                    action: function() {
                        i.mute(t, a)
                    }
                }), i;
                if (void 0 === a) {
                    if ("boolean" != typeof t) return i._muted;
                    i._muted = t
                }
                for (var s = i._getSoundIds(a), o = 0; o < s.length; o++) {
                    var r = i._soundById(s[o]);
                    r && (r._muted = t, i._webAudio && r._node ? r._node.gain.setValueAtTime(t ? 0 : r._volume, e.ctx.currentTime) : r._node && (r._node.muted = !!e._muted || t), i._emit("mute", r._id))
                }
                return i
            },
            volume: function() {
                var t, a, i, s = this,
                    o = arguments;
                if (0 === o.length) return s._volume;
                if (1 === o.length || 2 === o.length && void 0 === o[1] ? s._getSoundIds().indexOf(o[0]) >= 0 ? a = parseInt(o[0], 10) : t = parseFloat(o[0]) : o.length >= 2 && (t = parseFloat(o[0]), a = parseInt(o[1], 10)), !(void 0 !== t && t >= 0 && t <= 1)) return (i = a ? s._soundById(a) : s._sounds[0]) ? i._volume : 0;
                if ("loaded" !== s._state) return s._queue.push({
                    event: "volume",
                    action: function() {
                        s.volume.apply(s, o)
                    }
                }), s;
                void 0 === a && (s._volume = t), a = s._getSoundIds(a);
                for (var r = 0; r < a.length; r++)(i = s._soundById(a[r])) && (i._volume = t, o[2] || s._stopFade(a[r]), s._webAudio && i._node && !i._muted ? i._node.gain.setValueAtTime(t, e.ctx.currentTime) : i._node && !i._muted && (i._node.volume = t * e.volume()), s._emit("volume", i._id));
                return s
            },
            fade: function(t, a, i, s) {
                var o = this,
                    r = Math.abs(t - a),
                    n = t > a ? "out" : "in",
                    h = r / .01,
                    l = h > 0 ? i / h : i;
                if (l < 4 && (h = Math.ceil(h / (4 / l)), l = 4), "loaded" !== o._state) return o._queue.push({
                    event: "fade",
                    action: function() {
                        o.fade(t, a, i, s)
                    }
                }), o;
                o.volume(t, s);
                for (var u = o._getSoundIds(s), m = 0; m < u.length; m++) {
                    var d = o._soundById(u[m]);
                    if (d) {
                        if (s || o._stopFade(u[m]), o._webAudio && !d._muted) {
                            var c = e.ctx.currentTime,
                                g = c + i / 1e3;
                            d._volume = t, d._node.gain.setValueAtTime(t, c), d._node.gain.linearRampToValueAtTime(a, g)
                        }
                        var p = t;
                        d._interval = setInterval(function(e, i) {
                            h > 0 && (p += "in" === n ? .01 : -.01), p = Math.max(0, p), p = Math.min(1, p), p = Math.round(100 * p) / 100, o._webAudio ? (void 0 === s && (o._volume = p), i._volume = p) : o.volume(p, e, !0), (a < t && p <= a || a > t && p >= a) && (clearInterval(i._interval), i._interval = null, o.volume(a, e), o._emit("fade", e))
                        }.bind(o, u[m], d), l)
                    }
                }
                return o
            },
            _stopFade: function(t) {
                var a = this,
                    i = a._soundById(t);
                return i && i._interval && (a._webAudio && i._node.gain.cancelScheduledValues(e.ctx.currentTime), clearInterval(i._interval), i._interval = null, a._emit("fade", t)), a
            },
            loop: function() {
                var t, e, a, i = this,
                    s = arguments;
                if (0 === s.length) return i._loop;
                if (1 === s.length) {
                    if ("boolean" != typeof s[0]) return !!(a = i._soundById(parseInt(s[0], 10))) && a._loop;
                    t = s[0], i._loop = t
                } else 2 === s.length && (t = s[0], e = parseInt(s[1], 10));
                for (var o = i._getSoundIds(e), r = 0; r < o.length; r++)(a = i._soundById(o[r])) && (a._loop = t, i._webAudio && a._node && a._node.bufferSource && (a._node.bufferSource.loop = t, t && (a._node.bufferSource.loopStart = a._start || 0, a._node.bufferSource.loopEnd = a._stop)));
                return i
            },
            rate: function() {
                var t, a, i, s = this,
                    o = arguments;
                if (0 === o.length) a = s._sounds[0]._id;
                else if (1 === o.length) {
                    s._getSoundIds().indexOf(o[0]) >= 0 ? a = parseInt(o[0], 10) : t = parseFloat(o[0])
                } else 2 === o.length && (t = parseFloat(o[0]), a = parseInt(o[1], 10));
                if ("number" != typeof t) return (i = s._soundById(a)) ? i._rate : s._rate;
                if ("loaded" !== s._state) return s._queue.push({
                    event: "rate",
                    action: function() {
                        s.rate.apply(s, o)
                    }
                }), s;
                void 0 === a && (s._rate = t), a = s._getSoundIds(a);
                for (var r = 0; r < a.length; r++)
                    if (i = s._soundById(a[r])) {
                        i._rateSeek = s.seek(a[r]), i._playStart = s._webAudio ? e.ctx.currentTime : i._playStart, i._rate = t, s._webAudio && i._node && i._node.bufferSource ? i._node.bufferSource.playbackRate.value = t : i._node && (i._node.playbackRate = t);
                        var n = s.seek(a[r]),
                            h = 1e3 * ((s._sprite[i._sprite][0] + s._sprite[i._sprite][1]) / 1e3 - n) / Math.abs(i._rate);
                        !s._endTimers[a[r]] && i._paused || (s._clearTimer(a[r]), s._endTimers[a[r]] = setTimeout(s._ended.bind(s, i), h)), s._emit("rate", i._id)
                    }
                return s
            },
            seek: function() {
                var t, a, i = this,
                    s = arguments;
                if (0 === s.length) a = i._sounds[0]._id;
                else if (1 === s.length) {
                    i._getSoundIds().indexOf(s[0]) >= 0 ? a = parseInt(s[0], 10) : (a = i._sounds[0]._id, t = parseFloat(s[0]))
                } else 2 === s.length && (t = parseFloat(s[0]), a = parseInt(s[1], 10));
                if (void 0 === a) return i;
                if ("loaded" !== i._state) return i._queue.push({
                    event: "seek",
                    action: function() {
                        i.seek.apply(i, s)
                    }
                }), i;
                var o = i._soundById(a);
                if (o) {
                    if (!("number" == typeof t && t >= 0)) {
                        if (i._webAudio) {
                            var r = i.playing(a) ? e.ctx.currentTime - o._playStart : 0,
                                n = o._rateSeek ? o._rateSeek - o._seek : 0;
                            return o._seek + (n + r * Math.abs(o._rate))
                        }
                        return o._node.currentTime
                    }
                    var h = i.playing(a);
                    h && i.pause(a, !0), o._seek = t, o._ended = !1, i._clearTimer(a), h && i.play(a, !0), !i._webAudio && o._node && (o._node.currentTime = t), i._emit("seek", a)
                }
                return i
            },
            playing: function(t) {
                var e = this;
                if ("number" == typeof t) {
                    var a = e._soundById(t);
                    return !!a && !a._paused
                }
                for (var i = 0; i < e._sounds.length; i++)
                    if (!e._sounds[i]._paused) return !0;
                return !1
            },
            duration: function(t) {
                var e = this,
                    a = e._duration,
                    i = e._soundById(t);
                return i && (a = e._sprite[i._sprite][1] / 1e3), a
            },
            state: function() {
                return this._state
            },
            unload: function() {
                for (var t = this, a = t._sounds, i = 0; i < a.length; i++) {
                    a[i]._paused || t.stop(a[i]._id), t._webAudio || (/MSIE |Trident\//.test(e._navigator && e._navigator.userAgent) || (a[i]._node.src = "data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"), a[i]._node.removeEventListener("error", a[i]._errorFn, !1), a[i]._node.removeEventListener(e._canPlayEvent, a[i]._loadFn, !1)), delete a[i]._node, t._clearTimer(a[i]._id);
                    var o = e._howls.indexOf(t);
                    o >= 0 && e._howls.splice(o, 1)
                }
                var r = !0;
                for (i = 0; i < e._howls.length; i++)
                    if (e._howls[i]._src === t._src) {
                        r = !1;
                        break
                    }
                return s && r && delete s[t._src], e.noAudio = !1, t._state = "unloaded", t._sounds = [], t = null, null
            },
            on: function(t, e, a, i) {
                var s = this["_on" + t];
                return "function" == typeof e && s.push(i ? {
                    id: a,
                    fn: e,
                    once: i
                } : {
                    id: a,
                    fn: e
                }), this
            },
            off: function(t, e, a) {
                var i = this,
                    s = i["_on" + t],
                    o = 0;
                if ("number" == typeof e && (a = e, e = null), e || a)
                    for (o = 0; o < s.length; o++) {
                        var r = a === s[o].id;
                        if (e === s[o].fn && r || !e && r) {
                            s.splice(o, 1);
                            break
                        }
                    } else if (t) i["_on" + t] = [];
                    else {
                        var n = Object.keys(i);
                        for (o = 0; o < n.length; o++) 0 === n[o].indexOf("_on") && Array.isArray(i[n[o]]) && (i[n[o]] = [])
                    }
                return i
            },
            once: function(t, e, a) {
                return this.on(t, e, a, 1), this
            },
            _emit: function(t, e, a) {
                for (var i = this, s = i["_on" + t], o = s.length - 1; o >= 0; o--) s[o].id && s[o].id !== e && "load" !== t || (setTimeout(function(t) {
                    t.call(this, e, a)
                }.bind(i, s[o].fn), 0), s[o].once && i.off(t, s[o].fn, s[o].id));
                return i
            },
            _loadQueue: function() {
                var t = this;
                if (t._queue.length > 0) {
                    var e = t._queue[0];
                    t.once(e.event, (function() {
                        t._queue.shift(), t._loadQueue()
                    })), e.action()
                }
                return t
            },
            _ended: function(t) {
                var a = this,
                    i = t._sprite;
                if (!a._webAudio && a._node && !a._node.ended) return setTimeout(a._ended.bind(a, t), 100), a;
                var s = !(!t._loop && !a._sprite[i][2]);
                if (a._emit("end", t._id), !a._webAudio && s && a.stop(t._id, !0).play(t._id), a._webAudio && s) {
                    a._emit("play", t._id), t._seek = t._start || 0, t._rateSeek = 0, t._playStart = e.ctx.currentTime;
                    var o = 1e3 * (t._stop - t._start) / Math.abs(t._rate);
                    a._endTimers[t._id] = setTimeout(a._ended.bind(a, t), o)
                }
                return a._webAudio && !s && (t._paused = !0, t._ended = !0, t._seek = t._start || 0, t._rateSeek = 0, a._clearTimer(t._id), a._cleanBuffer(t._node), e._autoSuspend()), a._webAudio || s || a.stop(t._id), a
            },
            _clearTimer: function(t) {
                var e = this;
                return e._endTimers[t] && (clearTimeout(e._endTimers[t]), delete e._endTimers[t]), e
            },
            _soundById: function(t) {
                for (var e = this, a = 0; a < e._sounds.length; a++)
                    if (t === e._sounds[a]._id) return e._sounds[a];
                return null
            },
            _inactiveSound: function() {
                var t = this;
                t._drain();
                for (var e = 0; e < t._sounds.length; e++)
                    if (t._sounds[e]._ended) return t._sounds[e].reset();
                return new i(t)
            },
            _drain: function() {
                var t = this,
                    e = t._pool,
                    a = 0,
                    i = 0;
                if (!(t._sounds.length < e)) {
                    for (i = 0; i < t._sounds.length; i++) t._sounds[i]._ended && a++;
                    for (i = t._sounds.length - 1; i >= 0; i--) {
                        if (a <= e) return;
                        t._sounds[i]._ended && (t._webAudio && t._sounds[i]._node && t._sounds[i]._node.disconnect(0), t._sounds.splice(i, 1), a--)
                    }
                }
            },
            _getSoundIds: function(t) {
                if (void 0 === t) {
                    for (var e = [], a = 0; a < this._sounds.length; a++) e.push(this._sounds[a]._id);
                    return e
                }
                return [t]
            },
            _refreshBuffer: function(t) {
                return t._node.bufferSource = e.ctx.createBufferSource(), t._node.bufferSource.buffer = s[this._src], t._panner ? t._node.bufferSource.connect(t._panner) : t._node.bufferSource.connect(t._node), t._node.bufferSource.loop = t._loop, t._loop && (t._node.bufferSource.loopStart = t._start || 0, t._node.bufferSource.loopEnd = t._stop), t._node.bufferSource.playbackRate.value = t._rate, this
            },
            _cleanBuffer: function(t) {
                var e = this;
                if (e._scratchBuffer) {
                    t.bufferSource.onended = null, t.bufferSource.disconnect(0);
                    try {
                        t.bufferSource.buffer = e._scratchBuffer
                    } catch (t) {}
                }
                return t.bufferSource = null, e
            }
        };
        var i = function(t) {
            this._parent = t, this.init()
        };
        i.prototype = {
            init: function() {
                var t = this,
                    a = t._parent;
                return t._muted = a._muted, t._loop = a._loop, t._volume = a._volume, t._rate = a._rate, t._seek = 0, t._paused = !0, t._ended = !0, t._sprite = "__default", t._id = ++e._counter, a._sounds.push(t), t.create(), t
            },
            create: function() {
                var t = this,
                    a = t._parent,
                    i = e._muted || t._muted || t._parent._muted ? 0 : t._volume;
                return a._webAudio ? (t._node = void 0 === e.ctx.createGain ? e.ctx.createGainNode() : e.ctx.createGain(), t._node.gain.setValueAtTime(i, e.ctx.currentTime), t._node.paused = !0, t._node.connect(e.masterGain)) : (t._node = new Audio, t._errorFn = t._errorListener.bind(t), t._node.addEventListener("error", t._errorFn, !1), t._loadFn = t._loadListener.bind(t), t._node.addEventListener(e._canPlayEvent, t._loadFn, !1), t._node.src = a._src, t._node.preload = "auto", t._node.volume = i * e.volume(), t._node.load()), t
            },
            reset: function() {
                var t = this,
                    a = t._parent;
                return t._muted = a._muted, t._loop = a._loop, t._volume = a._volume, t._rate = a._rate, t._seek = 0, t._rateSeek = 0, t._paused = !0, t._ended = !0, t._sprite = "__default", t._id = ++e._counter, t
            },
            _errorListener: function() {
                var t = this;
                t._parent._emit("loaderror", t._id, t._node.error ? t._node.error.code : 0), t._node.removeEventListener("error", t._errorFn, !1)
            },
            _loadListener: function() {
                var t = this,
                    a = t._parent;
                a._duration = Math.ceil(10 * t._node.duration) / 10, 0 === Object.keys(a._sprite).length && (a._sprite = {
                    __default: [0, 1e3 * a._duration]
                }), "loaded" !== a._state && (a._state = "loaded", a._emit("load"), a._loadQueue()), t._node.removeEventListener(e._canPlayEvent, t._loadFn, !1)
            }
        };
        var s = {},
            o = function(t) {
                var e = t._src;
                if (s[e]) return t._duration = s[e].duration, void h(t);
                if (/^data:[^;]+;base64,/.test(e)) {
                    for (var a = atob(e.split(",")[1]), i = new Uint8Array(a.length), o = 0; o < a.length; ++o) i[o] = a.charCodeAt(o);
                    n(i.buffer, t)
                } else {
                    var l = new XMLHttpRequest;
                    l.open("GET", e, !0), l.responseType = "arraybuffer", l.onload = function() {
                        var e = (l.status + "")[0];
                        "0" === e || "2" === e || "3" === e ? n(l.response, t) : t._emit("loaderror", null, "Failed loading audio file with status: " + l.status + ".")
                    }, l.onerror = function() {
                        t._webAudio && (t._html5 = !0, t._webAudio = !1, t._sounds = [], delete s[e], t.load())
                    }, r(l)
                }
            },
            r = function(t) {
                try {
                    t.send()
                } catch (e) {
                    t.onerror()
                }
            },
            n = function(t, a) {
                e.ctx.decodeAudioData(t, (function(t) {
                    t && a._sounds.length > 0 && (s[a._src] = t, h(a, t))
                }), (function() {
                    a._emit("loaderror", null, "Decoding audio data failed.")
                }))
            },
            h = function(t, e) {
                e && !t._duration && (t._duration = e.duration), 0 === Object.keys(t._sprite).length && (t._sprite = {
                    __default: [0, 1e3 * t._duration]
                }), "loaded" !== t._state && (t._state = "loaded", t._emit("load"), t._loadQueue())
            },
            l = function() {
                try {
                    "undefined" != typeof AudioContext ? e.ctx = new AudioContext : "undefined" != typeof webkitAudioContext ? e.ctx = new webkitAudioContext : e.usingWebAudio = !1
                } catch (t) {
                    e.usingWebAudio = !1
                }
                var t = /iP(hone|od|ad)/.test(e._navigator && e._navigator.platform),
                    a = e._navigator && e._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),
                    i = a ? parseInt(a[1], 10) : null;
                if (t && i && i < 9) {
                    var s = /safari/.test(e._navigator && e._navigator.userAgent.toLowerCase());
                    (e._navigator && e._navigator.standalone && !s || e._navigator && !e._navigator.standalone && !s) && (e.usingWebAudio = !1)
                }
                e.usingWebAudio && (e.masterGain = void 0 === e.ctx.createGain ? e.ctx.createGainNode() : e.ctx.createGain(), e.masterGain.gain.value = e._muted ? 0 : 1, e.masterGain.connect(e.ctx.destination)), e._setup()
            };
        "function" == typeof define && define.amd && define([], (function() {
            return {
                Howler: e,
                Howl: a
            }
        })), "undefined" != typeof exports && (exports.Howler = e, exports.Howl = a), "undefined" != typeof window ? (window.HowlerGlobal = t, window.Howler = e, window.Howl = a, window.Sound = i) : "undefined" != typeof global && (global.HowlerGlobal = t, global.Howler = e, global.Howl = a, global.Sound = i)
    }(),
    function() {
        "use strict";
        HowlerGlobal.prototype._pos = [0, 0, 0], HowlerGlobal.prototype._orientation = [0, 0, -1, 0, 1, 0], HowlerGlobal.prototype.stereo = function(t) {
            var e = this;
            if (!e.ctx || !e.ctx.listener) return e;
            for (var a = e._howls.length - 1; a >= 0; a--) e._howls[a].stereo(t);
            return e
        }, HowlerGlobal.prototype.pos = function(t, e, a) {
            var i = this;
            return i.ctx && i.ctx.listener ? (e = "number" != typeof e ? i._pos[1] : e, a = "number" != typeof a ? i._pos[2] : a, "number" != typeof t ? i._pos : (i._pos = [t, e, a], i.ctx.listener.setPosition(i._pos[0], i._pos[1], i._pos[2]), i)) : i
        }, HowlerGlobal.prototype.orientation = function(t, e, a, i, s, o) {
            var r = this;
            if (!r.ctx || !r.ctx.listener) return r;
            var n = r._orientation;
            return e = "number" != typeof e ? n[1] : e, a = "number" != typeof a ? n[2] : a, i = "number" != typeof i ? n[3] : i, s = "number" != typeof s ? n[4] : s, o = "number" != typeof o ? n[5] : o, "number" != typeof t ? n : (r._orientation = [t, e, a, i, s, o], r.ctx.listener.setOrientation(t, e, a, i, s, o), r)
        }, Howl.prototype.init = function(t) {
            return function(e) {
                var a = this;
                return a._orientation = e.orientation || [1, 0, 0], a._stereo = e.stereo || null, a._pos = e.pos || null, a._pannerAttr = {
                    coneInnerAngle: void 0 !== e.coneInnerAngle ? e.coneInnerAngle : 360,
                    coneOuterAngle: void 0 !== e.coneOuterAngle ? e.coneOuterAngle : 360,
                    coneOuterGain: void 0 !== e.coneOuterGain ? e.coneOuterGain : 0,
                    distanceModel: void 0 !== e.distanceModel ? e.distanceModel : "inverse",
                    maxDistance: void 0 !== e.maxDistance ? e.maxDistance : 1e4,
                    panningModel: void 0 !== e.panningModel ? e.panningModel : "HRTF",
                    refDistance: void 0 !== e.refDistance ? e.refDistance : 1,
                    rolloffFactor: void 0 !== e.rolloffFactor ? e.rolloffFactor : 1
                }, a._onstereo = e.onstereo ? [{
                    fn: e.onstereo
                }] : [], a._onpos = e.onpos ? [{
                    fn: e.onpos
                }] : [], a._onorientation = e.onorientation ? [{
                    fn: e.onorientation
                }] : [], t.call(this, e)
            }
        }(Howl.prototype.init), Howl.prototype.stereo = function(e, a) {
            var i = this;
            if (!i._webAudio) return i;
            if ("loaded" !== i._state) return i._queue.push({
                event: "stereo",
                action: function() {
                    i.stereo(e, a)
                }
            }), i;
            var s = void 0 === Howler.ctx.createStereoPanner ? "spatial" : "stereo";
            if (void 0 === a) {
                if ("number" != typeof e) return i._stereo;
                i._stereo = e, i._pos = [e, 0, 0]
            }
            for (var o = i._getSoundIds(a), r = 0; r < o.length; r++) {
                var n = i._soundById(o[r]);
                if (n) {
                    if ("number" != typeof e) return n._stereo;
                    n._stereo = e, n._pos = [e, 0, 0], n._node && (n._pannerAttr.panningModel = "equalpower", n._panner && n._panner.pan || t(n, s), "spatial" === s ? n._panner.setPosition(e, 0, 0) : n._panner.pan.value = e), i._emit("stereo", n._id)
                }
            }
            return i
        }, Howl.prototype.pos = function(e, a, i, s) {
            var o = this;
            if (!o._webAudio) return o;
            if ("loaded" !== o._state) return o._queue.push({
                event: "pos",
                action: function() {
                    o.pos(e, a, i, s)
                }
            }), o;
            if (a = "number" != typeof a ? 0 : a, i = "number" != typeof i ? -.5 : i, void 0 === s) {
                if ("number" != typeof e) return o._pos;
                o._pos = [e, a, i]
            }
            for (var r = o._getSoundIds(s), n = 0; n < r.length; n++) {
                var h = o._soundById(r[n]);
                if (h) {
                    if ("number" != typeof e) return h._pos;
                    h._pos = [e, a, i], h._node && (h._panner && !h._panner.pan || t(h, "spatial"), h._panner.setPosition(e, a, i)), o._emit("pos", h._id)
                }
            }
            return o
        }, Howl.prototype.orientation = function(e, a, i, s) {
            var o = this;
            if (!o._webAudio) return o;
            if ("loaded" !== o._state) return o._queue.push({
                event: "orientation",
                action: function() {
                    o.orientation(e, a, i, s)
                }
            }), o;
            if (a = "number" != typeof a ? o._orientation[1] : a, i = "number" != typeof i ? o._orientation[2] : i, void 0 === s) {
                if ("number" != typeof e) return o._orientation;
                o._orientation = [e, a, i]
            }
            for (var r = o._getSoundIds(s), n = 0; n < r.length; n++) {
                var h = o._soundById(r[n]);
                if (h) {
                    if ("number" != typeof e) return h._orientation;
                    h._orientation = [e, a, i], h._node && (h._panner || (h._pos || (h._pos = o._pos || [0, 0, -.5]), t(h, "spatial")), h._panner.setOrientation(e, a, i)), o._emit("orientation", h._id)
                }
            }
            return o
        }, Howl.prototype.pannerAttr = function() {
            var e, a, i, s = this,
                o = arguments;
            if (!s._webAudio) return s;
            if (0 === o.length) return s._pannerAttr;
            if (1 === o.length) {
                if ("object" != typeof o[0]) return (i = s._soundById(parseInt(o[0], 10))) ? i._pannerAttr : s._pannerAttr;
                e = o[0], void 0 === a && (s._pannerAttr = {
                    coneInnerAngle: void 0 !== e.coneInnerAngle ? e.coneInnerAngle : s._coneInnerAngle,
                    coneOuterAngle: void 0 !== e.coneOuterAngle ? e.coneOuterAngle : s._coneOuterAngle,
                    coneOuterGain: void 0 !== e.coneOuterGain ? e.coneOuterGain : s._coneOuterGain,
                    distanceModel: void 0 !== e.distanceModel ? e.distanceModel : s._distanceModel,
                    maxDistance: void 0 !== e.maxDistance ? e.maxDistance : s._maxDistance,
                    panningModel: void 0 !== e.panningModel ? e.panningModel : s._panningModel,
                    refDistance: void 0 !== e.refDistance ? e.refDistance : s._refDistance,
                    rolloffFactor: void 0 !== e.rolloffFactor ? e.rolloffFactor : s._rolloffFactor
                })
            } else 2 === o.length && (e = o[0], a = parseInt(o[1], 10));
            for (var r = s._getSoundIds(a), n = 0; n < r.length; n++)
                if (i = s._soundById(r[n])) {
                    var h = i._pannerAttr;
                    h = {
                        coneInnerAngle: void 0 !== e.coneInnerAngle ? e.coneInnerAngle : h.coneInnerAngle,
                        coneOuterAngle: void 0 !== e.coneOuterAngle ? e.coneOuterAngle : h.coneOuterAngle,
                        coneOuterGain: void 0 !== e.coneOuterGain ? e.coneOuterGain : h.coneOuterGain,
                        distanceModel: void 0 !== e.distanceModel ? e.distanceModel : h.distanceModel,
                        maxDistance: void 0 !== e.maxDistance ? e.maxDistance : h.maxDistance,
                        panningModel: void 0 !== e.panningModel ? e.panningModel : h.panningModel,
                        refDistance: void 0 !== e.refDistance ? e.refDistance : h.refDistance,
                        rolloffFactor: void 0 !== e.rolloffFactor ? e.rolloffFactor : h.rolloffFactor
                    };
                    var l = i._panner;
                    l ? (l.coneInnerAngle = h.coneInnerAngle, l.coneOuterAngle = h.coneOuterAngle, l.coneOuterGain = h.coneOuterGain, l.distanceModel = h.distanceModel, l.maxDistance = h.maxDistance, l.panningModel = h.panningModel, l.refDistance = h.refDistance, l.rolloffFactor = h.rolloffFactor) : (i._pos || (i._pos = s._pos || [0, 0, -.5]), t(i, "spatial"))
                }
            return s
        }, Sound.prototype.init = function(t) {
            return function() {
                var e = this,
                    a = e._parent;
                e._orientation = a._orientation, e._stereo = a._stereo, e._pos = a._pos, e._pannerAttr = a._pannerAttr, t.call(this), e._stereo ? a.stereo(e._stereo) : e._pos && a.pos(e._pos[0], e._pos[1], e._pos[2], e._id)
            }
        }(Sound.prototype.init), Sound.prototype.reset = function(t) {
            return function() {
                var e = this,
                    a = e._parent;
                return e._orientation = a._orientation, e._pos = a._pos, e._pannerAttr = a._pannerAttr, t.call(this)
            }
        }(Sound.prototype.reset);
        var t = function(t, e) {
            "spatial" === (e = e || "spatial") ? (t._panner = Howler.ctx.createPanner(), t._panner.coneInnerAngle = t._pannerAttr.coneInnerAngle, t._panner.coneOuterAngle = t._pannerAttr.coneOuterAngle, t._panner.coneOuterGain = t._pannerAttr.coneOuterGain, t._panner.distanceModel = t._pannerAttr.distanceModel, t._panner.maxDistance = t._pannerAttr.maxDistance, t._panner.panningModel = t._pannerAttr.panningModel, t._panner.refDistance = t._pannerAttr.refDistance, t._panner.rolloffFactor = t._pannerAttr.rolloffFactor, t._panner.setPosition(t._pos[0], t._pos[1], t._pos[2]), t._panner.setOrientation(t._orientation[0], t._orientation[1], t._orientation[2])) : (t._panner = Howler.ctx.createStereoPanner(), t._panner.pan.value = t._stereo), t._panner.connect(t._node), t._paused || t._parent.pause(t._id, !0).play(t._id)
        }
    }();
var vis = function() {
    var t, e, a = {
        hidden: "visibilitychange",
        webkitHidden: "webkitvisibilitychange",
        mozHidden: "mozvisibilitychange",
        msHidden: "msvisibilitychange"
    };
    for (t in a)
        if (t in document) {
            e = a[t];
            break
        }
    return function(a) {
        return a && document.addEventListener(e, a), !document[t]
    }
}();
vis((function() {
    vis() ? setTimeout((function() {
        visibleResume()
    }), 300) : visiblePause()
}));
var notIE = void 0 === document.documentMode,
    isChromium = window.chrome;
notIE && !isChromium || (window.addEventListener ? (window.addEventListener("focus", (function(t) {
    setTimeout((function() {}), 300)
}), !1), window.addEventListener("blur", (function(t) {
    visiblePause()
}), !1)) : (window.attachEvent("focus", (function(t) {
    setTimeout((function() {}), 300)
})), window.attachEvent("blur", (function(t) {
    visiblePause()
}))));
var skipTitle = window.famobi.hasFeature("skip_title"),
    skipTutorial = window.famobi.hasFeature("skip_tutorial"),
    externalStart = window.famobi.hasFeature("external_start"),
    externalMute = window.famobi.hasFeature("external_mute"),
    externalPause = window.famobi.hasFeature("external_pause");
window.famobi.onRequest("changeVolume", (function(t) {
    masterVolume = t, muted || (sound._volume = masterVolume, "game" == gameState ? music.volume(.1 * masterVolume) : music.volume(.5 * masterVolume))
})), window.famobi.started = !1, window.famobi_game = {
    start: null
}, window.famobi.onRequest("startGame", (function() {
    window.famobi.started = !0, window.famobi.paused = !1, window.famobi_game.start && window.famobi_game.start()
})), window.famobi.onRequest("enableAudio", (function() {
    muted && toggleMute()
})), window.famobi.onRequest("disableAudio", (function() {
    muted || toggleMute()
})), window.famobi.paused = !1, window.famobi.onRequest("pauseGameplay", (function() {
    window.famobi.paused = !0
})), window.famobi.onRequest("resumeGameplay", (function() {
    window.famobi.started && (window.famobi.paused = !1)
})), window.famobi.onRequest("restartGame", (function() {
    _initGame()
}));
var player_hitType, enemy_hitType, masterVolume = window.famobi.getVolume(),
    player_serve = !0,
    forcedMode = window.famobi.hasFeature("forced_mode"),
    forcedModeProperties = {
        state: {},
        override: {}
    },
    won_matches_in_series_player = 0,
    won_matches_in_series_opponent = 0,
    points_in_series_player = 0,
    points_in_series_opponent = 0;
! function(t) {
    var e = function() {
        function t(t, e, a, i, s, o) {
            void 0 === o && (o = !0), this.oAssetData = {}, this.assetsLoaded = 0, this.textData = {}, this.spinnerRot = 0, this.totalAssets = e.length, this.showBar = o;
            for (var r = 0; r < e.length; r++) - 1 != e[r].file.indexOf(".json") ? this.loadJSON(e[r]) : this.loadImage(e[r]);
            o && (this.oLoaderImgData = preAssetLib.getData("loader"), this.oLoadSpinnerImgData = preAssetLib.getData("loadSpinner"))
        }
        return t.prototype.render = function() {
            ctx.fillStyle = "rgba(0, 0, 0, 1)", ctx.fillRect(0, 0, canvas.width, canvas.height), ctx.fillStyle = "#FFFFFF", ctx.fillRect(canvas.width / 2 - 150, canvas.height / 2 + 20, 300 / this.totalAssets * this.assetsLoaded, 30), ctx.drawImage(this.oLoaderImgData.img, canvas.width / 2 - this.oLoaderImgData.img.width / 2, canvas.height / 2 - this.oLoaderImgData.img.height / 2), this.spinnerRot += 3 * delta, ctx.save(), ctx.translate(canvas.width / 2 - 33, canvas.height / 2 - 20), ctx.rotate(this.spinnerRot), ctx.drawImage(this.oLoadSpinnerImgData.img, -this.oLoadSpinnerImgData.img.width / 2, -this.oLoadSpinnerImgData.img.height / 2), ctx.restore(), this.displayNumbers()
        }, t.prototype.displayNumbers = function() {
            ctx.textAlign = "left", ctx.font = "bold 40px arial", ctx.fillStyle = "#ffffff", ctx.fillText(Math.round(this.assetsLoaded / this.totalAssets * 100) + "%", canvas.width / 2 + 0, canvas.height / 2 - 6)
        }, t.prototype.loadExtraAssets = function(t, e) {
            this.showBar = !1, this.totalAssets = e.length, this.assetsLoaded = 0, this.loadedCallback = t;
            for (var a = 0; a < e.length; a++) - 1 != e[a].file.indexOf(".json") ? this.loadJSON(e[a]) : this.loadImage(e[a])
        }, t.prototype.loadJSON = function(t) {
            var e = this,
                a = new XMLHttpRequest;
            a.open("GET", t.file, !0), a.onreadystatechange = function() {
                4 == a.readyState && 200 == a.status && (e.textData[t.id] = JSON.parse(a.responseText), ++e.assetsLoaded, e.checkLoadComplete())
            }, a.send(null)
        }, t.prototype.loadImage = function(t) {
            var e = this,
                a = new Image;
            a.onload = function() {
                e.oAssetData[t.id] = {}, e.oAssetData[t.id].img = a, e.oAssetData[t.id].oData = {};
                var i = e.getSpriteSize(t.file);
                0 != i[0] ? (e.oAssetData[t.id].oData.spriteWidth = i[0], e.oAssetData[t.id].oData.spriteHeight = i[1]) : (e.oAssetData[t.id].oData.spriteWidth = e.oAssetData[t.id].img.width, e.oAssetData[t.id].oData.spriteHeight = e.oAssetData[t.id].img.height), t.oAnims && (e.oAssetData[t.id].oData.oAnims = t.oAnims), t.oAtlasData ? e.oAssetData[t.id].oData.oAtlasData = t.oAtlasData : e.oAssetData[t.id].oData.oAtlasData = {
                    none: {
                        x: 0,
                        y: 0,
                        width: e.oAssetData[t.id].oData.spriteWidth,
                        height: e.oAssetData[t.id].oData.spriteHeight
                    }
                }, ++e.assetsLoaded, e.checkLoadComplete()
            }, a.src = t.file
        }, t.prototype.getSpriteSize = function(t) {
            for (var e = new Array, a = "", i = "", s = 0, o = t.lastIndexOf("."), r = !0; r;) o--, 0 == s && this.isNumber(t.charAt(o)) ? a = t.charAt(o) + a : 0 == s && a.length > 0 && "x" == t.charAt(o) ? (o--, s = 1, i = t.charAt(o) + i) : 1 == s && this.isNumber(t.charAt(o)) ? i = t.charAt(o) + i : 1 == s && i.length > 0 && "_" == t.charAt(o) ? (r = !1, e = [parseInt(i), parseInt(a)]) : (r = !1, e = [0, 0]);
            return e
        }, t.prototype.isNumber = function(t) {
            return !isNaN(parseFloat(t)) && isFinite(t)
        }, t.prototype.checkLoadComplete = function() {
            this.totalAssets > 10 && window.famobi.setPreloadProgress(Math.round(this.assetsLoaded / this.totalAssets * 100)), this.assetsLoaded == this.totalAssets && this.loadedCallback()
        }, t.prototype.onReady = function(t) {
            this.loadedCallback = t
        }, t.prototype.getImg = function(t) {
            return this.oAssetData[t].img
        }, t.prototype.getData = function(t) {
            return this.oAssetData[t]
        }, t
    }();
    t.AssetLoader = e
}(Utils || (Utils = {})),
function(t) {
    var e = function() {
        function t(t, e, a, i) {
            this.x = 0, this.y = 0, this.rotation = 0, this.radius = 10, this.removeMe = !1, this.frameInc = 0, this.animType = "loop", this.offsetX = 0, this.offsetY = 0, this.scaleX = 1, this.scaleY = 1, this.alpha = 1, this.oImgData = t, this.oAnims = this.oImgData.oData.oAnims, this.fps = e, this.radius = a, this.animId = i, this.centreX = Math.round(this.oImgData.oData.spriteWidth / 2), this.centreY = Math.round(this.oImgData.oData.spriteHeight / 2)
        }
        return t.prototype.updateAnimation = function(t) {
            this.frameInc += this.fps * t
        }, t.prototype.changeImgData = function(t, e) {
            this.oImgData = t, this.oAnims = this.oImgData.oData.oAnims, this.animId = e, this.centreX = Math.round(this.oImgData.oData.spriteWidth / 2), this.centreY = Math.round(this.oImgData.oData.spriteHeight / 2), this.resetAnim()
        }, t.prototype.resetAnim = function() {
            this.frameInc = 0
        }, t.prototype.setFrame = function(t) {
            this.fixedFrame = t
        }, t.prototype.setAnimType = function(t, e, a) {
            switch (void 0 === a && (a = !0), this.animId = e, this.animType = t, a && this.resetAnim(), t) {
                case "loop":
                    break;
                case "once":
                    this.maxIdx = this.oAnims[this.animId].length - 1
            }
        }, t.prototype.render = function(t) {
            if (t.save(), t.translate(this.x, this.y), t.rotate(this.rotation), t.scale(this.scaleX, this.scaleY), t.globalAlpha = this.alpha, null != this.animId) {
                var e = this.oAnims[this.animId].length,
                    a = Math.floor(this.frameInc);
                this.curFrame = this.oAnims[this.animId][a % e];
                var i = this.curFrame * this.oImgData.oData.spriteWidth % this.oImgData.img.width,
                    s = Math.floor(this.curFrame / (this.oImgData.img.width / this.oImgData.oData.spriteWidth)) * this.oImgData.oData.spriteHeight;
                if ("once" == this.animType && a > this.maxIdx) {
                    this.fixedFrame = this.oAnims[this.animId][e - 1], this.animId = null, null != this.animEndedFunc && this.animEndedFunc();
                    i = this.fixedFrame * this.oImgData.oData.spriteWidth % this.oImgData.img.width, s = Math.floor(this.fixedFrame / (this.oImgData.img.width / this.oImgData.oData.spriteWidth)) * this.oImgData.oData.spriteHeight
                }
            } else i = this.fixedFrame * this.oImgData.oData.spriteWidth % this.oImgData.img.width, s = Math.floor(this.fixedFrame / (this.oImgData.img.width / this.oImgData.oData.spriteWidth)) * this.oImgData.oData.spriteHeight;
            t.drawImage(this.oImgData.img, i, s, this.oImgData.oData.spriteWidth, this.oImgData.oData.spriteHeight, -this.centreX + this.offsetX, -this.centreY + this.offsetY, this.oImgData.oData.spriteWidth, this.oImgData.oData.spriteHeight), t.restore()
        }, t.prototype.renderSimple = function(t) {
            if (null != this.animId) {
                var e = this.oAnims[this.animId].length,
                    a = Math.floor(this.frameInc);
                this.curFrame = this.oAnims[this.animId][a % e];
                var i = this.curFrame * this.oImgData.oData.spriteWidth % this.oImgData.img.width,
                    s = Math.floor(this.curFrame / (this.oImgData.img.width / this.oImgData.oData.spriteWidth)) * this.oImgData.oData.spriteHeight;
                if ("once" == this.animType && a > this.maxIdx) {
                    this.fixedFrame = this.oAnims[this.animId][e - 1], this.animId = null, null != this.animEndedFunc && this.animEndedFunc();
                    i = this.fixedFrame * this.oImgData.oData.spriteWidth % this.oImgData.img.width, s = Math.floor(this.fixedFrame / (this.oImgData.img.width / this.oImgData.oData.spriteWidth)) * this.oImgData.oData.spriteHeight
                }
            } else i = this.fixedFrame * this.oImgData.oData.spriteWidth % this.oImgData.img.width, s = Math.floor(this.fixedFrame / (this.oImgData.img.width / this.oImgData.oData.spriteWidth)) * this.oImgData.oData.spriteHeight;
            t.drawImage(this.oImgData.img, i, s, this.oImgData.oData.spriteWidth, this.oImgData.oData.spriteHeight, this.x - (this.centreX - this.offsetX) * this.scaleX, this.y - (this.centreY - this.offsetY) * this.scaleY, this.oImgData.oData.spriteWidth * this.scaleX, this.oImgData.oData.spriteHeight * this.scaleY)
        }, t
    }();
    t.AnimSprite = e
}(Utils || (Utils = {})),
function(t) {
    var e = function() {
        function t(t, e, a) {
            void 0 === a && (a = 0), this.x = 0, this.y = 0, this.rotation = 0, this.radius = 10, this.removeMe = !1, this.offsetX = 0, this.offsetY = 0, this.scaleX = 1, this.scaleY = 1, this.oImgData = t, this.radius = e, this.setFrame(a)
        }
        return t.prototype.setFrame = function(t) {
            this.frameNum = t
        }, t.prototype.render = function(t) {
            t.save(), t.translate(this.x, this.y), t.rotate(this.rotation), t.scale(this.scaleX, this.scaleY);
            var e = this.frameNum * this.oImgData.oData.spriteWidth % this.oImgData.img.width,
                a = Math.floor(this.frameNum / (this.oImgData.img.width / this.oImgData.oData.spriteWidth)) * this.oImgData.oData.spriteHeight;
            t.drawImage(this.oImgData.img, e, a, this.oImgData.oData.spriteWidth, this.oImgData.oData.spriteHeight, -this.oImgData.oData.spriteWidth / 2 + this.offsetX, -this.oImgData.oData.spriteHeight / 2 + this.offsetY, this.oImgData.oData.spriteWidth, this.oImgData.oData.spriteHeight), t.restore()
        }, t
    }();
    t.BasicSprite = e
}(Utils || (Utils = {})),
function(t) {
    var e = function() {
        function t(t, e) {
            var a = this;
            this.prevHitTime = 0, this.pauseIsOn = !1, this.isDown = !1, this.isBugBrowser = e, this.keyDownEvtFunc = function(t) {
                a.keyDown(t)
            }, this.keyUpEvtFunc = function(t) {
                a.keyUp(t)
            }, t.addEventListener("touchstart", (function(t) {
                for (var e = 0; e < t.changedTouches.length; e++) a.hitDown(t, t.changedTouches[e].pageX, t.changedTouches[e].pageY, t.changedTouches[e].identifier)
            }), !1), t.addEventListener("touchend", (function(t) {
                for (var e = 0; e < t.changedTouches.length; e++) a.hitUp(t, t.changedTouches[e].pageX, t.changedTouches[e].pageY, t.changedTouches[e].identifier)
            }), !1), t.addEventListener("touchcancel", (function(t) {
                for (var e = 0; e < t.changedTouches.length; e++) a.hitCancel(t, t.changedTouches[e].pageX, t.changedTouches[e].pageY, t.changedTouches[e].identifier)
            }), !1), t.addEventListener("touchmove", (function(t) {
                for (var e = 0; e < t.changedTouches.length; e++) a.move(t, t.changedTouches[e].pageX, t.changedTouches[e].pageY, t.changedTouches[e].identifier, !0)
            }), !1), t.addEventListener("mousedown", (function(t) {
                a.isDown = !0, a.hitDown(t, t.pageX, t.pageY, 1)
            }), !1), t.addEventListener("mouseup", (function(t) {
                a.isDown = !1, a.hitUp(t, t.pageX, t.pageY, 1)
            }), !1), t.addEventListener("mousemove", (function(t) {
                a.move(t, t.pageX, t.pageY, 1, a.isDown)
            }), !1), t.addEventListener("mouseout", (function(t) {
                a.isDown = !1, a.hitUp(t, Math.abs(t.pageX), Math.abs(t.pageY), 1)
            }), !1), this.aHitAreas = new Array, this.aKeys = new Array
        }
        return t.prototype.hitDown = function(t, e, a, i) {
            if (t.preventDefault(), t.stopPropagation(), hasFocus || visibleResume(), !this.pauseIsOn && !window.famobi.paused) {
                var s = (new Date).getTime();
                e *= canvasScale, a *= canvasScale;
                for (var o = 0; o < this.aHitAreas.length; o++)
                    if (this.aHitAreas[o].rect) {
                        var r = canvas.width * this.aHitAreas[o].align[0],
                            n = canvas.height * this.aHitAreas[o].align[1];
                        if (e > r + this.aHitAreas[o].area[0] && a > n + this.aHitAreas[o].area[1] && e < r + this.aHitAreas[o].area[2] && a < n + this.aHitAreas[o].area[3]) {
                            if (this.aHitAreas[o].aTouchIdentifiers.push(i), this.aHitAreas[o].oData.hasLeft = !1, !this.aHitAreas[o].oData.isDown) {
                                if (this.aHitAreas[o].oData.isDown = !0, this.aHitAreas[o].oData.x = e, this.aHitAreas[o].oData.y = a, s - this.prevHitTime < 500 && ("game" != gameState || "pause" == this.aHitAreas[o].id) && isBugBrowser) return;
                                this.aHitAreas[o].callback(this.aHitAreas[o].id, this.aHitAreas[o].oData)
                            }
                            break
                        }
                    }
                this.prevHitTime = s
            }
        }, t.prototype.hitUp = function(t, e, a, i) {
            if (ios9FirstTouch || (playSound("silence"), ios9FirstTouch = !0), !this.pauseIsOn && !window.famobi.paused) {
                t.preventDefault(), t.stopPropagation(), e *= canvasScale, a *= canvasScale;
                for (var s = 0; s < this.aHitAreas.length; s++)
                    if (this.aHitAreas[s].rect) {
                        var o = canvas.width * this.aHitAreas[s].align[0],
                            r = canvas.height * this.aHitAreas[s].align[1];
                        if (e > o + this.aHitAreas[s].area[0] && a > r + this.aHitAreas[s].area[1] && e < o + this.aHitAreas[s].area[2] && a < r + this.aHitAreas[s].area[3]) {
                            for (var n = 0; n < this.aHitAreas[s].aTouchIdentifiers.length; n++) this.aHitAreas[s].aTouchIdentifiers[n] == i && (this.aHitAreas[s].aTouchIdentifiers.splice(n, 1), n -= 1);
                            0 == this.aHitAreas[s].aTouchIdentifiers.length && (this.aHitAreas[s].oData.isDown = !1, this.aHitAreas[s].oData.multiTouch && (this.aHitAreas[s].oData.x = e, this.aHitAreas[s].oData.y = a, this.aHitAreas[s].callback(this.aHitAreas[s].id, this.aHitAreas[s].oData)));
                            break
                        }
                    }
            }
        }, t.prototype.hitCancel = function(t, e, a, i) {
            t.preventDefault(), t.stopPropagation(), e *= canvasScale, a *= canvasScale;
            for (var s = 0; s < this.aHitAreas.length; s++) this.aHitAreas[s].oData.isDown && (this.aHitAreas[s].oData.isDown = !1, this.aHitAreas[s].aTouchIdentifiers = new Array, this.aHitAreas[s].oData.multiTouch && (this.aHitAreas[s].oData.x = e, this.aHitAreas[s].oData.y = a, this.aHitAreas[s].callback(this.aHitAreas[s].id, this.aHitAreas[s].oData)))
        }, t.prototype.userExitLock = function(t) {
            document.pointerLockElement !== canvas && document.mozPointerLockElement !== canvas && butEventHandler("pause")
        }, t.prototype.lockPointer = function(t) {
            t || (t = canvas), t.requestPointerLock ? t.requestPointerLock() : t.webkitRequestPointerLock ? t.webkitRequestPointerLock() : t.mozRequestPointerLock ? t.mozRequestPointerLock() : console.warn("Pointer locking not supported"), "onpointerlockchange" in document ? document.addEventListener("pointerlockchange", this.userExitLock, !1) : "onmozpointerlockchange" in document && document.addEventListener("mozpointerlockchange", this.userExitLock, !1)
        }, t.prototype.unlockPointer = function() {
            document.exitPointerLock ? document.exitPointerLock() : document.webkitExitPointerLock ? document.webkitExitPointerLock() : document.mozExitPointerLock ? document.mozExitPointerLock() : console.warn("Pointer unlocking not supported"), "onpointerlockchange" in document ? document.removeEventListener("pointerlockchange", this.userExitLock, !1) : "onmozpointerlockchange" in document && document.removeEventListener("mozpointerlockchange", this.userExitLock, !1)
        }, t.prototype.move = function(t, e, a, i, s) {
            if (!this.pauseIsOn && !window.famobi.paused) {
                if (!isMobile && null != userBat && !firstRun)
                    if (document.pointerLockElement === canvas || document.mozPointerLockElement === canvas) {
                        const {
                            movementX: e,
                            movementY: a
                        } = t;
                        window.famobi.pointerLockHelper && (window.famobi.pointerLockHelper.mousePos.x + e < fenster.innerWidth && window.famobi.pointerLockHelper.mousePos.x + e > 0 && (window.famobi.pointerLockHelper.mousePos.x += e), window.famobi.pointerLockHelper.mousePos.y + a < fenster.innerHeight && window.famobi.pointerLockHelper.mousePos.y + a > 0 && (window.famobi.pointerLockHelper.mousePos.y += a)), userBat.targX = window.famobi.pointerLockHelper.mousePos.x * canvasScale, userBat.targY = window.famobi.pointerLockHelper.mousePos.y * canvasScale
                    } else userBat.targX = e * canvasScale, userBat.targY = a * canvasScale, window.famobi.pointerLockHelper && (window.famobi.pointerLockHelper.mousePos = {
                        x: e,
                        y: a
                    });
                if (s) {
                    e *= canvasScale, a *= canvasScale;
                    for (var o = 0; o < this.aHitAreas.length; o++)
                        if (this.aHitAreas[o].rect) {
                            var r = canvas.width * this.aHitAreas[o].align[0],
                                n = canvas.height * this.aHitAreas[o].align[1];
                            if (e > r + this.aHitAreas[o].area[0] && a > n + this.aHitAreas[o].area[1] && e < r + this.aHitAreas[o].area[2] && a < n + this.aHitAreas[o].area[3]) this.aHitAreas[o].oData.hasLeft = !1, this.aHitAreas[o].oData.isDraggable && !this.aHitAreas[o].oData.isDown && (this.aHitAreas[o].oData.isDown = !0, this.aHitAreas[o].oData.x = e, this.aHitAreas[o].oData.y = a, this.aHitAreas[o].aTouchIdentifiers.push(i), this.aHitAreas[o].oData.multiTouch && this.aHitAreas[o].callback(this.aHitAreas[o].id, this.aHitAreas[o].oData)), this.aHitAreas[o].oData.isDraggable && (this.aHitAreas[o].oData.isBeingDragged = !0, this.aHitAreas[o].oData.x = e, this.aHitAreas[o].oData.y = a, this.aHitAreas[o].callback(this.aHitAreas[o].id, this.aHitAreas[o].oData), this.aHitAreas[o] && (this.aHitAreas[o].oData.isBeingDragged = !1));
                            else if (this.aHitAreas[o].oData.isDown && !this.aHitAreas[o].oData.hasLeft) {
                                for (var h = 0; h < this.aHitAreas[o].aTouchIdentifiers.length; h++) this.aHitAreas[o].aTouchIdentifiers[h] == i && (this.aHitAreas[o].aTouchIdentifiers.splice(h, 1), h -= 1);
                                0 == this.aHitAreas[o].aTouchIdentifiers.length && (this.aHitAreas[o].oData.hasLeft = !0, this.aHitAreas[o].oData.isBeingDragged || (this.aHitAreas[o].oData.isDown = !1), this.aHitAreas[o].oData.multiTouch && this.aHitAreas[o].callback(this.aHitAreas[o].id, this.aHitAreas[o].oData))
                            }
                        }
                }
            }
        }, t.prototype.keyDown = function(t) {
            for (var e = 0; e < this.aKeys.length; e++) t.keyCode == this.aKeys[e].keyCode && (t.preventDefault(), this.aKeys[e].oData.isDown = !0, this.aKeys[e].callback(this.aKeys[e].id, this.aKeys[e].oData))
        }, t.prototype.keyUp = function(t) {
            for (var e = 0; e < this.aKeys.length; e++) t.keyCode == this.aKeys[e].keyCode && (t.preventDefault(), this.aKeys[e].oData.isDown = !1, this.aKeys[e].callback(this.aKeys[e].id, this.aKeys[e].oData))
        }, t.prototype.checkKeyFocus = function() {
            window.focus(), this.aKeys.length > 0 && (window.removeEventListener("keydown", this.keyDownEvtFunc, !1), window.removeEventListener("keyup", this.keyUpEvtFunc, !1), window.addEventListener("keydown", this.keyDownEvtFunc, !1), window.addEventListener("keyup", this.keyUpEvtFunc, !1))
        }, t.prototype.addKey = function(t, e, a, i) {
            null == a && (a = new Object), this.aKeys.push({
                id: t,
                callback: e,
                oData: a,
                keyCode: i
            }), this.checkKeyFocus()
        }, t.prototype.removeKey = function(t) {
            for (var e = 0; e < this.aKeys.length; e++) this.aKeys[e].id == t && (this.aKeys.splice(e, 1), e -= 1)
        }, t.prototype.addHitArea = function(t, e, a, i, s, o) {
            void 0 === o && (o = !1), null == a && (a = new Object), o && this.removeHitArea(t), s.scale || (s.scale = 1), s.align || (s.align = [0, 0]);
            var r = new Array;
            switch (i) {
                case "image":
                    var n;
                    n = new Array(s.aPos[0] - s.oImgData.oData.oAtlasData[s.id].width / 2 * s.scale, s.aPos[1] - s.oImgData.oData.oAtlasData[s.id].height / 2 * s.scale, s.aPos[0] + s.oImgData.oData.oAtlasData[s.id].width / 2 * s.scale, s.aPos[1] + s.oImgData.oData.oAtlasData[s.id].height / 2 * s.scale), this.aHitAreas.push({
                        id: t,
                        aTouchIdentifiers: r,
                        callback: e,
                        oData: a,
                        rect: !0,
                        area: n,
                        align: s.align
                    });
                    break;
                case "rect":
                    this.aHitAreas.push({
                        id: t,
                        aTouchIdentifiers: r,
                        callback: e,
                        oData: a,
                        rect: !0,
                        area: s.aRect,
                        align: s.align
                    })
            }
        }, t.prototype.removeHitArea = function(t) {
            for (var e = 0; e < this.aHitAreas.length; e++) this.aHitAreas[e].id == t && (this.aHitAreas.splice(e, 1), e -= 1)
        }, t.prototype.resetAll = function() {
            for (var t = 0; t < this.aHitAreas.length; t++) this.aHitAreas[t].oData.isDown = !1, this.aHitAreas[t].oData.isBeingDragged = !1, this.aHitAreas[t].aTouchIdentifiers = new Array;
            this.isDown = !1
        }, t
    }();
    t.UserInput = e
}(Utils || (Utils = {})),
function(t) {
    var e = function() {
        function t(t) {
            this.updateFreq = 10, this.updateInc = 0, this.frameAverage = 0, this.display = 1, this.log = "", this.render = function(t) {
                this.frameAverage += this.delta / this.updateFreq, ++this.updateInc >= this.updateFreq && (this.updateInc = 0, this.display = this.frameAverage, this.frameAverage = 0), t.textAlign = "left", ctx.font = "10px Helvetica", t.fillStyle = "#333333", t.beginPath(), t.rect(0, this.canvasHeight - 15, 40, 15), t.closePath(), t.fill(), t.fillStyle = "#ffffff", t.fillText(Math.round(1e3 / (1e3 * this.display)) + " fps " + this.log, 5, this.canvasHeight - 5)
            }, this.canvasHeight = t
        }
        return t.prototype.update = function(t) {
            this.delta = t
        }, t
    }();
    t.FpsMeter = e
}(Utils || (Utils = {})),
function(t) {
    var e = function() {
        function t() {
            this.x = 0, this.y = 0, this.targY = 0, this.incY = 0, this.renderState = null, this.wallId = 0, this.oImgData = assetLib.getData("background"), this.oGameElementsImgData = assetLib.getData("gameElements"), (forcedModeProperties = window.famobi.getFeatureProperties("forced_mode")).state = forcedModeProperties.state || {}, forcedModeProperties.override = forcedModeProperties.override || {}, this.wallId = parseInt(forcedModeProperties.state.wall_id || oGameData.cupId % 5)
        }
        return t.prototype.renderGame = function() {
            ctx.fillStyle = "rgba(0, 0, 0, 1)", ctx.fillRect(0, 0, canvas.width, canvas.height);
            var t = this.oGameElementsImgData.oData.oAtlasData[oImageIds.tableBgBottom].x,
                e = this.oGameElementsImgData.oData.oAtlasData[oImageIds.tableBgBottom].y,
                a = this.oGameElementsImgData.oData.oAtlasData[oImageIds.tableBgBottom].width,
                i = this.oGameElementsImgData.oData.oAtlasData[oImageIds.tableBgBottom].height,
                s = canvas.height / 4 - 220 + 193 + 25 * tableTop.offsetY;
            ctx.drawImage(this.oGameElementsImgData.img, t, e, a, i, 0, s, canvas.width, (canvas.height - s) * (1 + tableTop.offsetY / 3) * 1.1);
            t = this.oGameElementsImgData.oData.oAtlasData[oImageIds["tableBg" + this.wallId]].x, e = this.oGameElementsImgData.oData.oAtlasData[oImageIds["tableBg" + this.wallId]].y, a = this.oGameElementsImgData.oData.oAtlasData[oImageIds["tableBg" + this.wallId]].width, i = this.oGameElementsImgData.oData.oAtlasData[oImageIds["tableBg" + this.wallId]].height;
            ctx.drawImage(this.oGameElementsImgData.img, t, e, a, i, 0, canvas.height / 4 - 220 + 25 * tableTop.offsetY, canvas.width, i)
        }, t.prototype.renderMenu = function() {
            ctx.drawImage(this.oImgData.img, 0, 0, this.oImgData.img.width, this.oImgData.img.height, 0, 0, canvas.width, canvas.height)
        }, t
    }();
    t.Background = e
}(Elements || (Elements = {})),
function(t) {
    var e = function() {
        function t(t, e) {
            this.timer = .3, this.endTime = 0, this.posY = 0, this.largeNumberSpace = 68, this.smallNumberSpace = 17, this.scoreNumberSpace = 15, this.incY = 0, this.flareRot = 0, this.cupFlipInc = 0, this.userCardScale = 1, this.enemyCardScale = 1, this.userBatX = 0, this.userBatY = 0, this.enemyBatX = 0, this.enemyBatY = 0, this.ballX = 0, this.ballY = 0, this.ballHeight = 0, this.oSplashLogoImgData = assetLib.getData("splashLogo"), this.oCountryFlagsImgData = assetLib.getData("countryFlags"), this.oUiElementsImgData = assetLib.getData("uiElements"), this.oLargeNumbersImgData = assetLib.getData("largeNumbers"), this.oSmallNumbersImgData = assetLib.getData("smallNumbers"), this.oScoreNumbersImgData = assetLib.getData("scoreNumbers"), this.oGameElementsImgData = assetLib.getData("gameElements"), this.panelType = t, this.aButs = e, this.cupFlipInc = 0
        }
        return t.prototype.update = function() {
            this.incY += 10 * delta
        }, t.prototype.startTween1 = function() {
            this.posY = 500, TweenLite.to(this, .5, {
                posY: 0,
                ease: "Cubic.easeOut"
            })
        }, t.prototype.startTut = function() {
            var t = this;
            this.userBatX = -50, this.userBatY = 85, this.enemyBatX = 0, this.enemyBatY = -130, this.ballX = 0, this.ballY = 19, TweenLite.to(this, .55, {
                delay: .35,
                userBatX: 50,
                userBatY: -60,
                ease: "Back.easeOut",
                onComplete: function() {
                    t.movePlayerBat(0)
                }
            }), TweenLite.to(this, .5, {
                delay: .8,
                enemyBatX: 50,
                ease: "Back.easeOut",
                onComplete: function() {}
            }), this.ballHeight = 30, TweenLite.to(this, .55, {
                delay: .5,
                ballX: 30,
                ballY: -100,
                ease: "Linear.easeNone",
                onComplete: function() {}
            }), TweenLite.to(this, .6, {
                delay: .6,
                ballHeight: -30,
                ease: "Quad.easeIn",
                onComplete: function() {}
            })
        }, t.prototype.movePlayerBat = function(t) {
            var e = this;
            switch (t) {
                case 0:
                    TweenLite.to(this, .5, {
                        userBatX: 130,
                        userBatY: 85,
                        ease: "Quad.easeInOut",
                        onComplete: function() {
                            e.movePlayerBat(1)
                        }
                    }), TweenLite.to(this, .65, {
                        delay: .25,
                        ballX: 75,
                        ballY: 50,
                        ease: "Quad.easeIn",
                        onComplete: function() {
                            TweenLite.to(e, .65, {
                                ballX: -20,
                                ballY: -100,
                                ease: "Quad.easeOut",
                                onComplete: function() {}
                            })
                        }
                    }), TweenLite.to(this, .65, {
                        delay: .25,
                        ballHeight: 40,
                        ease: "Quad.easeIn",
                        onComplete: function() {
                            TweenLite.to(e, .65, {
                                ballHeight: -30,
                                ease: "Quad.easeIn",
                                onComplete: function() {}
                            })
                        }
                    });
                    break;
                case 1:
                    TweenLite.to(this, .5, {
                        delay: .3,
                        userBatX: -30,
                        userBatY: -60,
                        ease: "Back.easeOut",
                        onComplete: function() {
                            e.movePlayerBat(2)
                        }
                    }), TweenLite.to(this, .5, {
                        delay: .8,
                        enemyBatX: -30,
                        ease: "Back.easeOut",
                        onComplete: function() {}
                    });
                    break;
                case 2:
                    TweenLite.to(this, .5, {
                        userBatX: -130,
                        userBatY: 85,
                        ease: "Quad.easeInOut",
                        onComplete: function() {
                            e.movePlayerBat(3)
                        }
                    }), TweenLite.to(this, .65, {
                        delay: .25,
                        ballX: -75,
                        ballY: 50,
                        ease: "Quad.easeIn",
                        onComplete: function() {
                            TweenLite.to(e, .65, {
                                ballX: 20,
                                ballY: -100,
                                ease: "Quad.easeOut",
                                onComplete: function() {}
                            })
                        }
                    }), TweenLite.to(this, .65, {
                        delay: .25,
                        ballHeight: 40,
                        ease: "Quad.easeIn",
                        onComplete: function() {
                            TweenLite.to(e, .65, {
                                ballHeight: -30,
                                ease: "Quad.easeIn",
                                onComplete: function() {}
                            })
                        }
                    });
                    break;
                case 3:
                    TweenLite.to(this, .5, {
                        delay: .3,
                        userBatX: 30,
                        userBatY: -60,
                        ease: "Back.easeOut",
                        onComplete: function() {
                            e.movePlayerBat(0)
                        }
                    }), TweenLite.to(this, .5, {
                        delay: .8,
                        enemyBatX: 30,
                        ease: "Back.easeOut",
                        onComplete: function() {}
                    })
            }
        }, t.prototype.cardTween = function(t) {
            "user" == t ? (this.userCardScale = .25, TweenLite.to(this, .5, {
                userCardScale: 1,
                ease: "Bounce.easeOut"
            })) : (this.enemyCardScale = .25, TweenLite.to(this, .5, {
                enemyCardScale: 1,
                ease: "Bounce.easeOut"
            }))
        }, t.prototype.switchBut = function(t, e) {
            for (var a = 0; a < this.aButs.length; a++)
                if (this.aButs[a].id == t) {
                    this.aButs[a].id = e;
                    break
                }
        }, t.prototype.render = function(t) {
            switch (void 0 === t && (t = !0), t || this.addButs(ctx), this.panelType) {
                case "splash":
                    ctx.fillStyle = "rgba(0, 0, 0, 0.35)", ctx.fillRect(0, 0, canvas.width, canvas.height), ctx.drawImage(this.oSplashLogoImgData.img, canvas.width / 2 - this.oSplashLogoImgData.img.width / 2, canvas.height / 2 - this.oSplashLogoImgData.img.height / 2 - this.posY);
                    break;
                case "start":
                    var e = this.oUiElementsImgData.oData.oAtlasData[oImageIds.titleFadeBar].x,
                        a = this.oUiElementsImgData.oData.oAtlasData[oImageIds.titleFadeBar].y,
                        i = this.oUiElementsImgData.oData.oAtlasData[oImageIds.titleFadeBar].width,
                        s = this.oUiElementsImgData.oData.oAtlasData[oImageIds.titleFadeBar].height;
                    ctx.drawImage(this.oUiElementsImgData.img, e, a, i, s, 0, .57 * canvas.height - s / 2 + this.posY / 2, canvas.width, s);
                    e = this.oUiElementsImgData.oData.oAtlasData[oImageIds.titleBats].x, a = this.oUiElementsImgData.oData.oAtlasData[oImageIds.titleBats].y, i = this.oUiElementsImgData.oData.oAtlasData[oImageIds.titleBats].width, s = this.oUiElementsImgData.oData.oAtlasData[oImageIds.titleBats].height;
                    var o = Math.min(canvas.height / 3 / s, 1);
                    ctx.drawImage(this.oUiElementsImgData.img, e, a, i, s, canvas.width / 2 - i / 2 * o, .57 * canvas.height - s / 2 * o - this.posY / 4, i * o, s * o);
                    e = this.oUiElementsImgData.oData.oAtlasData[oImageIds.titleBall].x, a = this.oUiElementsImgData.oData.oAtlasData[oImageIds.titleBall].y, i = this.oUiElementsImgData.oData.oAtlasData[oImageIds.titleBall].width, s = this.oUiElementsImgData.oData.oAtlasData[oImageIds.titleBall].height;
                    ctx.drawImage(this.oUiElementsImgData.img, e, a, i, s, canvas.width / 2 - (i / 2 + 50) * o, .57 * canvas.height - (s / 2 + 50) * o - this.posY / 3, i * o, s * o);
                    e = this.oUiElementsImgData.oData.oAtlasData[oImageIds.globeLogo].x, a = this.oUiElementsImgData.oData.oAtlasData[oImageIds.globeLogo].y, i = this.oUiElementsImgData.oData.oAtlasData[oImageIds.globeLogo].width, s = this.oUiElementsImgData.oData.oAtlasData[oImageIds.globeLogo].height;
                    ctx.drawImage(this.oUiElementsImgData.img, e, a, i, s, canvas.width / 2 - i / 2, .2 * canvas.height - s / 2 + 80 - this.posY / 2, i, s);
                    e = this.oUiElementsImgData.oData.oAtlasData[oImageIds.titleLogo].x, a = this.oUiElementsImgData.oData.oAtlasData[oImageIds.titleLogo].y, i = this.oUiElementsImgData.oData.oAtlasData[oImageIds.titleLogo].width, s = this.oUiElementsImgData.oData.oAtlasData[oImageIds.titleLogo].height;
                    ctx.drawImage(this.oUiElementsImgData.img, e, a, i, s, canvas.width / 2 - i / 2, .2 * canvas.height - s / 2 - this.posY, i, s);
                    break;
                case "credits":
                    ctx.fillStyle = "rgba(0, 0, 0, 0.35)", ctx.fillRect(0, 0, canvas.width, canvas.height), ctx.drawImage(this.oSplashLogoImgData.img, canvas.width / 2 - this.oSplashLogoImgData.img.width / 2, .45 * canvas.height - this.oSplashLogoImgData.img.height / 2 - this.posY);
                    break;
                case "chooseCountry":
                    for (var r = 0; r < countryFlags.aIds.length / 2; r++) {
                        var n = r + flagPage * (countryFlags.aIds.length / 2);
                        e = this.oUiElementsImgData.oData.oAtlasData[oImageIds.countryBut].x, a = this.oUiElementsImgData.oData.oAtlasData[oImageIds.countryBut].y, i = this.oUiElementsImgData.oData.oAtlasData[oImageIds.countryBut].width, s = this.oUiElementsImgData.oData.oAtlasData[oImageIds.countryBut].height;
                        ctx.drawImage(this.oUiElementsImgData.img, e, a, i, s, canvas.width / 2 - i / 2 + 120 * (r % 4 - 2) + 60, canvas.height / 2 - s / 2 - 5 * this.posY / (r + 1) + 90 * (Math.floor(r / 4) - 2.5) + 45, i, s);
                        var h = countryFlags.getBData(countryFlags.aIds[n]);
                        ctx.drawImage(this.oCountryFlagsImgData.img, h.bX, h.bY, h.bWidth, h.bHeight, canvas.width / 2 - h.bWidth / 2 + 120 * (r % 4 - 2) + 60, canvas.height / 2 - h.bHeight / 2 - 5 * this.posY / (r + 1) + 90 * (Math.floor(r / 4) - 2.5) + 45, h.bWidth, h.bHeight)
                    }
                    var l = flagPage + 1,
                        u = canvas.width / 2 - 20,
                        m = canvas.height - 28,
                        d = (o = .75, l * this.oSmallNumbersImgData.oData.spriteWidth % this.oSmallNumbersImgData.img.width),
                        c = Math.floor(l / (this.oSmallNumbersImgData.img.width / this.oSmallNumbersImgData.oData.spriteWidth)) * this.oSmallNumbersImgData.oData.spriteHeight;
                    ctx.drawImage(this.oSmallNumbersImgData.img, d, c, this.oSmallNumbersImgData.oData.spriteWidth, this.oSmallNumbersImgData.oData.spriteHeight, u, m - this.posY / 2, this.oSmallNumbersImgData.oData.spriteWidth * o, this.oSmallNumbersImgData.oData.spriteHeight * o);
                    d = (l = 10) * this.oSmallNumbersImgData.oData.spriteWidth % this.oSmallNumbersImgData.img.width, c = Math.floor(l / (this.oSmallNumbersImgData.img.width / this.oSmallNumbersImgData.oData.spriteWidth)) * this.oSmallNumbersImgData.oData.spriteHeight;
                    ctx.drawImage(this.oSmallNumbersImgData.img, d, c, this.oSmallNumbersImgData.oData.spriteWidth, this.oSmallNumbersImgData.oData.spriteHeight, u + this.smallNumberSpace * o, m - this.posY / 2, this.oSmallNumbersImgData.oData.spriteWidth * o, this.oSmallNumbersImgData.oData.spriteHeight * o);
                    d = (l = 2) * this.oSmallNumbersImgData.oData.spriteWidth % this.oSmallNumbersImgData.img.width, c = Math.floor(l / (this.oSmallNumbersImgData.img.width / this.oSmallNumbersImgData.oData.spriteWidth)) * this.oSmallNumbersImgData.oData.spriteHeight;
                    ctx.drawImage(this.oSmallNumbersImgData.img, d, c, this.oSmallNumbersImgData.oData.spriteWidth, this.oSmallNumbersImgData.oData.spriteHeight, u + 2 * this.smallNumberSpace * o, m - this.posY / 2, this.oSmallNumbersImgData.oData.spriteWidth * o, this.oSmallNumbersImgData.oData.spriteHeight * o);
                    break;
                case "map":
                    e = this.oUiElementsImgData.oData.oAtlasData[oImageIds.titleFadeBar].x, a = this.oUiElementsImgData.oData.oAtlasData[oImageIds.titleFadeBar].y, i = this.oUiElementsImgData.oData.oAtlasData[oImageIds.titleFadeBar].width, s = this.oUiElementsImgData.oData.oAtlasData[oImageIds.titleFadeBar].height;
                    ctx.drawImage(this.oUiElementsImgData.img, e, a, i, s, 0, .5 * canvas.height - s / 2 + this.posY / 2, canvas.width, s);
                    e = this.oUiElementsImgData.oData.oAtlasData[oImageIds.map].x, a = this.oUiElementsImgData.oData.oAtlasData[oImageIds.map].y, i = this.oUiElementsImgData.oData.oAtlasData[oImageIds.map].width, s = this.oUiElementsImgData.oData.oAtlasData[oImageIds.map].height;
                    ctx.drawImage(this.oUiElementsImgData.img, e, a, i, s, canvas.width / 2 - i / 2, .45 * canvas.height - s / 2 - this.posY / 2, i, s);
                    for (r = 0; r < aMapMarkerPos.length; r++) {
                        var g = canvas.width / 2 + aMapMarkerPos[r][0],
                            p = .45 * canvas.height + aMapMarkerPos[r][1] - this.posY * (1 + r / 2),
                            f = 0;
                        r < oGameData.cupId ? f = 2 : r == oGameData.cupId && (f = 1, this.flare(g, p, .5));
                        e = this.oUiElementsImgData.oData.oAtlasData[oImageIds["mapMarker" + f]].x, a = this.oUiElementsImgData.oData.oAtlasData[oImageIds["mapMarker" + f]].y, i = this.oUiElementsImgData.oData.oAtlasData[oImageIds["mapMarker" + f]].width, s = this.oUiElementsImgData.oData.oAtlasData[oImageIds["mapMarker" + f]].height;
                        ctx.drawImage(this.oUiElementsImgData.img, e, a, i, s, g - i / 2, p - s / 2, i, s);
                        for (var _ = (r + 1).toString(), I = 0; I < _.length; I++) {
                            o = .23, d = (l = parseFloat(_.charAt(I))) * this.oLargeNumbersImgData.oData.spriteWidth % this.oLargeNumbersImgData.img.width, c = Math.floor(l / (this.oLargeNumbersImgData.img.width / this.oLargeNumbersImgData.oData.spriteWidth)) * this.oLargeNumbersImgData.oData.spriteHeight;
                            ctx.drawImage(this.oLargeNumbersImgData.img, d, c, this.oLargeNumbersImgData.oData.spriteWidth, this.oLargeNumbersImgData.oData.spriteHeight, g + (I * this.largeNumberSpace - _.length * this.largeNumberSpace / 2) * o - 2, p - this.oLargeNumbersImgData.oData.spriteHeight / 2 * o, this.oLargeNumbersImgData.oData.spriteWidth * o, this.oLargeNumbersImgData.oData.spriteHeight * o)
                        }
                        o = .5;
                        if (2 == f) {
                            e = this.oUiElementsImgData.oData.oAtlasData[oImageIds.cup3].x, a = this.oUiElementsImgData.oData.oAtlasData[oImageIds.cup3].y, i = this.oUiElementsImgData.oData.oAtlasData[oImageIds.cup3].width, s = this.oUiElementsImgData.oData.oAtlasData[oImageIds.cup3].height;
                            ctx.drawImage(this.oUiElementsImgData.img, e, a, i, s, g - i / 2 * o + 26, p - s / 2 * o - 12, i * o, s * o)
                        } else if (1 == f) {
                            e = this.oUiElementsImgData.oData.oAtlasData[oImageIds.cup2].x, a = this.oUiElementsImgData.oData.oAtlasData[oImageIds.cup2].y, i = this.oUiElementsImgData.oData.oAtlasData[oImageIds.cup2].width, s = this.oUiElementsImgData.oData.oAtlasData[oImageIds.cup2].height;
                            ctx.drawImage(this.oUiElementsImgData.img, e, a, i, s, g - i / 2 * o + 26, p - s / 2 * o - 12, i * o, s * o);
                            e = this.oUiElementsImgData.oData.oAtlasData[oImageIds.cup3].x, a = this.oUiElementsImgData.oData.oAtlasData[oImageIds.cup3].y, i = this.oUiElementsImgData.oData.oAtlasData[oImageIds.cup3].width, s = this.oUiElementsImgData.oData.oAtlasData[oImageIds.cup3].height;
                            ctx.drawImage(this.oUiElementsImgData.img, e, a + s - oGameData.gameId / 6 * s, i, Math.max(oGameData.gameId / 6 * s, .1), g - i / 2 * o + 26, p - s / 2 * o - 12 + (s - oGameData.gameId / 6 * s) * o - this.posY / 2, i * o, Math.max(oGameData.gameId / 6 * s, .1) * o)
                        }
                    }
                    break;
                case "gameIntro":
                    e = this.oUiElementsImgData.oData.oAtlasData[oImageIds.titleFadeBar].x, a = this.oUiElementsImgData.oData.oAtlasData[oImageIds.titleFadeBar].y, i = this.oUiElementsImgData.oData.oAtlasData[oImageIds.titleFadeBar].width, s = this.oUiElementsImgData.oData.oAtlasData[oImageIds.titleFadeBar].height;
                    ctx.drawImage(this.oUiElementsImgData.img, e, a, i, s, 0, .6 * canvas.height - s / 2 + this.posY / 2, canvas.width, s);
                    e = this.oUiElementsImgData.oData.oAtlasData[oImageIds.titleBats].x, a = this.oUiElementsImgData.oData.oAtlasData[oImageIds.titleBats].y, i = this.oUiElementsImgData.oData.oAtlasData[oImageIds.titleBats].width, s = this.oUiElementsImgData.oData.oAtlasData[oImageIds.titleBats].height, o = Math.min(canvas.height / 3 / s, 1);
                    ctx.drawImage(this.oUiElementsImgData.img, e, a, i, s, canvas.width / 2 - i / 2 * o, .3 * canvas.height - s / 2 * o - this.posY / 2, i * o, s * o);
                    u = 22, m = 120, d = (l = oGameData.gameId + 1) * this.oSmallNumbersImgData.oData.spriteWidth % this.oSmallNumbersImgData.img.width, c = Math.floor(l / (this.oSmallNumbersImgData.img.width / this.oSmallNumbersImgData.oData.spriteWidth)) * this.oSmallNumbersImgData.oData.spriteHeight;
                    ctx.drawImage(this.oSmallNumbersImgData.img, d, c, this.oSmallNumbersImgData.oData.spriteWidth, this.oSmallNumbersImgData.oData.spriteHeight, u, m - this.posY / 2, this.oSmallNumbersImgData.oData.spriteWidth, this.oSmallNumbersImgData.oData.spriteHeight);
                    d = (l = 10) * this.oSmallNumbersImgData.oData.spriteWidth % this.oSmallNumbersImgData.img.width, c = Math.floor(l / (this.oSmallNumbersImgData.img.width / this.oSmallNumbersImgData.oData.spriteWidth)) * this.oSmallNumbersImgData.oData.spriteHeight;
                    ctx.drawImage(this.oSmallNumbersImgData.img, d, c, this.oSmallNumbersImgData.oData.spriteWidth, this.oSmallNumbersImgData.oData.spriteHeight, u + this.smallNumberSpace, m - this.posY / 2, this.oSmallNumbersImgData.oData.spriteWidth, this.oSmallNumbersImgData.oData.spriteHeight);
                    d = (l = 6) * this.oSmallNumbersImgData.oData.spriteWidth % this.oSmallNumbersImgData.img.width, c = Math.floor(l / (this.oSmallNumbersImgData.img.width / this.oSmallNumbersImgData.oData.spriteWidth)) * this.oSmallNumbersImgData.oData.spriteHeight;
                    ctx.drawImage(this.oSmallNumbersImgData.img, d, c, this.oSmallNumbersImgData.oData.spriteWidth, this.oSmallNumbersImgData.oData.spriteHeight, u + 2 * this.smallNumberSpace, m - this.posY / 2, this.oSmallNumbersImgData.oData.spriteWidth, this.oSmallNumbersImgData.oData.spriteHeight);
                    o = .8, e = this.oUiElementsImgData.oData.oAtlasData[oImageIds.cup0].x, a = this.oUiElementsImgData.oData.oAtlasData[oImageIds.cup0].y, i = this.oUiElementsImgData.oData.oAtlasData[oImageIds.cup0].width, s = this.oUiElementsImgData.oData.oAtlasData[oImageIds.cup0].height;
                    if (ctx.drawImage(this.oUiElementsImgData.img, e, a, i, s, 5, 5 - this.posY / 2, i * o, s * o), this.cupFlipInc += 4 * delta, Math.floor(this.cupFlipInc) % 2 == 0) {
                        var v = 2,
                            D = (e = this.oUiElementsImgData.oData.oAtlasData[oImageIds["cup" + v]].x, a = this.oUiElementsImgData.oData.oAtlasData[oImageIds["cup" + v]].y, i = this.oUiElementsImgData.oData.oAtlasData[oImageIds["cup" + v]].width, s = this.oUiElementsImgData.oData.oAtlasData[oImageIds["cup" + v]].height, oGameData.gameId + 1);
                        ctx.drawImage(this.oUiElementsImgData.img, e, a + s - D / 6 * s, i, Math.max(1 / 6 * s, .1), 5, 5 + (s - D / 6 * s) * o - this.posY / 2, i * o, Math.max(1 / 6 * s, .1) * o)
                    }
                    v = 3, e = this.oUiElementsImgData.oData.oAtlasData[oImageIds["cup" + v]].x, a = this.oUiElementsImgData.oData.oAtlasData[oImageIds["cup" + v]].y, i = this.oUiElementsImgData.oData.oAtlasData[oImageIds["cup" + v]].width, s = this.oUiElementsImgData.oData.oAtlasData[oImageIds["cup" + v]].height, D = oGameData.gameId;
                    ctx.drawImage(this.oUiElementsImgData.img, e, a + s - D / 6 * s, i, Math.max(D / 6 * s, .1), 5, 5 + (s - D / 6 * s) * o - this.posY / 2, i * o, Math.max(D / 6 * s, .1) * o);
                    d = (l = 10) * this.oLargeNumbersImgData.oData.spriteWidth % this.oLargeNumbersImgData.img.width, c = Math.floor(l / (this.oLargeNumbersImgData.img.width / this.oLargeNumbersImgData.oData.spriteWidth)) * this.oLargeNumbersImgData.oData.spriteHeight;
                    ctx.drawImage(this.oLargeNumbersImgData.img, d, c, this.oLargeNumbersImgData.oData.spriteWidth, this.oLargeNumbersImgData.oData.spriteHeight, canvas.width / 2 - this.oLargeNumbersImgData.oData.spriteWidth / 2 - this.largeNumberSpace / 2, .2 * canvas.height - this.oLargeNumbersImgData.oData.spriteHeight / 2 - this.posY, this.oLargeNumbersImgData.oData.spriteWidth, this.oLargeNumbersImgData.oData.spriteHeight);
                    d = (l = oGameData.gameId + 1) * this.oLargeNumbersImgData.oData.spriteWidth % this.oLargeNumbersImgData.img.width, c = Math.floor(l / (this.oLargeNumbersImgData.img.width / this.oLargeNumbersImgData.oData.spriteWidth)) * this.oLargeNumbersImgData.oData.spriteHeight;
                    ctx.drawImage(this.oLargeNumbersImgData.img, d, c, this.oLargeNumbersImgData.oData.spriteWidth, this.oLargeNumbersImgData.oData.spriteHeight, canvas.width / 2 - this.oLargeNumbersImgData.oData.spriteWidth / 2 + this.largeNumberSpace / 2, .2 * canvas.height - this.oLargeNumbersImgData.oData.spriteHeight / 2 - this.posY, this.oLargeNumbersImgData.oData.spriteWidth, this.oLargeNumbersImgData.oData.spriteHeight);
                    e = this.oUiElementsImgData.oData.oAtlasData[oImageIds.vsText].x, a = this.oUiElementsImgData.oData.oAtlasData[oImageIds.vsText].y, i = this.oUiElementsImgData.oData.oAtlasData[oImageIds.vsText].width, s = this.oUiElementsImgData.oData.oAtlasData[oImageIds.vsText].height;
                    ctx.drawImage(this.oUiElementsImgData.img, e, a, i, s, canvas.width / 2 - i / 2, .6 * canvas.height - s / 2 - this.posY / 4, i, s);
                    h = countryFlags.getBData(oGameData.userId), o = 1.2;
                    ctx.drawImage(this.oCountryFlagsImgData.img, h.bX, h.bY, h.bWidth, h.bHeight, canvas.width / 2 - h.bWidth / 2 * o - 120, .6 * canvas.height - h.bHeight / 2 * o - this.posY / 4, h.bWidth * o, h.bHeight * o);
                    h = countryFlags.getBData(oGameData.enemyId);
                    ctx.drawImage(this.oCountryFlagsImgData.img, h.bX, h.bY, h.bWidth, h.bHeight, canvas.width / 2 - h.bWidth / 2 * o + 120, .6 * canvas.height - h.bHeight / 2 * o - this.posY / 4, h.bWidth * o, h.bHeight * o);
                    break;
                case "game":
                    let t = !0,
                        x = !0;
                    if (null != forcedModeProperties && null != forcedModeProperties.override && Array.isArray(forcedModeProperties.override.hide_ui) && (t = !forcedModeProperties.override.hide_ui.includes("score"), x = !forcedModeProperties.override.hide_ui.includes("flags")), t) {
                        e = this.oGameElementsImgData.oData.oAtlasData[oImageIds.scoreCard].x, a = this.oGameElementsImgData.oData.oAtlasData[oImageIds.scoreCard].y, i = this.oGameElementsImgData.oData.oAtlasData[oImageIds.scoreCard].width, s = this.oGameElementsImgData.oData.oAtlasData[oImageIds.scoreCard].height;
                        ctx.drawImage(this.oGameElementsImgData.img, e, a, i, s, canvas.width / 2 - i / 2 - 22, 0 - this.posY / 2, i, s * this.userCardScale);
                        var y = oGameData.userScore.toString();
                        for (r = 0; r < y.length; r++) {
                            d = (l = parseFloat(y.charAt(r))) * this.oScoreNumbersImgData.oData.spriteWidth % this.oScoreNumbersImgData.img.width, c = Math.floor(l / (this.oScoreNumbersImgData.img.width / this.oScoreNumbersImgData.oData.spriteWidth)) * this.oScoreNumbersImgData.oData.spriteHeight;
                            ctx.drawImage(this.oScoreNumbersImgData.img, d, c, this.oScoreNumbersImgData.oData.spriteWidth, this.oScoreNumbersImgData.oData.spriteHeight, canvas.width / 2 - 24 + r * this.scoreNumberSpace - y.length * this.scoreNumberSpace / 2, 15 - this.posY / 2, this.oScoreNumbersImgData.oData.spriteWidth, this.oScoreNumbersImgData.oData.spriteHeight * this.userCardScale)
                        }
                        e = this.oGameElementsImgData.oData.oAtlasData[oImageIds.scoreCard].x, a = this.oGameElementsImgData.oData.oAtlasData[oImageIds.scoreCard].y, i = this.oGameElementsImgData.oData.oAtlasData[oImageIds.scoreCard].width, s = this.oGameElementsImgData.oData.oAtlasData[oImageIds.scoreCard].height;
                        ctx.drawImage(this.oGameElementsImgData.img, e, a, i, s, canvas.width / 2 - i / 2 + 22, 0 - this.posY / 2, i, s * this.enemyCardScale);
                        for (y = oGameData.enemyScore.toString(), r = 0; r < y.length; r++) {
                            d = (l = parseFloat(y.charAt(r))) * this.oScoreNumbersImgData.oData.spriteWidth % this.oScoreNumbersImgData.img.width, c = Math.floor(l / (this.oScoreNumbersImgData.img.width / this.oScoreNumbersImgData.oData.spriteWidth)) * this.oScoreNumbersImgData.oData.spriteHeight;
                            ctx.drawImage(this.oScoreNumbersImgData.img, d, c, this.oScoreNumbersImgData.oData.spriteWidth, this.oScoreNumbersImgData.oData.spriteHeight, canvas.width / 2 + 19 + r * this.scoreNumberSpace - y.length * this.scoreNumberSpace / 2, 15 - this.posY / 2, this.oScoreNumbersImgData.oData.spriteWidth, this.oScoreNumbersImgData.oData.spriteHeight * this.enemyCardScale)
                        }
                    }
                    if (x) {
                        h = countryFlags.getBData(oGameData.userId), o = .7;
                        ctx.drawImage(this.oCountryFlagsImgData.img, h.bX, h.bY, h.bWidth, h.bHeight, canvas.width / 2 - h.bWidth / 2 * o - 80, 10 - this.posY, h.bWidth * o, h.bHeight * o);
                        h = countryFlags.getBData(oGameData.enemyId);
                        ctx.drawImage(this.oCountryFlagsImgData.img, h.bX, h.bY, h.bWidth, h.bHeight, canvas.width / 2 - h.bWidth / 2 * o + 80, 10 - this.posY, h.bWidth * o, h.bHeight * o)
                    }
                    if (firstRun) {
                        ctx.fillStyle = "rgba(0, 0, 0, 0.5)", ctx.fillRect(0, 0, canvas.width, canvas.height);
                        e = this.oUiElementsImgData.oData.oAtlasData[oImageIds.tutScreen].x, a = this.oUiElementsImgData.oData.oAtlasData[oImageIds.tutScreen].y, i = this.oUiElementsImgData.oData.oAtlasData[oImageIds.tutScreen].width, s = this.oUiElementsImgData.oData.oAtlasData[oImageIds.tutScreen].height;
                        ctx.drawImage(this.oUiElementsImgData.img, e, a, i, s, canvas.width / 2 - i / 2, canvas.height / 2 - s / 2 - this.posY / 2, i, s);
                        var b = 0;
                        o = .2;
                        ctx.save(), ctx.translate(canvas.width / 2 + this.enemyBatX, canvas.height / 2 + this.enemyBatY - this.posY / 2), ctx.rotate(this.enemyBatX / 100), ctx.scale(o, o);
                        e = this.oGameElementsImgData.oData.oAtlasData[oImageIds["enemyBat" + b]].x, a = this.oGameElementsImgData.oData.oAtlasData[oImageIds["enemyBat" + b]].y, i = this.oGameElementsImgData.oData.oAtlasData[oImageIds["enemyBat" + b]].width, s = this.oGameElementsImgData.oData.oAtlasData[oImageIds["enemyBat" + b]].height;
                        if (ctx.drawImage(this.oGameElementsImgData.img, e, a, i, s, -i / 2, -s / 3, i, s), ctx.restore(), o = .4, this.ballY < 20) {
                            e = this.oGameElementsImgData.oData.oAtlasData[oImageIds.ballShadow].x, a = this.oGameElementsImgData.oData.oAtlasData[oImageIds.ballShadow].y, i = this.oGameElementsImgData.oData.oAtlasData[oImageIds.ballShadow].width, s = this.oGameElementsImgData.oData.oAtlasData[oImageIds.ballShadow].height;
                            ctx.drawImage(this.oGameElementsImgData.img, e, a, i, s, canvas.width / 2 + this.ballX - i / 2 * o, canvas.height / 2 + this.ballY - s / 2 * o - this.posY / 2, i * o, s * o)
                        }
                        o = .4;
                        e = this.oGameElementsImgData.oData.oAtlasData[oImageIds.ball].x, a = this.oGameElementsImgData.oData.oAtlasData[oImageIds.ball].y, i = this.oGameElementsImgData.oData.oAtlasData[oImageIds.ball].width, s = this.oGameElementsImgData.oData.oAtlasData[oImageIds.ball].height;
                        ctx.drawImage(this.oGameElementsImgData.img, e, a, i, s, canvas.width / 2 + this.ballX - i / 2 * o, canvas.height / 2 + this.ballY - s * o - this.posY / 2 - Math.abs(this.ballHeight), i * o, s * o);
                        b = 4, o = .45;
                        ctx.save(), ctx.translate(canvas.width / 2 + this.userBatX, canvas.height / 2 + this.userBatY - this.posY / 2), ctx.rotate(this.userBatX / 100), ctx.scale(o, o);
                        e = this.oGameElementsImgData.oData.oAtlasData[oImageIds["enemyBat" + b]].x, a = this.oGameElementsImgData.oData.oAtlasData[oImageIds["enemyBat" + b]].y, i = this.oGameElementsImgData.oData.oAtlasData[oImageIds["enemyBat" + b]].width, s = this.oGameElementsImgData.oData.oAtlasData[oImageIds["enemyBat" + b]].height;
                        ctx.drawImage(this.oGameElementsImgData.img, e, a, i, s, -i / 2, -s / 2, i, s), ctx.restore(), o = .4;
                        e = this.oGameElementsImgData.oData.oAtlasData[oImageIds.finger].x, a = this.oGameElementsImgData.oData.oAtlasData[oImageIds.finger].y, i = this.oGameElementsImgData.oData.oAtlasData[oImageIds.finger].width, s = this.oGameElementsImgData.oData.oAtlasData[oImageIds.finger].height;
                        ctx.drawImage(this.oGameElementsImgData.img, e, a, i, s, canvas.width / 2 + this.userBatX, canvas.height / 2 + this.userBatY - this.posY / 2, i, s)
                    }
                    break;
                case "gameComplete":
                    oGameData.userScore > oGameData.enemyScore && this.flare(canvas.width / 2, .2 * canvas.height - 10 - this.posY);
                    e = this.oUiElementsImgData.oData.oAtlasData[oImageIds.titleFadeBar].x, a = this.oUiElementsImgData.oData.oAtlasData[oImageIds.titleFadeBar].y, i = this.oUiElementsImgData.oData.oAtlasData[oImageIds.titleFadeBar].width, s = this.oUiElementsImgData.oData.oAtlasData[oImageIds.titleFadeBar].height;
                    if (ctx.drawImage(this.oUiElementsImgData.img, e, a, i, s, 0, .55 * canvas.height - s / 2 + this.posY / 2, canvas.width, s), justWonCup) {
                        if (!forcedMode) {
                            e = this.oUiElementsImgData.oData.oAtlasData[oImageIds.cup3].x, a = this.oUiElementsImgData.oData.oAtlasData[oImageIds.cup3].y, i = this.oUiElementsImgData.oData.oAtlasData[oImageIds.cup3].width, s = this.oUiElementsImgData.oData.oAtlasData[oImageIds.cup3].height;
                            ctx.drawImage(this.oUiElementsImgData.img, e, a, i, s, canvas.width / 2 - i / 2, .2 * canvas.height - s / 2 - this.posY, i, s)
                        }
                    } else {
                        if (!forcedMode) {
                            o = .8;
                            var e = this.oUiElementsImgData.oData.oAtlasData[oImageIds.cup0].x,
                                a = this.oUiElementsImgData.oData.oAtlasData[oImageIds.cup0].y,
                                i = this.oUiElementsImgData.oData.oAtlasData[oImageIds.cup0].width,
                                s = this.oUiElementsImgData.oData.oAtlasData[oImageIds.cup0].height;
                            ctx.drawImage(this.oUiElementsImgData.img, e, a, i, s, 5, 5 - this.posY / 2, i * o, s * o);
                            v = 3, e = this.oUiElementsImgData.oData.oAtlasData[oImageIds["cup" + v]].x, a = this.oUiElementsImgData.oData.oAtlasData[oImageIds["cup" + v]].y, i = this.oUiElementsImgData.oData.oAtlasData[oImageIds["cup" + v]].width, s = this.oUiElementsImgData.oData.oAtlasData[oImageIds["cup" + v]].height;
                            ctx.drawImage(this.oUiElementsImgData.img, e, a + s - oGameData.gameId / 6 * s, i, Math.max(oGameData.gameId / 6 * s, .1), 5, 5 + (s - oGameData.gameId / 6 * s) * o - this.posY / 2, i * o, Math.max(oGameData.gameId / 6 * s, .1) * o);
                            u = 22, m = 120, d = (l = oGameData.gameId) * this.oSmallNumbersImgData.oData.spriteWidth % this.oSmallNumbersImgData.img.width, c = Math.floor(l / (this.oSmallNumbersImgData.img.width / this.oSmallNumbersImgData.oData.spriteWidth)) * this.oSmallNumbersImgData.oData.spriteHeight;
                            ctx.drawImage(this.oSmallNumbersImgData.img, d, c, this.oSmallNumbersImgData.oData.spriteWidth, this.oSmallNumbersImgData.oData.spriteHeight, u, m - this.posY / 2, this.oSmallNumbersImgData.oData.spriteWidth, this.oSmallNumbersImgData.oData.spriteHeight);
                            d = (l = 10) * this.oSmallNumbersImgData.oData.spriteWidth % this.oSmallNumbersImgData.img.width, c = Math.floor(l / (this.oSmallNumbersImgData.img.width / this.oSmallNumbersImgData.oData.spriteWidth)) * this.oSmallNumbersImgData.oData.spriteHeight;
                            ctx.drawImage(this.oSmallNumbersImgData.img, d, c, this.oSmallNumbersImgData.oData.spriteWidth, this.oSmallNumbersImgData.oData.spriteHeight, u + this.smallNumberSpace, m - this.posY / 2, this.oSmallNumbersImgData.oData.spriteWidth, this.oSmallNumbersImgData.oData.spriteHeight);
                            d = (l = 6) * this.oSmallNumbersImgData.oData.spriteWidth % this.oSmallNumbersImgData.img.width, c = Math.floor(l / (this.oSmallNumbersImgData.img.width / this.oSmallNumbersImgData.oData.spriteWidth)) * this.oSmallNumbersImgData.oData.spriteHeight;
                            ctx.drawImage(this.oSmallNumbersImgData.img, d, c, this.oSmallNumbersImgData.oData.spriteWidth, this.oSmallNumbersImgData.oData.spriteHeight, u + 2 * this.smallNumberSpace, m - this.posY / 2, this.oSmallNumbersImgData.oData.spriteWidth, this.oSmallNumbersImgData.oData.spriteHeight)
                        }
                        var w = oImageIds.winIcon;
                        oGameData.userScore < oGameData.enemyScore && (w = oImageIds.loseIcon);
                        e = this.oUiElementsImgData.oData.oAtlasData[w].x, a = this.oUiElementsImgData.oData.oAtlasData[w].y, i = this.oUiElementsImgData.oData.oAtlasData[w].width, s = this.oUiElementsImgData.oData.oAtlasData[w].height;
                        ctx.drawImage(this.oUiElementsImgData.img, e, a, i, s, canvas.width / 2 - i / 2, .2 * canvas.height - s / 2 - this.posY, i, s)
                    }
                    e = this.oUiElementsImgData.oData.oAtlasData[oImageIds.globeLogo].x, a = this.oUiElementsImgData.oData.oAtlasData[oImageIds.globeLogo].y, i = this.oUiElementsImgData.oData.oAtlasData[oImageIds.globeLogo].width, s = this.oUiElementsImgData.oData.oAtlasData[oImageIds.globeLogo].height;
                    ctx.drawImage(this.oUiElementsImgData.img, e, a, i, s, canvas.width / 2 - i / 2, .55 * canvas.height - s / 2 + 80 - this.posY / 4, i, s);
                    for (y = oGameData.userScore.toString(), r = 0; r < y.length; r++) {
                        d = (l = parseFloat(y.charAt(r))) * this.oLargeNumbersImgData.oData.spriteWidth % this.oLargeNumbersImgData.img.width, c = Math.floor(l / (this.oLargeNumbersImgData.img.width / this.oLargeNumbersImgData.oData.spriteWidth)) * this.oLargeNumbersImgData.oData.spriteHeight;
                        ctx.drawImage(this.oLargeNumbersImgData.img, d, c, this.oLargeNumbersImgData.oData.spriteWidth, this.oLargeNumbersImgData.oData.spriteHeight, canvas.width / 2 - 120 + r * this.largeNumberSpace - y.length * this.largeNumberSpace / 2, .55 * canvas.height - 10 - s / 2 - this.posY / 3, this.oLargeNumbersImgData.oData.spriteWidth, this.oLargeNumbersImgData.oData.spriteHeight)
                    }
                    d = (l = 12) * this.oLargeNumbersImgData.oData.spriteWidth % this.oLargeNumbersImgData.img.width, c = Math.floor(l / (this.oLargeNumbersImgData.img.width / this.oLargeNumbersImgData.oData.spriteWidth)) * this.oLargeNumbersImgData.oData.spriteHeight;
                    ctx.drawImage(this.oLargeNumbersImgData.img, d, c, this.oLargeNumbersImgData.oData.spriteWidth, this.oLargeNumbersImgData.oData.spriteHeight, canvas.width / 2 - this.oLargeNumbersImgData.oData.spriteWidth / 3, .55 * canvas.height - 10 - this.oLargeNumbersImgData.oData.spriteHeight / 2 - this.posY / 2, this.oLargeNumbersImgData.oData.spriteWidth, this.oLargeNumbersImgData.oData.spriteHeight);
                    for (y = oGameData.enemyScore.toString(), r = 0; r < y.length; r++) {
                        d = (l = parseFloat(y.charAt(r))) * this.oLargeNumbersImgData.oData.spriteWidth % this.oLargeNumbersImgData.img.width, c = Math.floor(l / (this.oLargeNumbersImgData.img.width / this.oLargeNumbersImgData.oData.spriteWidth)) * this.oLargeNumbersImgData.oData.spriteHeight;
                        ctx.drawImage(this.oLargeNumbersImgData.img, d, c, this.oLargeNumbersImgData.oData.spriteWidth, this.oLargeNumbersImgData.oData.spriteHeight, canvas.width / 2 + 120 + r * this.largeNumberSpace - y.length * this.largeNumberSpace / 2, .55 * canvas.height - 10 - s / 2 - this.posY / 3, this.oLargeNumbersImgData.oData.spriteWidth, this.oLargeNumbersImgData.oData.spriteHeight)
                    }
                    h = countryFlags.getBData(oGameData.userId), o = 1.2;
                    ctx.drawImage(this.oCountryFlagsImgData.img, h.bX, h.bY, h.bWidth, h.bHeight, canvas.width / 2 - h.bWidth / 2 * o - 120, .55 * canvas.height - 110 - h.bHeight / 2 * o - this.posY / 2, h.bWidth * o, h.bHeight * o);
                    h = countryFlags.getBData(oGameData.enemyId);
                    ctx.drawImage(this.oCountryFlagsImgData.img, h.bX, h.bY, h.bWidth, h.bHeight, canvas.width / 2 - h.bWidth / 2 * o + 120, .55 * canvas.height - 110 - h.bHeight / 2 * o - this.posY / 2, h.bWidth * o, h.bHeight * o);
                    break;
                case "pause":
                    ctx.fillStyle = "rgba(0, 0, 0, 0.75)", ctx.fillRect(0, 0, canvas.width, canvas.height)
            }
            t && this.addButs(ctx)
        }, t.prototype.flare = function(t, e, a) {
            void 0 === a && (a = 1), this.flareRot += delta;
            var i = Math.sin(1 * this.flareRot) / 2 / 3;
            ctx.save(), ctx.translate(t, e), ctx.rotate(this.flareRot), ctx.scale(a * (1 + i), a * (1 - i));
            var s = this.oUiElementsImgData.oData.oAtlasData[oImageIds.flare].x,
                o = this.oUiElementsImgData.oData.oAtlasData[oImageIds.flare].y,
                r = this.oUiElementsImgData.oData.oAtlasData[oImageIds.flare].width,
                n = this.oUiElementsImgData.oData.oAtlasData[oImageIds.flare].height;
            ctx.drawImage(this.oUiElementsImgData.img, s, o, r, n, -r / 2, -n / 2, r, n), ctx.scale(1 * (1 - i), 1 * (1 + i)), ctx.scale(1 * (1 - i), 1 * (1 + i)), ctx.rotate(2 * -this.flareRot), ctx.drawImage(this.oUiElementsImgData.img, s, o, r, n, -r / 2, -n / 2, r, n), ctx.restore()
        }, t.prototype.addButs = function(t) {
            for (var e = 0; e < this.aButs.length; e++) {
                var a = this.posY,
                    i = 0;
                0 == this.incY || this.aButs[e].noMove || (i = 3 * Math.sin(this.incY + 45 * e)), this.aButs[e].scale || (this.aButs[e].scale = 1);
                var s = this.aButs[e].oImgData.oData.oAtlasData[this.aButs[e].id].x,
                    o = this.aButs[e].oImgData.oData.oAtlasData[this.aButs[e].id].y,
                    r = this.aButs[e].oImgData.oData.oAtlasData[this.aButs[e].id].width,
                    n = this.aButs[e].oImgData.oData.oAtlasData[this.aButs[e].id].height,
                    h = canvas.width * this.aButs[e].align[0],
                    l = canvas.height * this.aButs[e].align[1];
                t.drawImage(this.aButs[e].oImgData.img, s, o, r, n, h + this.aButs[e].aPos[0] - r / 2 * this.aButs[e].scale + a - i / 2, l + this.aButs[e].aPos[1] - n / 2 * this.aButs[e].scale + i / 2, r * this.aButs[e].scale + i, n * this.aButs[e].scale - i)
            }
        }, t
    }();
    t.Panel = e
}(Elements || (Elements = {})),
function(t) {
    var e = function() {
        function t() {
            this.x = 0, this.y = 0, this.rotation = 0, this.scale = 1, this.oGameElementsImgData = assetLib.getData("gameElements"), this.targX = canvas.width / 2, this.targY = canvas.height - 150
        }
        return t.prototype.update = function() {
            this.maxY = canvas.height / 4 + this.oGameElementsImgData.oData.oAtlasData[oImageIds.table0].height / tableTop.segs * (.28 * tableTop.segs) * (1 + tableTop.offsetY / 3) + 50 * tableTop.offsetY, this.prevX = this.x, this.prevY = this.y, this.x = this.targX, this.y = Math.max(this.targY, this.maxY), this.rotation = Math.max(Math.min((this.x - canvas.width / 2) / 200, 90 * radian), -90 * radian), this.scale = .47 + (this.y - this.maxY) / 500
        }, t.prototype.getHitData = function(t, e) {
            t = Math.min(Math.max(t, -1), 1);
            var a = Math.max(Math.min((this.x - this.prevX) / delta, 3500), -3500) / 3500,
                i = Math.max(Math.min((this.prevY - this.y) / delta, 4500) / 4500, 0),
                s = 0;
            if (i < .5 && (a > .5 ? s = -2 * (a - .5) * (1 - 2 * i) : a < -.5 && (s = -2 * (a + .5) * (1 - 2 * i))), a *= t < 0 ? a > 0 ? 1 - t / 1 : 1.2 : a < 0 ? 1 + t / 1 : 1.2, 0 == ball.servingState && (a *= .5), this.hitX = a + .8 * t, this.hitY = .4 * (1 - i), null != forcedModeProperties && null != forcedModeProperties.override && forcedModeProperties.override.curve_mode) {
                let t = .5;
                "number" == typeof forcedModeProperties.override.curve_strength && (t = forcedModeProperties.override.curve_strength), s = -2 * (a + t * (a > 0 ? 1 : -1)) * (1 - 2 * i)
            }
            let o = .3 + .3 / .4 * (.4 - this.hitY);
            return forcedModeProperties.override.powerhit_mode && !player_serve && (o = .6), {
                x: this.hitX,
                y: this.hitY,
                speed: o,
                spin: s
            }
        }, t.prototype.render = function() {
            ctx.save(), ctx.translate(this.x, this.y - 20 * this.scale), ctx.scale(this.scale, this.scale * Math.min(1 - (this.y - .5 * canvas.height) / (.5 * canvas.height) * .3, 1)), ctx.rotate(this.rotation);
            var t = this.oGameElementsImgData.oData.oAtlasData[oImageIds.userBatCentre].x,
                e = this.oGameElementsImgData.oData.oAtlasData[oImageIds.userBatCentre].y,
                a = this.oGameElementsImgData.oData.oAtlasData[oImageIds.userBatCentre].width,
                i = this.oGameElementsImgData.oData.oAtlasData[oImageIds.userBatCentre].height;
            ctx.drawImage(this.oGameElementsImgData.img, t, e, a, i, -a / 2, -i / 3, a, i), ctx.rotate(-this.rotation), ctx.translate(0, Math.min(7 * Math.max((this.y - .5 * canvas.height) / (.5 * canvas.height), 0), 7)), ctx.rotate(this.rotation);
            t = this.oGameElementsImgData.oData.oAtlasData[oImageIds.userBatEdge].x, e = this.oGameElementsImgData.oData.oAtlasData[oImageIds.userBatEdge].y, a = this.oGameElementsImgData.oData.oAtlasData[oImageIds.userBatEdge].width, i = this.oGameElementsImgData.oData.oAtlasData[oImageIds.userBatEdge].height;
            ctx.drawImage(this.oGameElementsImgData.img, t, e, a, i, -a / 2, -i / 3 - 23, a, i), ctx.restore()
        }, t
    }();
    t.UserBat = e
}(Elements || (Elements = {})),
function(t) {
    var e = function() {
        function t() {
            if (this.x = 0, this.y = 0, this.rotation = 0, this.scale = 1, this.speedX = 3e3, this.maxAcc = 500, this.skillLevel = 0, this.id = 0, this.aEases = new Array("Quad.easeInOut", "Back.easeOut", "Cubic.easeOut", "Back.easeInOut"), this.trackBall = !1, this.slideInc = 0, this.flailInc = 0, this.oGameElementsImgData = assetLib.getData("gameElements"), this.x = canvas.width / 2, this.targX = 0, this.targY = 0, this.accX = 0, this.id = (6 * oGameData.cupId + oGameData.gameId) % 7, forcedMode) {
                if (null != forcedModeProperties && null != forcedModeProperties.override && "string" == typeof forcedModeProperties.override.enemy_difficulty) {
                    switch (forcedModeProperties.override.enemy_difficulty) {
                        case "easy":
                            this.skillLevel = .1;
                            break;
                        case "medium":
                        default:
                            this.skillLevel = .5;
                            break;
                        case "hard":
                            this.skillLevel = 1;
                            break;
                        case "broken":
                            this.skillLevel = 2
                    }
                    console.log("Difficulty: " + forcedModeProperties.override.enemy_difficulty + " => " + this.skillLevel)
                }
            } else 0 == oGameData.cupId ? this.skillLevel = (oGameData.gameId + 1) * (2.5 / 6) / 10 : this.skillLevel = (2.5 + 7.5 / 9 * (oGameData.cupId - 1) + (oGameData.gameId + 1) * (7.5 / 9 / 6)) / 10
        }
        return t.prototype.resetToCentre = function() {
            this.trackBall = !1, this.moveTween && this.moveTween.kill(), this.targX = this.x - canvas.width / 2, this.moveTween = TweenLite.to(this, 1, {
                targX: 0,
                targY: 0,
                ease: "Quad.easeInOut",
                onComplete: function() {
                    "enemy" == ball.lastHit && ball.enemyServe()
                }
            })
        }, t.prototype.flail = function() {
            var t = this;
            this.flailInc = 0;
            var e = 1;
            ball.x < this.x && (e = -1), TweenLite.to(this, .5, {
                flailInc: e,
                ease: "Quad.easeInOut",
                onComplete: function() {
                    TweenLite.to(t, .5, {
                        flailInc: 0,
                        ease: "Quad.easeInOut"
                    })
                }
            })
        }, t.prototype.setBouncePos = function(t, e, a) {
            var i = this;
            this.moveTween && this.moveTween.kill();
            this.oGameElementsImgData.oData.oAtlasData[oImageIds.table0].height;
            if ((0 == a || 1 * Math.random() < .25) && 1 != ball.servingState) {
                this.trackBall = !1;
                var s = 0;
                1 * Math.random() > .75 + .2 * this.skillLevel && (s = 100 * Math.random() - 50);
                var o = e * e * 235 * (1 + tableTop.offsetY / 2) / 2,
                    r = o * (tableTop.offsetX + .6 * t) * 1.28 * (1 + tableTop.offsetY / 2) + 233 * t / 2 + 100 * a;
                this.moveTween = TweenLite.to(this, (.35 * Math.random() + .3) * (1 + .75 * (1 - this.skillLevel)), {
                    delay: .2 * Math.random(),
                    targX: r + s,
                    targY: o,
                    ease: this.aEases[Math.floor(Math.random() * this.aEases.length)],
                    onComplete: function() {
                        "enemy" == ball.lastHit && (i.moveTween = TweenLite.to(i, (.35 * Math.random() + .3) * (1 + .5 * (1 - i.skillLevel)), {
                            delay: .3 * Math.random() * (1 + .5 * (1 - i.skillLevel)),
                            targX: 200 * Math.random() - 100,
                            targY: 0,
                            ease: "Quad.easeInOut"
                        }))
                    }
                })
            } else this.trackBall = !0, this.slideInc = 0, this.moveTween = TweenLite.to(this, (.35 * Math.random() + .3) * (1 + .5 * (1 - this.skillLevel)), {
                targY: 0,
                ease: "Quad.easeInOut"
            })
        }, t.prototype.update = function() {
            window.famobi.paused || (this.y = this.targY + canvas.height / 4 + 50 * tableTop.offsetY - 45, this.trackBall ? (this.x > ball.x + 15 ? this.slideInc = Math.max(this.slideInc - 1e3 * delta, -50 * this.skillLevel - 50) : this.x < ball.x - 15 && (this.slideInc = Math.min(this.slideInc + 1e3 * delta, 50 + 50 * this.skillLevel)), this.x += 4 * this.slideInc * delta, "enemy" == ball.lastHit && (this.targX = this.x - canvas.width / 2, this.moveTween = TweenLite.to(this, (.35 * Math.random() + .3) * (1 + .5 * (1 - this.skillLevel)), {
                delay: .3 * Math.random() * (1 + .5 * (1 - this.skillLevel)),
                targX: 200 * Math.random() - 100,
                targY: 0,
                ease: "Quad.easeInOut"
            }), this.trackBall = !1)) : this.x = this.targX + canvas.width / 2, this.rotation = (this.x - canvas.width / 2) / 200, this.scale = .4 + (this.y - canvas.height / 4) / 300, this.x = Math.min(Math.max(this.x, canvas.width / 2 - 250), canvas.width / 2 + 250))
        }, t.prototype.getHitData = function(t, e) {
            0 == ball.servingState ? (this.hitX = 2 * Math.random() - 1, this.hitY = .2 * Math.random() + .65) : (this.hitX = (2 * Math.random() - 1) * (1 + .25 * (1 - this.skillLevel)), this.hitY = .4 * Math.random() + .65);
            var a = 0;
            if (this.hitY < .8 && (this.hitX > .1 ? a = -1 * Math.random() * (.75 + .25 * this.skillLevel) : this.hitX < -.1 && (a = 1 * Math.random() * (.75 + .25 * this.skillLevel))), null != forcedModeProperties && null != forcedModeProperties.override && forcedModeProperties.override.curve_mode) {
                let t = 1;
                "number" == typeof forcedModeProperties.override.curve_strength && (t = forcedModeProperties.override.curve_strength), a = (2 * Math.random() - 1) * (.75 + .25 * this.skillLevel) * t
            }
            var i = .3 + .3 / .4 * (this.hitY - .6) * (.25 + .75 * this.skillLevel);
            return forcedModeProperties.override.powerhit_mode && (i = .6), {
                x: this.hitX,
                y: this.hitY,
                speed: i,
                spin: a
            }
        }, t.prototype._getHitData = function(t, e) {
            0 == ball.servingState ? (this.hitX = 2 * Math.random() - 1, this.hitY = .2 * Math.random() + .65) : (this.hitX = (2 * Math.random() - 1) * (1 + .25 * (1 - this.skillLevel)), this.hitY = .4 * Math.random() + .65);
            var a = 0;
            if (this.hitY < .8 && (this.hitX > .1 ? a = -1 * Math.random() * (.75 + .25 * this.skillLevel) : this.hitX < -.1 && (a = 1 * Math.random() * (.75 + .25 * this.skillLevel))), null != forcedModeProperties && null != forcedModeProperties.override && forcedModeProperties.override.curve_mode) {
                let t = 1;
                "number" == typeof forcedModeProperties.override.curve_strength && (t = forcedModeProperties.override.curve_strength), a = (2 * Math.random() - 1) * (.75 + .25 * this.skillLevel) * t
            }
            var i = .3 + .3 / .4 * (this.hitY - .6) * (.25 + .75 * this.skillLevel);
            return {
                x: this.hitX,
                y: this.hitY,
                speed: i,
                spin: a
            }
        }, t.prototype.render = function() {
            ctx.save(), ctx.translate(this.x + (tableTop.offsetX + .8 * this.flailInc) * tableTop.sideMultiplier, this.y), ctx.rotate(this.rotation), ctx.scale(this.scale, this.scale);
            var t = this.oGameElementsImgData.oData.oAtlasData[oImageIds["enemyBat" + this.id]].x,
                e = this.oGameElementsImgData.oData.oAtlasData[oImageIds["enemyBat" + this.id]].y,
                a = this.oGameElementsImgData.oData.oAtlasData[oImageIds["enemyBat" + this.id]].width,
                i = this.oGameElementsImgData.oData.oAtlasData[oImageIds["enemyBat" + this.id]].height;
            ctx.drawImage(this.oGameElementsImgData.img, t, e, a, i, -a / 2, -i / 3, a, i), ctx.restore()
        }, t
    }();
    t.EnemyBat = e
}(Elements || (Elements = {})),
function(t) {
    var e = function() {
        function t() {
            this.x = 0, this.y = 0, this.height = 0, this.tablePosY = .5, this.tablePosX = 0, this.scale = 0, this.lastHit = "user", this.speed = .45, this.offTable = !1, this.pause = !1, this.spin = 0, this.spinInc = 0, this.servingState = 0, this.canHit = !1, this.serveFlip = !0, this.offSide = !1, this.bounceX = 0, this.bounceY = 0, this.ballShortState = 0, this.oGameElementsImgData = assetLib.getData("gameElements"), this.resetServe("user")
        }
        return t.prototype.resetServe = function(t) {
            var e = this;
            this.servingState = 0, this.canHit = !1, enemyBat.resetToCentre(), tableTop.tweenToPos(0, 1, this.speed, this.lastHit, this.spin), this.lastHit = t, rallyHits = 0, this.x = -100, this.bounceNum = 0, this.ballShortState = 0, this.offTable = !1, this.offSide = !1, "user" == this.lastHit ? (this.tablePosX = 0, this.tablePosY = .9, this.height = 25, this.heightInc = 0, this.aTrailPoints = new Array, this.tableVX = 0, this.tableVY = 0, player_serve = !0) : (this.tablePosX = 0, this.tablePosY = .2, this.height = 15, this.heightInc = 0, this.aTrailPoints = new Array), this.servePosInc = 0, this.servePrepTween = TweenLite.to(this, .5, {
                servePosInc: 1,
                ease: "Quad.easeOut",
                onComplete: function() {
                    e.canHit = !0
                }
            })
        }, t.prototype.enemyServe = function() {
            this.setBouncePoint(enemyBat._getHitData(this.tablePosX, this.tablePosY))
        }, t.prototype.setBouncePoint = function(t) {
            this.spin = t.spin, this.spinInc = 0, "enemy" == this.lastHit ? (this.targBounceX = t.x, this.targBounceY = t.y, this.speed = t.speed, tableTop.tweenToPos(this.targBounceX, this.targBounceY, this.speed, this.lastHit, this.spin), 0 == this.servingState ? (this.servingState = 1, this.heightInc = -(6 * this.height - 2400) * (.8 - this.speed) * 1.2, this.speed = (this.speed - .3) / 4 + .3) : this.heightInc = (6 * this.height - 2400) * (.8 - this.speed)) : (this.targBounceX = t.x, this.targBounceY = t.y, this.speed = t.speed, 0 == this.servingState ? (this.servingState = 1, player_serve = !1, this.heightInc = -(6 * this.height - 2400) * (.8 - this.speed) * 1.2, this.speed = (this.speed - .3) / 6 + .3) : this.heightInc = (6 * this.height - 2400) * (.8 - this.speed), tableTop.tweenToPos(0, 1, this.speed, this.lastHit, this.spin), enemyBat.setBouncePos(this.targBounceX, this.targBounceY, this.spin)), this.tableVX = (this.targBounceX - this.tablePosX) / (1.1 * (1 - this.speed)), this.tableVY = (this.targBounceY - this.tablePosY) / (1.1 * (1 - this.speed))
        }, t.prototype.update = function() {
            if (!window.famobi.paused)
                if (0 == this.servingState) "user" == this.lastHit ? (this.y = canvas.height / 4 + 50 * tableTop.offsetY + this.tablePosY * this.tablePosY * 235 * (1 + tableTop.offsetY / 2) + 100 * (1 - this.servePosInc), this.tablePosX = Math.min(Math.max((userBat.x - canvas.width / 2) / 300, -.95), .95), this.x = canvas.width / 2 + ((this.y - canvas.height / 4) * (tableTop.offsetX + .6 * this.tablePosX) * 1.28 * (1 + tableTop.offsetY / 2) + 233 * this.tablePosX / 2 + tableTop.offsetX * tableTop.sideMultiplier) + -500 * (1 - this.servePosInc), this.scale = .27 + (this.y - canvas.height / 4) / 600, this.canHit && userBat.getHitData(this.tablePosX, this.tablePosY).y < .4 && userBat.x > this.x - 80 * userBat.scale && userBat.x < this.x + 80 * userBat.scale && userBat.y > this.y - this.height * (3 * this.scale) - 16 - 80 * userBat.scale && userBat.y < this.y - this.height * (3 * this.scale) - 16 + 80 * userBat.scale && (this.bounceNum = 0, this.lastHit = "user", this.setBouncePoint(userBat.getHitData(this.tablePosX, this.tablePosY)))) : (this.y = canvas.height / 4 + 50 * tableTop.offsetY + this.tablePosY * this.tablePosY * 235 * (1 + tableTop.offsetY / 2) + 100 * (1 - this.servePosInc), this.tablePosX = 0, this.x = canvas.width / 2 + ((this.y - canvas.height / 4) * (tableTop.offsetX + .6 * this.tablePosX) * 1.28 * (1 + tableTop.offsetY / 2) + 233 * this.tablePosX / 2 + tableTop.offsetX * tableTop.sideMultiplier) + -500 * (1 - this.servePosInc), this.scale = .27 + (this.y - canvas.height / 4) / 600);
                else {
                    if (this.offTable || ("user" == this.lastHit ? this.spinInc = Math.min(Math.max(this.spinInc + Math.pow(2.5 * this.spin, 3) * delta * (1 - this.tablePosY), -3), 3) : this.spinInc = Math.min(Math.max(this.spinInc + Math.pow(2 * this.spin, 3) * delta * this.tablePosY, -2), 2), this.tablePosX += (this.tableVX + this.spinInc) * delta, this.tablePosY += this.tableVY * delta), !this.offTable && "user" == this.lastHit && this.tablePosY < 0 && (this.offTable = !0, this.offTableVX = 10 * (this.x - this.aTrailPoints[0].x), this.offTableVY = 10 * (this.y - this.aTrailPoints[0].y), this.offTableTween && this.offTableTween.kill(), this.offTableTween = TweenLite.to(this, 2, {
                            offTableVX: 0,
                            offTableVY: 0,
                            ease: "Quad.easeOut"
                        }), enemyBat.flail()), this.heightInc += 3800 * delta, this.height -= this.heightInc * this.speed * delta, 1 == this.ballShortState && this.tablePosY <= .5 && (playSound("hitNet"), this.tableVY *= -.5, this.tableVX *= .5, this.ballShortState = 2, this.heightInc *= .2), this.tablePosX > -1 && this.tablePosX < 1 && this.tablePosY > 0 && this.tablePosY < 1 && this.height <= 0 && !this.offSide) {
                        if (this.height = 0, this.heightInc *= -.85, 0 == this.ballShortState) playSound("bounce" + Math.floor(6 * Math.random()));
                        else this.height = -3;
                        this.bounceNum++, this.bounceX = this.tablePosX, this.bounceY = this.tablePosY, tableTop.bounce(), "user" == this.lastHit && this.tablePosY > .5 && this.servingState > 1 && (this.spin = 0, this.ballShortState = 1)
                    } else(this.tablePosX < -1 || this.tablePosX > 1) && !this.offTable && this.tablePosY < 1 && this.height <= 0 && (this.offSide = !0);
                    if ((this.offTable || this.offSide) && this.height <= -200) return "user" == this.lastHit ? 0 == this.bounceNum ? updateScore("enemy") : updateScore("user") : 0 == this.bounceNum ? updateScore("user") : updateScore("enemy"), ((oGameData.userScore + oGameData.enemyScore) % 2 == 0 || oGameData.userScore >= 10 && oGameData.enemyScore >= 10) && (this.serveFlip = !this.serveFlip), void(this.serveFlip ? this.resetServe("user") : this.resetServe("enemy"));
                    this.oGameElementsImgData.oData.oAtlasData[oImageIds.table0].height;
                    if (this.offTable ? (this.x += this.offTableVX * delta, this.y += this.offTableVY * delta) : (this.y = canvas.height / 4 + 50 * tableTop.offsetY + this.tablePosY * this.tablePosY * 235 * (1 + tableTop.offsetY / 2), this.x = canvas.width / 2 + (this.y - canvas.height / 4) * (tableTop.offsetX + .6 * this.tablePosX) * 1.28 * (1 + tableTop.offsetY / 2) + 233 * this.tablePosX / 2 + tableTop.offsetX * tableTop.sideMultiplier), this.scale = .27 + (this.y - canvas.height / 4) / 600, this.aTrailPoints.push({
                            x: this.x,
                            y: this.y,
                            height: this.height,
                            scale: this.scale
                        }), this.aTrailPoints.length > 5 && this.aTrailPoints.shift(), this.y > canvas.height) return this.bounceNum > 0 || this.ballShortState > 0 ? updateScore("enemy") : updateScore("user"), ((oGameData.userScore + oGameData.enemyScore) % 2 == 0 || oGameData.userScore >= 10 && oGameData.enemyScore >= 10) && (this.serveFlip = !this.serveFlip), void(this.serveFlip ? this.resetServe("user") : this.resetServe("enemy"));
                    "enemy" == this.lastHit && (2 == this.servingState && 1 == this.bounceNum || 1 == this.servingState && 2 == this.bounceNum) && !(this.height < 0 && 0 == this.bounceNum) && this.tablePosY > .5 && userBat.x > this.x - 82 * userBat.scale && userBat.x < this.x + 82 * userBat.scale && userBat.y > this.y - this.height * (3 * this.scale) - 16 - 82 * userBat.scale && userBat.y < this.y - this.height * (3 * this.scale) - 16 + 82 * userBat.scale && (playSound("hit" + Math.floor(6 * Math.random())), rallyHits++, this.servingState = 2, this.bounceNum = 0, this.lastHit = "user", this.setBouncePoint(userBat.getHitData(this.tablePosX, this.tablePosY)), 0 != userBat.getHitData(this.tablePosX, this.tablePosY).spin ? (window.famobi_analytics.trackStats("ball_hit", {
                        hit_type: "curvedBall"
                    }), player_hitType = "curvedBall") : userBat.getHitData(this.tablePosX, this.tablePosY).speed >= .5 ? (window.famobi_analytics.trackStats("ball_hit", {
                        hit_type: "powerBall"
                    }), player_hitType = "powerBall") : (window.famobi_analytics.trackStats("ball_hit"), player_hitType = "")), "user" == this.lastHit && (2 == this.servingState && 1 == this.bounceNum || 1 == this.servingState && 2 == this.bounceNum) && this.tablePosY < .5 && this.tablePosY > 0 && enemyBat.x > this.x - 70 * enemyBat.scale && enemyBat.x < this.x + 70 * enemyBat.scale && enemyBat.y > this.y - this.height * (3 * this.scale) - 16 - 70 * enemyBat.scale && enemyBat.y < this.y - this.height * (3 * this.scale) - 16 + 70 * enemyBat.scale && (playSound("hit" + Math.floor(6 * Math.random())), rallyHits++, this.servingState = 2, this.bounceNum = 0, this.lastHit = "enemy", this.setBouncePoint(enemyBat.getHitData(this.tablePosX, this.tablePosY)), enemy_hitType = 0 != enemyBat.getHitData(this.tablePosX, this.tablePosY).spin ? "curvedBall" : enemyBat.getHitData(this.tablePosX, this.tablePosY).speed >= .5 ? "powerBall" : "")
                }
        }, t.prototype.render = function() {
            if (this.tablePosX > -1 && this.tablePosX < 1 && this.tablePosY > 0 && this.tablePosY < 1) {
                var t = this.oGameElementsImgData.oData.oAtlasData[oImageIds.ballShadow].x,
                    e = this.oGameElementsImgData.oData.oAtlasData[oImageIds.ballShadow].y,
                    a = this.oGameElementsImgData.oData.oAtlasData[oImageIds.ballShadow].width,
                    i = this.oGameElementsImgData.oData.oAtlasData[oImageIds.ballShadow].height;
                ctx.drawImage(this.oGameElementsImgData.img, t, e, a, i, this.x - a / 2 * this.scale, this.y - i / 2 * this.scale, a * this.scale, i * this.scale)
            }
            "enemy" == this.lastHit && 0 == this.ballShortState && this.renderTrail();
            t = this.oGameElementsImgData.oData.oAtlasData[oImageIds.ball].x, e = this.oGameElementsImgData.oData.oAtlasData[oImageIds.ball].y, a = this.oGameElementsImgData.oData.oAtlasData[oImageIds.ball].width, i = this.oGameElementsImgData.oData.oAtlasData[oImageIds.ball].height;
            ctx.drawImage(this.oGameElementsImgData.img, t, e, a, i, this.x - a / 2 * this.scale, this.y - i / 2 * this.scale - this.height * (3 * this.scale) - 16, a * this.scale, i * this.scale), "user" == this.lastHit && 0 == this.ballShortState && this.renderTrail()
        }, t.prototype.renderTrail = function() {
            for (var t = Math.floor(this.aTrailPoints.length / .3 * (Math.max(Math.min(this.speed, .6), .3) - .3)), e = 0; e < t; e++) {
                var a = this.aTrailPoints.length - t + e;
                (a < 0 || a > this.aTrailPoints.length - 1) && console.log(a, t, this.speed);
                var i = this.oGameElementsImgData.oData.oAtlasData[oImageIds["ballTrail" + a]].x,
                    s = this.oGameElementsImgData.oData.oAtlasData[oImageIds["ballTrail" + a]].y,
                    o = this.oGameElementsImgData.oData.oAtlasData[oImageIds["ballTrail" + a]].width,
                    r = this.oGameElementsImgData.oData.oAtlasData[oImageIds["ballTrail" + a]].height;
                ctx.drawImage(this.oGameElementsImgData.img, i, s, o, r, this.aTrailPoints[a].x - o / 2 * this.aTrailPoints[a].scale, this.aTrailPoints[a].y - r / 2 * this.aTrailPoints[a].scale - this.aTrailPoints[a].height * (3 * this.aTrailPoints[a].scale) - 16, o * this.aTrailPoints[a].scale, r * this.aTrailPoints[a].scale)
            }
        }, t
    }();
    t.Ball = e
}(Elements || (Elements = {})),
function(t) {
    var e = function() {
        function t() {
            this.segs = 75, this.offsetX = 0, this.offsetY = 0, this.netY = 0, this.netHeight = 0, this.id = 0, this.sideMultiplier = 100, this.bounceMarkScale = 0, this.oGameElementsImgData = assetLib.getData("gameElements"), this.oShadowImgData = assetLib.getData("shadow"), this.id = (6 * oGameData.cupId + oGameData.gameId) % 4, isMobile || (this.segs = 150)
        }
        return t.prototype.bounce = function() {
            this.bounceMarkScale = 1, TweenLite.to(this, .3, {
                bounceMarkScale: 0,
                ease: "Quad.easeIn"
            })
        }, t.prototype.tweenToPos = function(t, e, a, i, s) {
            this.offsetTween && this.offsetTween.kill();
            var o = 0,
                r = 0;
            (t > .3 || t < -.3) && (o = -t / 1.75 - s / 2);
            var n = .5;
            "enemy" == i && (n = .5, r = (1 - 2 * (e - .5)) * (.3 - (a - .3)) / .3), this.offsetTween = TweenLite.to(this, n, {
                offsetX: o,
                offsetY: r,
                ease: "Quad.easeOut"
            })
        }, t.prototype.render = function() {
            var t = this.oGameElementsImgData.oData.oAtlasData[oImageIds.net].height;
            this.netY = canvas.height / 4 - t + this.oGameElementsImgData.oData.oAtlasData[oImageIds.table0].height / this.segs * (.282 * this.segs) * (1 + this.offsetY / 3) + 50 * this.offsetY, this.netHeight = t * (1 + this.offsetY / 3);
            var e = this.oGameElementsImgData.oData.oAtlasData[oImageIds.tableClip].x,
                a = this.oGameElementsImgData.oData.oAtlasData[oImageIds.tableClip].y,
                i = this.oGameElementsImgData.oData.oAtlasData[oImageIds.tableClip].width;
            t = this.oGameElementsImgData.oData.oAtlasData[oImageIds.tableClip].height;
            ctx.drawImage(this.oGameElementsImgData.img, e, a, i, t, canvas.width / 2 - i / 2 * (1 + this.offsetY / 3) + this.offsetX * (.282 * this.segs) * 3 * (1 + this.offsetY / 3) + this.offsetX * this.sideMultiplier, this.netY + this.netHeight - 3 * (1 + this.offsetY / 3), i * (1 + this.offsetY / 3), t * (1 + this.offsetY / 3)), ctx.drawImage(this.oShadowImgData.img, 0, 0, this.oShadowImgData.img.width, this.oShadowImgData.img.height, canvas.width / 2 - this.oShadowImgData.img.width / 2 * (1 + this.offsetY / 3) + 100 * this.offsetX * 2.3 * (1 + this.offsetY / 3) + this.offsetX * this.sideMultiplier, canvas.height / 4 + this.oGameElementsImgData.oData.oAtlasData[oImageIds.table0].height * (1 + this.offsetY / 3.5) + 50 * this.offsetY - 80, this.oShadowImgData.img.width * (1 + this.offsetY / 3), this.oShadowImgData.img.height * (1 + this.offsetY / 3));
            e = this.oGameElementsImgData.oData.oAtlasData[oImageIds.tableLegs].x, a = this.oGameElementsImgData.oData.oAtlasData[oImageIds.tableLegs].y, i = this.oGameElementsImgData.oData.oAtlasData[oImageIds.tableLegs].width, t = this.oGameElementsImgData.oData.oAtlasData[oImageIds.tableLegs].height;
            ctx.drawImage(this.oGameElementsImgData.img, e, a, i, t, canvas.width / 2 - i / 2 * (1 + this.offsetY / 3) + 100 * this.offsetX * 2.3 * (1 + this.offsetY / 3) + this.offsetX * this.sideMultiplier, canvas.height / 4 + this.oGameElementsImgData.oData.oAtlasData[oImageIds.table0].height * (1 + this.offsetY / 3.5) + 50 * this.offsetY + 25, i * (1 + this.offsetY / 3), t * (1 + this.offsetY / 3));
            e = this.oGameElementsImgData.oData.oAtlasData[oImageIds["table" + this.id]].x, a = this.oGameElementsImgData.oData.oAtlasData[oImageIds["table" + this.id]].y, i = this.oGameElementsImgData.oData.oAtlasData[oImageIds["table" + this.id]].width, t = this.oGameElementsImgData.oData.oAtlasData[oImageIds["table" + this.id]].height;
            for (var s = 0; s < this.segs; s++) ctx.drawImage(this.oGameElementsImgData.img, e, a + t / this.segs * s, i, t / this.segs, canvas.width / 2 - i / 2 * (1 + this.offsetY / 3) + this.offsetX * (s * (100 / this.segs)) * 3 * (1 + this.offsetY / 3) + this.offsetX * this.sideMultiplier, canvas.height / 4 + t / this.segs * s * (1 + this.offsetY / 2) + 50 * this.offsetY, i * (1 + this.offsetY / 3), t / this.segs * (1 + this.offsetY / 2));
            e = this.oGameElementsImgData.oData.oAtlasData[oImageIds.tableEdge].x, a = this.oGameElementsImgData.oData.oAtlasData[oImageIds.tableEdge].y, i = this.oGameElementsImgData.oData.oAtlasData[oImageIds.tableEdge].width, t = this.oGameElementsImgData.oData.oAtlasData[oImageIds.tableEdge].height;
            if (ctx.drawImage(this.oGameElementsImgData.img, e, a, i, t, canvas.width / 2 - i / 2 * (1 + this.offsetY / 3) + 100 * this.offsetX * 3 * (1 + this.offsetY / 3) + this.offsetX * this.sideMultiplier, canvas.height / 4 + this.oGameElementsImgData.oData.oAtlasData[oImageIds.table0].height * (1 + this.offsetY / 2) + 50 * this.offsetY, i * (1 + this.offsetY / 3), t * (1 + this.offsetY / 3)), this.bounceMarkScale > 0) {
                e = this.oGameElementsImgData.oData.oAtlasData[oImageIds.bounceMark].x, a = this.oGameElementsImgData.oData.oAtlasData[oImageIds.bounceMark].y, i = this.oGameElementsImgData.oData.oAtlasData[oImageIds.bounceMark].width, t = this.oGameElementsImgData.oData.oAtlasData[oImageIds.bounceMark].height;
                var o = canvas.height / 4 + 50 * this.offsetY + ball.bounceY * ball.bounceY * 235 * (1 + this.offsetY / 2),
                    r = canvas.width / 2 + (o - canvas.height / 4) * (this.offsetX + .6 * ball.bounceX) * 1.28 * (1 + this.offsetY / 2) + 233 * ball.bounceX / 2 + this.offsetX * this.sideMultiplier,
                    n = .27 + (o - canvas.height / 4) / 600;
                ctx.drawImage(this.oGameElementsImgData.img, e, a, i, t, r - i / 2 * (n * this.bounceMarkScale), o - t / 2 * (n * this.bounceMarkScale), i * (n * this.bounceMarkScale), t * (n * this.bounceMarkScale))
            }
        }, t.prototype.renderNet = function() {
            var t = this.oGameElementsImgData.oData.oAtlasData[oImageIds.net].x,
                e = this.oGameElementsImgData.oData.oAtlasData[oImageIds.net].y,
                a = this.oGameElementsImgData.oData.oAtlasData[oImageIds.net].width,
                i = this.oGameElementsImgData.oData.oAtlasData[oImageIds.net].height;
            ctx.drawImage(this.oGameElementsImgData.img, t, e, a, i, canvas.width / 2 - a / 2 * (1 + this.offsetY / 3) + this.offsetX * (.282 * this.segs) * 3 * (1 + this.offsetY / 3) + this.offsetX * this.sideMultiplier, this.netY, a * (1 + this.offsetY / 3), this.netHeight)
        }, t
    }();
    t.TableTop = e
}(Elements || (Elements = {})),
function(t) {
    var e = function() {
        function t() {
            this.oTextData = {}, this.inc = 0, this.createTextObjects()
        }
        return t.prototype.createTextObjects = function() {
            for (var t in assetLib.textData.langText.text[curLang]) this.oTextData[t] = {}, this.oTextData[t].aLineData = this.getCharData(assetLib.textData.langText.text[curLang][t]["@text"], assetLib.textData.langText.text[curLang][t]["@fontId"]), this.oTextData[t].aLineWidths = this.getLineWidths(this.oTextData[t].aLineData), this.oTextData[t].blockWidth = this.getBlockWidth(this.oTextData[t].aLineData), this.oTextData[t].blockHeight = this.getBlockHeight(this.oTextData[t].aLineData, assetLib.textData.langText.text[curLang][t]["@fontId"]), this.oTextData[t].lineHeight = parseInt(assetLib.textData["fontData" + assetLib.textData.langText.text[curLang][t]["@fontId"]].text.common["@lineHeight"]), this.oTextData[t].oFontImgData = assetLib.getData("font" + assetLib.textData.langText.text[curLang][t]["@fontId"])
        }, t.prototype.getLineWidths = function(t) {
            for (var e, a = new Array, i = 0; i < t.length; i++) {
                e = 0;
                for (var s = 0; s < t[i].length; s++) e += parseInt(t[i][s]["@xadvance"]), 0 == s ? e -= parseInt(t[i][s]["@xoffset"]) : s == t[i].length - 1 && (e += parseInt(t[i][s]["@xoffset"]));
                a.push(e)
            }
            return a
        }, t.prototype.getBlockWidth = function(t) {
            for (var e, a = 0, i = 0; i < t.length; i++) {
                e = 0;
                for (var s = 0; s < t[i].length; s++) e += parseInt(t[i][s]["@xadvance"]), 0 == s ? e -= parseInt(t[i][s]["@xoffset"]) : s == t[i].length - 1 && (e += parseInt(t[i][s]["@xoffset"]));
                e > a && (a = e)
            }
            return a
        }, t.prototype.getBlockHeight = function(t, e) {
            return t.length * parseInt(assetLib.textData["fontData" + e].text.common["@lineHeight"])
        }, t.prototype.getCharData = function(t, e) {
            for (var a = new Array, i = 0; i < t.length; i++) {
                a[i] = new Array;
                for (var s = 0; s < t[i].length; s++)
                    for (var o = 0; o < assetLib.textData["fontData" + e].text.chars.char.length; o++) t[i][s].charCodeAt() == assetLib.textData["fontData" + e].text.chars.char[o]["@id"] && a[i].push(assetLib.textData["fontData" + e].text.chars.char[o])
            }
            return a
        }, t.prototype.renderText = function(t) {
            var e, a = this.oTextData[t.text].aLineData,
                i = this.oTextData[t.text].oFontImgData,
                s = 0,
                o = 0,
                r = 0,
                n = 1,
                h = 0;
            t.lineOffsetY && (r = t.lineOffsetY), t.scale && (n = t.scale);
            var l = 1 * n;
            t.maxWidth && this.oTextData[t.text].blockWidth * n > t.maxWidth && (l = t.maxWidth / this.oTextData[t.text].blockWidth), t.anim && (this.inc += 7 * delta);
            for (var u = 0; u < a.length; u++) {
                e = 0, "centre" == t.alignX && (s = this.oTextData[t.text].aLineWidths[u] / 2), "centre" == t.alignY && (o = this.oTextData[t.text].blockHeight / 2 + r * (a.length - 1) / 2);
                for (var m = 0; m < a[u].length; m++) {
                    var d = a[u][m]["@x"],
                        c = a[u][m]["@y"],
                        g = a[u][m]["@width"],
                        p = a[u][m]["@height"];
                    t.anim && (h = Math.sin(this.inc + m / 2) * (p / 15 * l)), ctx.drawImage(i.img, d, c, g, p, t.x + (e + parseInt(a[u][m]["@xoffset"]) - s) * l, t.y + (parseInt(a[u][m]["@yoffset"]) + u * this.oTextData[t.text].lineHeight + u * r - o) * l + h, g * l, p * l), e += parseInt(a[u][m]["@xadvance"])
                }
            }
        }, t
    }();
    t.TextDisplay = e
}(Utils || (Utils = {})),
function(t) {
    var e = function() {
        function t(t, e) {
            void 0 === e && (e = !1), this.aAllCountryCodes = {
                0: "ES",
                1: "AU",
                2: "AT",
                3: "AG",
                4: "AR",
                5: "AM",
                6: "BO",
                7: "BQ",
                8: "BA",
                9: "TL",
                10: "VN",
                11: "GA",
                12: "PT",
                13: "AZ",
                14: "MX",
                15: "AW",
                16: "BS",
                17: "BD",
                18: "BW",
                19: "BR",
                20: "BN",
                21: "HW",
                22: "GY",
                23: "GM",
                24: "AX",
                25: "AL",
                26: "DZ",
                27: "BB",
                28: "BH",
                29: "BY",
                30: "BF",
                31: "BI",
                32: "VU",
                33: "GH",
                34: "GP",
                35: "GN",
                36: "AI",
                37: "AO",
                38: "AD",
                39: "BE",
                40: "BJ",
                41: "BG",
                42: "GB",
                43: "HU",
                44: "VE",
                45: "GN",
                46: "GW",
                47: "DE",
                48: "ZW",
                49: "IL",
                50: "IN",
                51: "KZ",
                52: "CM",
                53: "CA",
                54: "CO",
                55: "KM",
                56: "CD",
                57: "CW",
                58: "LA",
                59: "LV",
                60: "ID",
                61: "JO",
                62: "IQ",
                63: "QA",
                64: "KE",
                65: "CY",
                66: "CG",
                67: "KP",
                68: "KR",
                69: "LS",
                70: "LR",
                71: "LB",
                72: "IR",
                73: "IE",
                74: "IS",
                75: "EG",
                76: "KG",
                77: "KI",
                78: "TW",
                79: "CR",
                80: "CI",
                81: "LY",
                82: "LT",
                83: "LI",
                84: "IT",
                85: "YE",
                86: "",
                87: "CN",
                88: "",
                89: "CC",
                90: "CU",
                91: "KW",
                92: "CK",
                93: "LU",
                94: "MU",
                95: "MR",
                96: "MH",
                97: "FM",
                98: "MZ",
                99: "IM",
                100: "",
                101: "NA",
                102: "NR",
                103: "NE",
                104: "NG",
                105: "NL",
                106: "NU",
                107: "NZ",
                108: "",
                109: "PR",
                110: "CX",
                111: "SC",
                112: "SN",
                113: "MF",
                114: "SB",
                115: "SO",
                116: "SD",
                117: "TV",
                118: "TN",
                119: "TR",
                120: "RU",
                121: "RW",
                122: "RO",
                123: "VC",
                124: "KN",
                125: "LC",
                126: "SR",
                127: "SL",
                128: "TJ",
                129: "UZ",
                130: "UA",
                131: "UY",
                132: "",
                133: "WS",
                134: "ST",
                135: "MN",
                136: "",
                137: "SY",
                138: "TH",
                139: "TZ",
                140: "TG",
                141: "FO",
                142: "PH",
                143: "FI",
                144: "SA",
                145: "",
                146: "SZ",
                147: "SK",
                148: "SI",
                149: "US",
                150: "TK",
                151: "TO",
                152: "TT",
                153: "FR",
                154: "CF",
                155: "TD",
                156: "GG",
                157: "GI",
                158: "HN",
                159: "CZ",
                160: "CL",
                161: "CH",
                162: "MG",
                163: "MO",
                164: "MK",
                165: "MM",
                166: "MC",
                167: "",
                168: "HK",
                169: "GD",
                170: "GL",
                171: "SE",
                172: "ER",
                173: "EE",
                174: "MW",
                175: "MY",
                176: "ML",
                177: "NC",
                178: "NO",
                179: "NF",
                180: "GR",
                181: "GE",
                182: "DK",
                183: "ET",
                184: "",
                185: "ZA",
                186: "MV",
                187: "MT",
                188: "MA",
                189: "AE",
                190: "PK",
                191: "PW",
                192: "",
                193: "DM",
                194: "ZM",
                195: "SS",
                196: "JM",
                197: "JP",
                198: "PE",
                199: "PF",
                200: "PL",
                201: "PS",
                202: "GU",
                203: "PG"
            }, this.aIds = new Array;
            for (var a = 0; a < t.length; a++) this.aIds.push(this.getIdFromISO(t[a]));
            e && (this.aIds = this.randomise(this.aIds))
        }
        return t.prototype.getIdFromISO = function(t) {
            var e = 0;
            for (var a in this.aAllCountryCodes) {
                if (this.aAllCountryCodes[a] == t) break;
                e++
            }
            return e
        }, t.prototype.getBData = function(t) {
            return {
                bX: t % 12 * 124 + 30.5,
                bY: 85.5 * Math.floor(t / 12) + 14,
                bWidth: 85.5,
                bHeight: 59
            }
        }, t.prototype.randomise = function(t) {
            for (var e = t.length - 1; e > 0; e--) {
                var a = Math.floor(Math.random() * (e + 1)),
                    i = t[e];
                t[e] = t[a], t[a] = i
            }
            return t
        }, t
    }();
    t.CountryFlags = e
}(Utils || (Utils = {}));
var Elements, Utils, __extends = this.__extends || function(t, e) {
    function a() {
        this.constructor = t
    }
    a.prototype = e.prototype, t.prototype = new a
};
! function(t) {
    var e = function(t) {
        function e() {
            t.call(this, assetLib.getData("firework"), 30, 30, "explode"), this.vy = 0, this.setAnimType("once", "explode"), this.animEndedFunc = function() {
                this.removeMe = !0
            }, TweenLite.to(this, 1, {
                scaleX: 2,
                scaleY: 2,
                ease: "Quad.easeOut"
            })
        }
        return __extends(e, t), e.prototype.update = function(e, a) {
            this.vy += 150 * delta, this.y += this.vy * delta, t.prototype.updateAnimation.call(this, delta)
        }, e.prototype.render = function() {
            t.prototype.renderSimple.call(this, ctx)
        }, e
    }(Utils.AnimSprite);
    t.Firework = e
}(Elements || (Elements = {})),
function(t) {
    var e = function() {
        function t(t) {
            this.dataGroupNum = 2, this.saveDataId = t, window.famobi = window.famobi ? window.famobi : {}, window.famobi.localStorage = window.famobi.localStorage ? window.famobi.localStorage : window.localStorage, window.famobi.sessionStorage = window.famobi.sessionStorage ? window.famobi.sessionStorage : window.sessionStorage, this.clearData(), this.setInitialData()
        }
        return t.prototype.clearData = function() {
            this.aLevelStore = new Array, this.aLevelStore.push(1);
            for (var t = 0; t < 9; t++) this.aLevelStore.push(0);
            this.aLevelStore.push(1234), this.aLevelStore.push(0)
        }, t.prototype.resetData = function() {
            this.clearData(), this.saveData()
        }, t.prototype.setInitialData = function() {
            if (null != window.famobi.localStorage.getItem(this.saveDataId) && "" != window.famobi.localStorage.getItem(this.saveDataId))
                for (var t in this.aLevelStore = window.famobi.localStorage.getItem(this.saveDataId).split(","), this.aLevelStore) this.aLevelStore[t] = parseInt(this.aLevelStore[t]);
            else this.saveData()
        }, t.prototype.getUserId = function() {
            return this.aLevelStore[this.aLevelStore.length - 2]
        }, t.prototype.getControlState = function() {
            return this.aLevelStore[this.aLevelStore.length - 1]
        }, t.prototype.setUserId = function(t) {
            this.aLevelStore[this.aLevelStore.length - 2] = t
        }, t.prototype.setControlState = function(t) {
            return this.aLevelStore[this.aLevelStore.length - 1] = t
        }, t.prototype.getCurCupId = function() {
            for (var t = 0, e = 0; e < 10; e++) 7 == this.aLevelStore[e] && t++;
            return t
        }, t.prototype.getCurGameId = function() {
            for (var t = 0, e = 0; e < 10; e++) 0 != this.aLevelStore[e] && (t = this.aLevelStore[e] - 1);
            return t
        }, t.prototype.setGameData = function(t) {
            for (var e = 0; e < 10; e++) e < t.cupId ? this.aLevelStore[e] = 7 : e == t.cupId ? this.aLevelStore[e] = t.gameId + 1 : this.aLevelStore[e] = 0
        }, t.prototype.saveData = function() {
            for (var t = "", e = 0; e < this.aLevelStore.length; e++) t += this.aLevelStore[e], e < this.aLevelStore.length - 1 && (t += ",");
            window.famobi.localStorage.setItem(this.saveDataId, t)
        }, t
    }();
    t.SaveDataHandler = e
}(Utils || (Utils = {}));
var previousTime, canvasX, canvasY, canvasScale, sound, music, assetLib, preAssetLib, delta, requestAnimFrame = window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame || function(t) {
        window.setTimeout(t, 1e3 / 60, (new Date).getTime())
    },
    canvas = document.getElementById("canvas"),
    ctx = canvas.getContext("2d"),
    minSquareSize = 500,
    maxSquareSize = 700,
    div = document.getElementById("canvas-wrapper"),
    audioType = 0,
    muted = !1,
    splashTimer = 0,
    isMobile = !1,
    gameState = "loading",
    aLangs = new Array("EN"),
    curLang = "",
    isBugBrowser = !1,
    isIE10 = !1,
    radian = Math.PI / 180,
    ios9FirstTouch = !1,
    saveDataHandler = new Utils.SaveDataHandler("tabletennisv3"),
    hasFocus = !0;
navigator.userAgent.match(/MSIE\s([\d]+)/) && (isIE10 = !0);
var deviceAgent = navigator.userAgent.toLowerCase();
(deviceAgent.match(/(iphone|ipod|ipad)/) || deviceAgent.match(/(android)/) || deviceAgent.match(/(iemobile)/) || deviceAgent.match(/iphone/i) || deviceAgent.match(/ipad/i) || deviceAgent.match(/ipod/i) || deviceAgent.match(/blackberry/i) || deviceAgent.match(/bada/i)) && (isMobile = !0, deviceAgent.match(/(android)/) && !/Chrome/.test(navigator.userAgent) && (isBugBrowser = !0));
var userInput = new Utils.UserInput(canvas, isBugBrowser);

function visibleResume() {
    famobiPauseActive || (hasFocus || (userInput && userInput.checkKeyFocus(), muted || "pause" == gameState || "splash" == gameState || "loading" == gameState || (Howler.mute(!1), playMusic())), hasFocus = !0)
}

function visiblePause() {
    famobiPauseActive || (hasFocus = !1, Howler.mute(!0), music.pause())
}

function playMusic() {
    music.playing() || music.play()
}

function isStock() {
    var t = window.navigator.userAgent.match(/Android.*AppleWebKit\/([\d.]+)/);
    return t && parseFloat(t[1]) < 537
}
resizeCanvas(), window.onresize = function() {
    setTimeout((function() {
        resizeCanvas()
    }), 1)
}, window.onpageshow = function() {
    famobiPauseActive || (hasFocus || (userInput && userInput.checkKeyFocus(), muted || "pause" == gameState || "splash" == gameState || "loading" == gameState || (Howler.mute(!1), playMusic())), hasFocus = !0)
}, window.onpagehide = function() {
    famobiPauseActive || (hasFocus = !1, Howler.mute(!0), music.pause())
}, window.addEventListener("load", (function() {
    setTimeout((function() {
        resizeCanvas()
    }), 0), window.addEventListener("orientationchange", (function() {
        setTimeout((function() {
            resizeCanvas()
        }), 500), setTimeout((function() {
            resizeCanvas()
        }), 2e3)
    }), !1)
}));
var panel, background, ua = navigator.userAgent,
    isSharpStock = /SHL24|SH-01F/i.test(ua) && isStock(),
    isXperiaAStock = /SO-04E/i.test(ua) && isStock(),
    isFujitsuStock = /F-01F/i.test(ua) && isStock();
isIE10 || isSharpStock || isXperiaAStock || isFujitsuStock || void 0 === window.AudioContext && void 0 === window.webkitAudioContext && -1 != navigator.userAgent.indexOf("Android") ? audioType = 0 : (audioType = 1, sound = new Howl({
    src: ["audio/sound.ogg", "audio/sound.m4a"],
    sprite: {
        bounce0: [0, 400],
        bounce1: [500, 400],
        bounce2: [1e3, 400],
        bounce3: [1500, 400],
        bounce4: [2e3, 400],
        bounce5: [2500, 400],
        hit0: [3e3, 400],
        hit1: [3500, 400],
        hit2: [4e3, 400],
        hit3: [4500, 400],
        hit4: [5e3, 400],
        hit5: [5500, 400],
        hitNet: [6e3, 1300],
        userPoint: [7500, 700],
        enemyPoint: [8500, 700],
        loseGame: [9500, 1400],
        gameStart: [11e3, 900],
        cheer2: [12e3, 3500],
        winGame: [16e3, 6600],
        cheer4: [23e3, 5e3],
        cheer3: [28500, 4500],
        cheer0: [33500, 3300],
        cheer1: [37500, 4500],
        firework: [42500, 1500]
    }
}), music = new Howl({
    src: ["audio/music.ogg", "audio/music.m4a"],
    volume: 0,
    loop: !0
}));
var aLevelUps, levelBonusScore, bonusScore, panelFrame, oLogoBut, tableTop, userBat, enemyBat, ball, startTouchY, aEffects, totalScore = 0,
    levelScore = 0,
    levelNum = 0,
    aTutorials = new Array,
    oLogoData = {},
    oImageIds = {},
    swipeState = 0,
    countryFlags = new Utils.CountryFlags(["CA", "CN", "BR", "KG", "DE", "FR", "HK", "KZ", "IE", "IT", "JP", "NL", "PL", "PT", "KR", "ES", "RU", "TR", "GB", "US", "CZ", "AR", "UA", "IN", "MX", "EG", "ID", "IQ", "IR", "CL", "DK", "CO", "TH", "TW", "AM", "UZ", "SK", "BY", "UY", "IL"], !1),
    aEnemyCountries = new Array(["IS", "GL", "HW", "CU", "CA", "US"], ["VE", "CK", "WS", "CO", "GY", "CR"], ["PE", "AR", "UY", "BO", "CL", "BR"], ["DZ", "LY", "ET", "ZW", "KE", "ZA"], ["FR", "NO", "PT", "IT", "DE", "GB"], ["AT", "CZ", "PL", "TR", "HU", "GR"], ["IR", "BD", "MG", "IN", "PK", "AE"], ["PG", "NZ", "AU", "PH", "ID", "MY"], ["LA", "VN", "HK", "JP", "KR", "CN"], ["LV", "EE", "LT", "FI", "UZ", "RU"]),
    spareEnemyCountry = "CH",
    oGameData = {
        cupId: 0,
        gameId: 0,
        userId: null,
        enemyId: null,
        userScore: 0,
        enemyScore: 0
    },
    firstRun = !0,
    aMapMarkerPos = new Array([-203, -115], [-150, -31], [-136, 98], [20, 57], [-36, -109], [50, -72], [101, -16], [170, 82], [192, -51], [143, -121]),
    justWonCup = !1,
    controlState = 0,
    rallyHits = 0,
    famobiPauseActive = !1,
    flagPage = 0;

function extGameLoad() {
    loadPreAssets()
}

function initSplash() {
    window.famobi_onPauseRequested = function() {
        Howler.mute(!0), music.pause(), famobiPauseActive = !0
    }, window.famobi_onResumeRequested = function() {
        console.log(muted, gameState), muted || "pause" == gameState || (Howler.mute(!1), music.play()), famobiPauseActive = !1
    }, oGameData.cupId = saveDataHandler.getCurCupId(), oGameData.gameId = saveDataHandler.getCurGameId();
    var t = saveDataHandler.getUserId();
    if (1234 == t ? firstRun = !0 : (firstRun = !1, oGameData.userId = t), controlState = saveDataHandler.getControlState(), window.famobi.localStorage.getItem("muted") && (muted = !1, toggleMute(!0)), forcedMode) {
        console.log("[FORCEDMODE]: Init..."), firstRun = !1;
        let t = famobi.getFeatureProperties("forced_mode");
        null != t && null != t.state && ((forcedModeProperties = t).state = forcedModeProperties.state || {}, forcedModeProperties.override = forcedModeProperties.override || {});
        let e = forcedModeProperties.state.player_country;
        oGameData.userId = null != e && "number" == typeof e ? Math.min(Math.max(e, 0), 203) : 0;
        let a = forcedModeProperties.state.enemy_country;
        oGameData.enemyId = null != a && "number" == typeof a ? Math.min(Math.max(a, 0), 203) : 0
    }
    1 != audioType || muted || (playMusic(), hasFocus || music.pause()), initStartScreen()
}

function initStartScreen() {
    if (background = new Elements.Background, forcedMode) return initGameIntro(), userInput.removeHitArea("backFromGameIntro"), userInput.removeHitArea("playFromGameIntro"), void initGame();
    if (skipTitle) firstRun ? initChooseCountry() : initGameIntro();
    else {
        gameState = "start", flagPage = 0;
        try {
            window.famobi_analytics.trackScreen(famobi_analytics.SCREEN_HOME)
        } catch (t) {}
        1 == audioType && music.fade(music.volume(), .5 * masterVolume, 500), userInput.removeHitArea("moreGames");
        var t = {
                oImgData: assetLib.getData("uiButs"),
                aPos: [0, 0],
                align: [.5, .85],
                id: oImageIds.playBut
            },
            e = {
                oImgData: assetLib.getData("moreGamesBut"),
                aPos: [85, -40],
                align: [0, 1],
                id: "none",
                scale: .25,
                noMove: !0
            },
            a = {
                oImgData: assetLib.getData("uiButs"),
                aPos: [-90, 32],
                align: [1, 0],
                id: oImageIds.infoBut,
                noMove: !0
            };
        userInput.addHitArea("playFromStart", butEventHandler, null, "image", t), userInput.addHitArea("moreGames", butEventHandler, null, "image", e), userInput.addHitArea("credits", butEventHandler, null, "image", a);
        var i = new Array(e, a, t);
        if (!firstRun) {
            var s = {
                oImgData: assetLib.getData("uiButs"),
                aPos: [-55, -140],
                align: [1, 1],
                id: oImageIds.changeCountryBut,
                noMove: !0
            };
            userInput.addHitArea("changeCountryFromStart", butEventHandler, null, "image", s);
            var o = {
                oImgData: assetLib.getData("uiButs"),
                aPos: [-54, -54],
                align: [1, 1],
                id: oImageIds.cupsBut,
                noMove: !0
            };
            userInput.addHitArea("cupsFromStart", butEventHandler, null, "image", o), i.push(s, o)
        }
        addMuteBut(i), (panel = new Elements.Panel(gameState, i)).startTween1(), previousTime = (new Date).getTime(), updateStartScreenEvent(), window.famobi.gameReady()
    }
}

function addMuteBut(t) {
    if (!externalMute && 1 == audioType) {
        var e = oImageIds.muteBut0;
        muted && (e = oImageIds.muteBut1);
        var a = {
            oImgData: assetLib.getData("uiButs"),
            aPos: [-30, 32],
            align: [1, 0],
            id: e,
            noMove: !0
        };
        userInput.addHitArea("mute", butEventHandler, null, "image", a), t.push(a)
    }
}

function initCreditsScreen() {
    gameState = "credits";
    try {
        window.famobi_analytics.trackScreen(famobi_analytics.SCREEN_CREDITS)
    } catch (t) {}
    var t = {
            oImgData: assetLib.getData("uiButs"),
            aPos: [30, -32],
            align: [0, 1],
            id: oImageIds.backBut,
            noMove: !0
        },
        e = {
            oImgData: assetLib.getData("uiButs"),
            aPos: [-30, -30],
            align: [1, 1],
            id: oImageIds.resetBut,
            noMove: !0
        };
    userInput.addHitArea("backFromCredits", butEventHandler, null, "image", t), userInput.addHitArea("resetData", butEventHandler, null, "image", e);
    var a, i, s = new Array(t, e);
    isMobile && (0 == controlState ? (a = {
        oImgData: assetLib.getData("uiButs"),
        aPos: [-50, -52],
        align: [.5, 1],
        id: oImageIds.control0OnBut,
        noMove: !0
    }, i = {
        oImgData: assetLib.getData("uiButs"),
        aPos: [50, -52],
        align: [.5, 1],
        id: oImageIds.control1OffBut,
        noMove: !0
    }) : (a = {
        oImgData: assetLib.getData("uiButs"),
        aPos: [-50, -52],
        align: [.5, 1],
        id: oImageIds.control0OffBut,
        noMove: !0
    }, i = {
        oImgData: assetLib.getData("uiButs"),
        aPos: [50, -52],
        align: [.5, 1],
        id: oImageIds.control1OnBut,
        noMove: !0
    }), userInput.addHitArea("control0FromCredits", butEventHandler, null, "image", a), userInput.addHitArea("control1FromCredits", butEventHandler, null, "image", i), s.push(a, i));
    addMuteBut(s), (panel = new Elements.Panel(gameState, s)).startTween1(), previousTime = (new Date).getTime(), updateCreditsScreenEvent()
}

function initChooseCountry() {
    gameState = "chooseCountry", void 0 === background && (background = new Elements.Background);
    var t = {
            oImgData: assetLib.getData("uiButs"),
            aPos: [30, -32],
            align: [0, 1],
            id: oImageIds.backBut,
            noMove: !0
        },
        e = new Array;
    if (0 == flagPage && skipTitle || (e = new Array(t), userInput.addHitArea("backFromChooseCountry", butEventHandler, null, "image", t)), 0 == flagPage) {
        var a = {
            oImgData: assetLib.getData("uiButs"),
            aPos: [-30, -32],
            align: [1, 1],
            id: oImageIds.moreBut,
            noMove: !0
        };
        userInput.addHitArea("moreFromChooseCountry", butEventHandler, null, "image", a), e.push(a)
    }
    for (var i = assetLib.getData("uiElements"), s = i.oData.oAtlasData[oImageIds.countryBut].width, o = i.oData.oAtlasData[oImageIds.countryBut].height, r = 0; r < countryFlags.aIds.length / 2; r++) {
        var n = r + flagPage * (countryFlags.aIds.length / 2),
            h = canvas.width / 2 - s / 2 + 120 * (r % 4 - 2) + 60,
            l = canvas.height / 2 - o / 2 + 90 * (Math.floor(r / 4) - 2.5) + 45;
        userInput.addHitArea("countryChoice", butEventHandler, {
            id: n
        }, "rect", {
            aRect: [h, l, h + s, l + o]
        }, !1)
    }
    addMuteBut(e), (panel = new Elements.Panel(gameState, e)).startTween1(), previousTime = (new Date).getTime(), updateChooseCountryScreenEvent(), window.famobi.gameReady()
}

function initMapScreen() {
    gameState = "map";
    for (var t = 0; t < aMapMarkerPos.length; t++)
        if (t == oGameData.cupId) {
            var e = canvas.width / 2 + aMapMarkerPos[t][0],
                a = .45 * canvas.height + aMapMarkerPos[t][1];
            userInput.addHitArea("playFromMap", butEventHandler, null, "rect", {
                aRect: [e - 40, a - 40, e + 40, a + 40]
            }, !0)
        }
    var i = {
            oImgData: assetLib.getData("uiButs"),
            aPos: [30, -32],
            align: [0, 1],
            id: oImageIds.backBut,
            noMove: !0
        },
        s = {
            oImgData: assetLib.getData("uiButs"),
            aPos: [0, 0],
            align: [.5, .85],
            id: oImageIds.playBut
        };
    userInput.addHitArea("backFromMap", butEventHandler, null, "image", i), userInput.addHitArea("playFromMap", butEventHandler, null, "image", s);
    var o = new Array(i, s);
    if (10 == oGameData.cupId && 6 == oGameData.gameId) {
        var r = {
            oImgData: assetLib.getData("uiButs"),
            aPos: [-30, -30],
            align: [1, 1],
            id: oImageIds.resetBut,
            noMove: !0
        };
        userInput.addHitArea("resetDataFromMap", butEventHandler, null, "image", r), o.push(r)
    }
    addMuteBut(o), (panel = new Elements.Panel(gameState, o)).startTween1(), previousTime = (new Date).getTime(), updateMapScreenEvent()
}

function initGameIntro() {
    gameState = "gameIntro";
    try {
        window.famobi_analytics.trackScreen(famobi_analytics.SCREEN_LEVELINTRO)
    } catch (t) {}
    10 == oGameData.cupId && 6 == oGameData.gameId && (oGameData.cupId = 9, oGameData.gameId = 5), forcedMode || (oGameData.enemyId = countryFlags.getIdFromISO(aEnemyCountries[oGameData.cupId][oGameData.gameId]), oGameData.enemyId == oGameData.userId && (oGameData.enemyId = countryFlags.getIdFromISO(spareEnemyCountry)));
    var t = {
            oImgData: assetLib.getData("uiButs"),
            aPos: [30, -32],
            align: [0, 1],
            id: oImageIds.backBut,
            noMove: !0
        },
        e = {
            oImgData: assetLib.getData("uiButs"),
            aPos: [0, 0],
            align: [.5, .85],
            id: oImageIds.playBut
        };
    userInput.addHitArea("backFromGameIntro", butEventHandler, null, "image", t), userInput.addHitArea("playFromGameIntro", butEventHandler, null, "image", e);
    var a = new Array(t, e);
    addMuteBut(a), (panel = new Elements.Panel(gameState, a)).startTween1(), previousTime = (new Date).getTime(), updateGameIntroScreenEvent()
}

function initGame(t) {
    window.famobi_analytics.trackEvent(t ? window.famobi_analytics.EVENT_LEVELRESTART : window.famobi_analytics.EVENT_LEVELSTART, {
        levelName: "" + (6 * oGameData.cupId + (oGameData.gameId + 1))
    }).then(_initGame, _initGame)
}

function _initGame() {
    skipTutorial && (firstRun = !1), gameState = "game", window.famobi.hasFeature("lockPointer") && (window.famobi.pointerLockHelper || (window.famobi.pointerLockHelper = {}), window.famobi.pointerLockHelper.mousePos = {
        x: fenster.innerWidth / 2,
        y: fenster.innerHeight / 2
    }, userInput.lockPointer());
    try {
        window.famobi_analytics.trackScreen(famobi_analytics.SCREEN_LEVEL)
    } catch (t) {}(forcedModeProperties = window.famobi.getFeatureProperties("forced_mode")).state = forcedModeProperties.state || {}, forcedModeProperties.override = forcedModeProperties.override || {}, oGameData.userScore = parseInt(forcedModeProperties.state.user_score || 0), oGameData.enemyScore = parseInt(forcedModeProperties.state.enemy_score || 0), justWonCup = !1, background = new Elements.Background;
    var t = new Array;
    if (firstRun) {
        var e = {
            oImgData: assetLib.getData("uiButs"),
            aPos: [0, 202],
            align: [.5, .5],
            id: oImageIds.tickBut,
            noMove: !0
        };
        userInput.addHitArea("tickFromTut", butEventHandler, null, "image", e), t.push(e)
    } else {
        isMobile && userInput.addHitArea("gameTouch", butEventHandler, {
            isDraggable: !0,
            multiTouch: !0
        }, "rect", {
            aRect: [0, 50, canvas.width, canvas.height]
        }, !0);
        var a = {
            oImgData: assetLib.getData("uiButs"),
            aPos: [-90, 32],
            align: [1, 0],
            id: oImageIds.pauseBut,
            noMove: !0
        };
        externalPause || window.famobi.pointerLockHelper || (userInput.addHitArea("pause", butEventHandler, null, "image", a), t.push(a))
    }
    window.famobi.pointerLockHelper || addMuteBut(t), (panel = new Elements.Panel(gameState, t)).startTween1(), firstRun && !window.famobi.pointerLockHelper && panel.startTut(), tableTop = new Elements.TableTop, userBat = new Elements.UserBat, enemyBat = new Elements.EnemyBat, ball = new Elements.Ball, previousTime = (new Date).getTime(), updateGameEvent(), window.famobi_game.start = function() {
        playSound("gameStart"), playSound("cheer" + Math.floor(4 * Math.random())), 1 == audioType && music.fade(music.volume(), .1 * masterVolume, 1e3)
    }, window.famobi.paused = !0, window.externalStart && !window.famobi.started || (window.famobi.paused = !1, window.famobi_game.start()), window.famobi.gameReady(), window.famobi.playerReady()
}

function initPause() {
    gameState = "pause";
    try {
        window.famobi_analytics.trackScreen(famobi_analytics.SCREEN_PAUSE)
    } catch (t) {}
    var t = {
            oImgData: assetLib.getData("uiButs"),
            aPos: [0, -100],
            align: [.5, .5],
            id: oImageIds.playBut
        },
        e = {
            oImgData: assetLib.getData("uiButs"),
            aPos: [0, 0],
            align: [.5, .5],
            id: oImageIds.restartBut
        },
        a = {
            oImgData: assetLib.getData("uiButs"),
            aPos: [0, 100],
            align: [.5, .5],
            id: oImageIds.quitBut
        };
    userInput.addHitArea("playFromPause", butEventHandler, null, "image", t), userInput.addHitArea("restartFromPause", butEventHandler, null, "image", e), userInput.addHitArea("quitFromPause", butEventHandler, null, "image", a);
    var i, s, o = new Array(t, e, a);
    isMobile && (0 == controlState ? (i = {
        oImgData: assetLib.getData("uiButs"),
        aPos: [-50, -52],
        align: [.5, 1],
        id: oImageIds.control0OnBut,
        noMove: !0
    }, s = {
        oImgData: assetLib.getData("uiButs"),
        aPos: [50, -52],
        align: [.5, 1],
        id: oImageIds.control1OffBut,
        noMove: !0
    }) : (i = {
        oImgData: assetLib.getData("uiButs"),
        aPos: [-50, -52],
        align: [.5, 1],
        id: oImageIds.control0OffBut,
        noMove: !0
    }, s = {
        oImgData: assetLib.getData("uiButs"),
        aPos: [50, -52],
        align: [.5, 1],
        id: oImageIds.control1OnBut,
        noMove: !0
    }), userInput.addHitArea("control0FromPause", butEventHandler, null, "image", i), userInput.addHitArea("control1FromPause", butEventHandler, null, "image", s), o.push(i, s));
    (panel = new Elements.Panel(gameState, o)).startTween1(), previousTime = (new Date).getTime(), background = new Elements.Background, updatePauseEvent()
}

function resumeGame() {
    gameState = "game", background = new Elements.Background, isMobile && userInput.addHitArea("gameTouch", butEventHandler, {
        isDraggable: !0,
        multiTouch: !0
    }, "rect", {
        aRect: [0, 50, canvas.width, canvas.height]
    }, !0);
    var t = {
            oImgData: assetLib.getData("uiButs"),
            aPos: [-90, 32],
            align: [1, 0],
            id: oImageIds.pauseBut,
            noMove: !0
        },
        e = new Array;
    externalPause || (userInput.addHitArea("pause", butEventHandler, null, "image", t), e = new Array(t)), addMuteBut(e), (panel = new Elements.Panel(gameState, e)).startTween1(), previousTime = (new Date).getTime(), updateGameEvent()
}

function butEventHandler(t, e) {
    if (!window.famobi.paused) switch (t) {
        case "langSelect":
            curLang = e.lang, ctx.clearRect(0, 0, canvas.width, canvas.height), userInput.removeHitArea("langSelect"), (preAssetLib = new Utils.AssetLoader(curLang, [{
                id: "preloadImage",
                file: "images/preloadImage.jpg"
            }], ctx, canvas.width, canvas.height, !1)).onReady(initLoadAssets);
            break;
        case "credits":
            playSound("hit" + Math.floor(6 * Math.random())), userInput.removeHitArea("playFromStart"), userInput.removeHitArea("moreGames"), userInput.removeHitArea("credits"), userInput.removeHitArea("cupsFromStart"), initCreditsScreen();
            break;
        case "backFromCredits":
            playSound("hit" + Math.floor(6 * Math.random())), userInput.removeHitArea("backFromCredits"), userInput.removeHitArea("resetData"), userInput.removeHitArea("mute"), userInput.removeHitArea("control0FromCredits"), userInput.removeHitArea("control1FromCredits"), initStartScreen();
            break;
        case "control0FromPause":
        case "control0FromCredits":
            playSound("hit" + Math.floor(6 * Math.random())), controlState = 0, saveDataHandler.setControlState(controlState), saveDataHandler.saveData(), panel.switchBut(oImageIds.control0OffBut, oImageIds.control0OnBut), panel.switchBut(oImageIds.control1OnBut, oImageIds.control1OffBut);
            break;
        case "control1FromPause":
        case "control1FromCredits":
            playSound("hit" + Math.floor(6 * Math.random())), controlState = 1, saveDataHandler.setControlState(controlState), saveDataHandler.saveData(), console, panel.switchBut(oImageIds.control0OnBut, oImageIds.control0OffBut), panel.switchBut(oImageIds.control1OffBut, oImageIds.control1OnBut);
            break;
        case "moreGames":
        case "moreGamesPause":
            playSound("hit" + Math.floor(6 * Math.random()));
            try {
                window.famobi.moreGamesLink()
            } catch (t) {}
            break;
        case "resetData":
            playSound("hit" + Math.floor(6 * Math.random())), userInput.removeHitArea("backFromCredits"), userInput.removeHitArea("resetData"), userInput.removeHitArea("mute"), userInput.removeHitArea("control0FromCredits"), userInput.removeHitArea("control1FromCredits"), saveDataHandler.resetData(), oGameData.cupId = saveDataHandler.getCurCupId(), oGameData.gameId = saveDataHandler.getCurGameId(), 1234 == (a = saveDataHandler.getUserId()) ? firstRun = !0 : (firstRun = !1, oGameData.userId = a), controlState = saveDataHandler.getControlState(), initStartScreen();
            break;
        case "resetDataFromMap":
            var a;
            playSound("hit" + Math.floor(6 * Math.random())), userInput.removeHitArea("resetDataFromMap"), userInput.removeHitArea("backFromMap"), userInput.removeHitArea("playFromMap"), saveDataHandler.resetData(), oGameData.cupId = saveDataHandler.getCurCupId(), oGameData.gameId = saveDataHandler.getCurGameId(), 1234 == (a = saveDataHandler.getUserId()) ? firstRun = !0 : (firstRun = !1, oGameData.userId = a), controlState = saveDataHandler.getControlState(), initMapScreen();
            break;
        case "changeCountryFromStart":
            playSound("hit" + Math.floor(6 * Math.random())), userInput.removeHitArea("playFromStart"), userInput.removeHitArea("moreGames"), userInput.removeHitArea("credits"), userInput.removeHitArea("cupsFromStart"), userInput.removeHitArea("changeCountryFromStart"), initChooseCountry();
            break;
        case "cupsFromStart":
            playSound("hit" + Math.floor(6 * Math.random())), userInput.removeHitArea("playFromStart"), userInput.removeHitArea("moreGames"), userInput.removeHitArea("credits"), userInput.removeHitArea("cupsFromStart"), userInput.removeHitArea("changeCountryFromStart"), initMapScreen();
            break;
        case "playFromStart":
            playSound("hit" + Math.floor(6 * Math.random())), userInput.removeHitArea("playFromStart"), userInput.removeHitArea("moreGames"), userInput.removeHitArea("credits"), userInput.removeHitArea("cupsFromStart"), userInput.removeHitArea("changeCountryFromStart"), firstRun ? initChooseCountry() : initGameIntro();
            break;
        case "countryChoice":
            playSound("hit" + Math.floor(6 * Math.random())), userInput.removeHitArea("backFromChooseCountry"), userInput.removeHitArea("moreFromChooseCountry"), userInput.removeHitArea("countryChoice"), oGameData.userId = countryFlags.aIds[e.id], saveDataHandler.setUserId(oGameData.userId), saveDataHandler.saveData(), firstRun ? initMapScreen() : initGameIntro();
            break;
        case "backFromChooseCountry":
            playSound("hit" + Math.floor(6 * Math.random())), userInput.removeHitArea("backFromChooseCountry"), userInput.removeHitArea("moreFromChooseCountry"), userInput.removeHitArea("countryChoice"), 1 == flagPage ? (flagPage = 0, initChooseCountry()) : initStartScreen();
            break;
        case "moreFromChooseCountry":
            playSound("hit" + Math.floor(6 * Math.random())), userInput.removeHitArea("backFromChooseCountry"), userInput.removeHitArea("moreFromChooseCountry"), userInput.removeHitArea("countryChoice"), flagPage = 0 == flagPage ? 1 : 0, initChooseCountry();
            break;
        case "backFromMap":
            playSound("hit" + Math.floor(6 * Math.random())), userInput.removeHitArea("resetDataFromMap"), userInput.removeHitArea("backFromMap"), userInput.removeHitArea("playFromMap"), firstRun ? initChooseCountry() : initStartScreen();
            break;
        case "playFromMap":
            playSound("hit" + Math.floor(6 * Math.random())), userInput.removeHitArea("resetDataFromMap"), userInput.removeHitArea("backFromMap"), userInput.removeHitArea("playFromMap"), initGameIntro();
            break;
        case "backFromGameIntro":
            playSound("hit" + Math.floor(6 * Math.random())), userInput.removeHitArea("backFromGameIntro"), userInput.removeHitArea("playFromGameIntro"), firstRun ? initMapScreen() : initStartScreen();
            break;
        case "playFromGameIntro":
            playSound("hit" + Math.floor(6 * Math.random())), userInput.removeHitArea("backFromGameIntro"), userInput.removeHitArea("playFromGameIntro"), window.externalStart || initGame();
            break;
        case "tickFromTut":
            playSound("hit" + Math.floor(6 * Math.random())), window.famobi_analytics.trackEvent(famobi_analytics.EVENT_TUTORIALCOMPLETED), window.famobi.playerReady(), userInput.removeHitArea("tickFromTut"), panel.aButs = new Array, userInput.addHitArea("gameTouch", butEventHandler, {
                isDraggable: !0,
                multiTouch: !0
            }, "rect", {
                aRect: [0, 50, canvas.width, canvas.height]
            }, !0);
            var i = {
                oImgData: assetLib.getData("uiButs"),
                aPos: [-90, 32],
                align: [1, 0],
                id: oImageIds.pauseBut,
                noMove: !0
            };
            externalPause || (userInput.addHitArea("pause", butEventHandler, null, "image", i), panel.aButs.push(i)), firstRun = !1;
            break;
        case "gameTouch":
            e.isDown && !e.isBeingDragged ? (swipeState = 1, startTouchY = e.y - userBat.targY) : 1 == swipeState && e.isBeingDragged ? (userBat.targX = e.x, userBat.targY = 0 == controlState ? e.y : e.y - startTouchY) : 1 == swipeState && (swipeState = 0);
            break;
        case "backFromGameComplete":
            playSound("hit" + Math.floor(6 * Math.random())), userInput.removeHitArea("backFromGameComplete"), userInput.removeHitArea("nextFromGameComplete"), initStartScreen();
            break;
        case "nextFromGameComplete":
            playSound("hit" + Math.floor(6 * Math.random())), userInput.removeHitArea("backFromGameComplete"), userInput.removeHitArea("nextFromGameComplete"), 10 == oGameData.cupId && 6 == oGameData.gameId ? initMapScreen() : oGameData.userScore > oGameData.enemyScore ? 0 == oGameData.gameId ? initMapScreen() : initGameIntro() : initGame(!0);
            break;
        case "mute":
            playSound("hit" + Math.floor(6 * Math.random())), toggleMute(), muted ? panel.switchBut(oImageIds.muteBut0, oImageIds.muteBut1) : panel.switchBut(oImageIds.muteBut1, oImageIds.muteBut0);
            break;
        case "enableAudio":
            muted && (toggleMute(!0), muted ? panel.switchBut(oImageIds.muteBut0, oImageIds.muteBut1) : panel.switchBut(oImageIds.muteBut1, oImageIds.muteBut0));
            break;
        case "disableAudio":
            muted || (toggleMute(!0), muted ? panel.switchBut(oImageIds.muteBut0, oImageIds.muteBut1) : panel.switchBut(oImageIds.muteBut1, oImageIds.muteBut0));
            break;
        case "pause":
            !0 !== e && playSound("hit" + Math.floor(6 * Math.random())), 1 == audioType ? (Howler.mute(!0), music.pause()) : 2 == audioType && music.pause(), userInput.removeHitArea("pause"), userInput.removeHitArea("gameTouch"), userInput.removeHitArea("mute"), initPause();
            break;
        case "playFromPause":
            window.famobi.pointerLockHelper && userInput.lockPointer(), !0 !== e && playSound("hit" + Math.floor(6 * Math.random())), 1 == audioType ? muted || (Howler.mute(!1), playMusic()) : 2 == audioType && (muted || playMusic()), userInput.removeHitArea("quitFromPause"), userInput.removeHitArea("playFromPause"), userInput.removeHitArea("restartFromPause"), userInput.removeHitArea("control0FromPause"), userInput.removeHitArea("control1FromPause"), userInput.removeHitArea("mute"), resumeGame();
            break;
        case "restartFromPause":
            playSound("hit" + Math.floor(6 * Math.random()));
            try {
                window.famobi_analytics.trackEvent(famobi_analytics.EVENT_LEVELFAIL, {
                    levelName: (6 * oGameData.cupId + (oGameData.gameId + 1)).toString(),
                    reason: "draw"
                })
            } catch (t) {}
            1 == audioType ? muted || (Howler.mute(!1), playMusic()) : 2 == audioType && (muted || playMusic()), userInput.removeHitArea("quitFromPause"), userInput.removeHitArea("playFromPause"), userInput.removeHitArea("restartFromPause"), userInput.removeHitArea("control0FromPause"), userInput.removeHitArea("control1FromPause"), userInput.removeHitArea("mute"), initGame(!0);
            break;
        case "quitFromPause":
            playSound("hit" + Math.floor(6 * Math.random()));
            try {
                window.famobi_analytics.trackEvent(famobi_analytics.EVENT_LEVELFAIL, {
                    levelName: (6 * oGameData.cupId + (oGameData.gameId + 1)).toString(),
                    reason: "quit"
                })
            } catch (t) {}
            1 == audioType ? (muted || (Howler.mute(!1), playMusic()), music.fade(music.volume(), .5 * masterVolume, 500)) : 2 == audioType && (muted || playMusic()), userInput.removeHitArea("quitFromPause"), userInput.removeHitArea("playFromPause"), userInput.removeHitArea("restartFromPause"), userInput.removeHitArea("control0FromPause"), userInput.removeHitArea("control1FromPause"), userInput.removeHitArea("mute"), initStartScreen()
    }
}

function updateScore(t, e) {
    panel.cardTween(t), rallyHits <= 4 && Math.random() > .5 ? playSound("cheer" + Math.floor(2 * Math.random())) : rallyHits > 4 && rallyHits <= 7 ? playSound("cheer" + (1 + Math.floor(2 * Math.random()))) : rallyHits > 7 && rallyHits <= 10 ? playSound("cheer" + (2 + Math.floor(2 * Math.random()))) : rallyHits > 10 && playSound("cheer" + (3 + Math.floor(2 * Math.random())));
    let a = 11;
    null != forcedModeProperties && null != forcedModeProperties.override && "number" == typeof forcedModeProperties.override.max_score && (a = forcedModeProperties.override.max_score), "user" == t ? (oGameData.userScore++, window.famobi_analytics.trackStats("point_scored", {
        score_gained_by: "player",
        cause: e,
        hit_type: player_hitType
    }), points_in_series_player++, points_in_series_opponent = 0, playSound("userPoint"), (oGameData.userScore >= a && (a < 2 || oGameData.enemyScore <= oGameData.userScore - 2) || 99 == oGameData.userScore) && initGameComplete()) : (oGameData.enemyScore++, window.famobi_analytics.trackStats("point_scored", {
        score_gained_by: "enemy",
        cause: e,
        hit_type: enemy_hitType
    }), points_in_series_opponent++, points_in_series_player = 0, playSound("enemyPoint"), (oGameData.enemyScore >= a && (a < 2 || oGameData.userScore <= oGameData.enemyScore - 2) || 99 == oGameData.enemyScore) && initGameComplete())
}

function initGameComplete() {
    oGameData.userScore > oGameData.enemyScore ? (won_matches_in_series_opponent = 0, won_matches_in_series_player++) : (won_matches_in_series_player = 0, won_matches_in_series_opponent++);
    let t = oGameData.userScore > oGameData.enemyScore ? "success" : "fail";
    oGameData.userScore == oGameData.enemyScore && (t = "draw"), window.famobi_analytics.trackEvent("EVENT_CUSTOM", {
        eventName: "LEVELEND",
        result: t,
        score: oGameData.userScore
    }).then((function() {
        window.famobi_analytics.trackEvent("EVENT_CUSTOM", oGameData.userScore > oGameData.enemyScore ? {
            event: "EVENT_LEVELSUCCESS",
            levelName: (6 * oGameData.cupId + (oGameData.gameId + 1)).toString()
        } : {
            event: "EVENT_LEVELFAIL",
            levelName: (6 * oGameData.cupId + (oGameData.gameId + 1)).toString(),
            reason: "dead"
        }).then(_initGameComplete, _initGameComplete)
    }), (function() {
        gameState = "pause"
    }))
}

function _initGameComplete() {
    window.famobi.pointerLockHelper && userInput.unlockPointer(), gameState = "gameComplete", 1 == audioType && music.fade(music.volume(), .5 * masterVolume, 500), userInput.removeHitArea("pause"), userInput.removeHitArea("gameTouch");
    try {
        window.famobi_analytics.trackScreen(famobi_analytics.SCREEN_LEVELRESULT)
    } catch (t) {}
    var t, e = {
            oImgData: assetLib.getData("uiButs"),
            aPos: [30, -32],
            align: [0, 1],
            id: oImageIds.backBut,
            noMove: !0,
            scale: 1e-4
        },
        a = function() {
            t.scale = 1, e.scale = 1, userInput.addHitArea("nextFromGameComplete", butEventHandler, null, "image", t), userInput.addHitArea("backFromGameComplete", butEventHandler, null, "image", e)
        };
    oGameData.userScore > oGameData.enemyScore ? (playSound("winGame"), oGameData.gameId++, oGameData.gameId >= 6 && (oGameData.cupId++, justWonCup = !0, oGameData.cupId > 9 ? (oGameData.cupId = 10, oGameData.gameId = 6) : oGameData.gameId = 0), saveDataHandler.setGameData(oGameData), saveDataHandler.saveData(), t = {
        oImgData: assetLib.getData("uiButs"),
        aPos: [0, 0],
        align: [.5, .85],
        id: oImageIds.playBut,
        scale: 1e-4
    }, setTimeout(function() {
        window.famobi_analytics.trackEvent(famobi_analytics.EVENT_LEVELSUCCESS, {
            levelName: (6 * oGameData.cupId + oGameData.gameId).toString()
        }).then(a, a)
    }.bind(this), 1500)) : (playSound("loseGame"), t = {
        oImgData: assetLib.getData("uiButs"),
        aPos: [0, 0],
        align: [.5, .85],
        id: oImageIds.restartBut,
        scale: 1e-4
    }, setTimeout(function() {
        window.famobi_analytics.trackEvent(famobi_analytics.EVENT_LEVELFAIL, {
            levelName: (6 * oGameData.cupId + oGameData.gameId).toString(),
            reason: "dead"
        }).then(a, a)
    }.bind(this), 1500)), userInput.addHitArea("nextFromGameComplete", butEventHandler, null, "image", t);
    var i = new Array(e, t);
    addMuteBut(i), (panel = new Elements.Panel(gameState, i)).startTween1(), aEffects = new Array, previousTime = (new Date).getTime(), updateGameComplete()
}

function addFirework(t, e, a) {
    if (void 0 === a && (a = 1), !(aEffects.length > 10)) {
        var i = new Elements.Firework;
        i.x = t, i.y = e, i.scaleX = i.scaleY = a, aEffects.push(i)
    }
}

function updateGameEvent() {
    "game" == gameState && (delta = getDelta(), background.renderGame(), ball.update(), enemyBat.update(), ball.offTable || ball.offSide || ball.height < 0 && ball.tablePosY < .5 && (ball.tablePosX < -1 || ball.tablePosX > 1) ? (ball.render(), tableTop.render(), enemyBat.render(), tableTop.renderNet()) : ball.tablePosY > .5 ? (tableTop.render(), enemyBat.render(), tableTop.renderNet(), ball.render()) : ball.tablePosY < .5 && (tableTop.render(), enemyBat.render(), ball.render(), tableTop.renderNet()), userBat.update(), userBat.render(), panel.render(), requestAnimFrame(updateGameEvent))
}

function updateCreditsScreenEvent() {
    "credits" == gameState && (delta = getDelta(), background.renderMenu(), panel.update(), panel.render(), ctx.fillStyle = "#ffffff", ctx.textAlign = "center", ctx.font = "15px Helvetica", ctx.fillText("v1.0.2", canvas.width / 2, 20), requestAnimFrame(updateCreditsScreenEvent))
}

function updateChooseCountryScreenEvent() {
    "chooseCountry" == gameState && (delta = getDelta(), background.renderMenu(), panel.update(), panel.render(), requestAnimFrame(updateChooseCountryScreenEvent))
}

function updateGameComplete() {
    if ("gameComplete" == gameState) {
        delta = getDelta(), background.renderMenu(), panel.render(), justWonCup && Math.random() < .1 && (playSound("firework"), addFirework(Math.random() * canvas.width, Math.random() * canvas.height, 1 * Math.random() + 2));
        for (var t = 0; t < aEffects.length; t++) aEffects[t].update(), aEffects[t].render(ctx), aEffects[t].removeMe && (aEffects.splice(t, 1), t -= 1);
        requestAnimFrame(updateGameComplete)
    }
}

function updateSplashScreenEvent() {
    if ("splash" == gameState) {
        if (delta = getDelta(), (splashTimer += delta) > 2.5) return 1 != audioType || muted || (playMusic(), hasFocus || music.pause()), void initStartScreen();
        background.renderMenu(), panel.update(), panel.render(), requestAnimFrame(updateSplashScreenEvent)
    }
}

function updateStartScreenEvent() {
    "start" == gameState && (delta = getDelta(), background.renderMenu(), panel.update(), panel.render(), requestAnimFrame(updateStartScreenEvent))
}

function updateGameIntroScreenEvent() {
    "gameIntro" == gameState && (delta = getDelta(), background.renderMenu(), panel.update(), panel.render(), requestAnimFrame(updateGameIntroScreenEvent))
}

function updateMapScreenEvent() {
    "map" == gameState && (delta = getDelta(), background.renderMenu(), panel.update(), panel.render(), requestAnimFrame(updateMapScreenEvent))
}

function updateLoaderEvent() {
    "load" == gameState && (delta = getDelta(), assetLib.render(), requestAnimFrame(updateLoaderEvent))
}

function updatePauseEvent() {
    "pause" == gameState && (delta = getDelta(), background.renderMenu(), panel.render(), requestAnimFrame(updatePauseEvent))
}

function getDelta() {
    var t = (new Date).getTime(),
        e = (t - previousTime) / 1e3;
    return previousTime = t, e > .5 && (e = 0), e
}

function checkSpriteCollision(t, e) {
    var a = t.x,
        i = t.y,
        s = e.x,
        o = e.y;
    return (a - s) * (a - s) + (i - o) * (i - o) < t.radius * e.radius
}

function getScaleImageToMax(t, e) {
    return t.isSpriteSheet ? e[0] / t.oData.spriteWidth < e[1] / t.oData.spriteHeight ? Math.min(e[0] / t.oData.spriteWidth, 1) : Math.min(e[1] / t.oData.spriteHeight, 1) : e[0] / t.img.width < e[1] / t.img.height ? Math.min(e[0] / t.img.width, 1) : Math.min(e[1] / t.img.height, 1)
}

function getCentreFromTopLeft(t, e, a) {
    var i = new Array;
    return i.push(t[0] + e.oData.spriteWidth / 2 * a), i.push(t[1] + e.oData.spriteHeight / 2 * a), i
}

function loadPreAssets() {
    if (aLangs.length > 1) {
        for (var t = new Array, e = 0; e < aLangs.length; e++) t.push({
            id: "lang" + aLangs[e],
            file: "images/lang" + aLangs[e] + ".png"
        });
        (preAssetLib = new Utils.AssetLoader(curLang, t, ctx, canvas.width, canvas.height, !1)).onReady(initLangSelect)
    } else curLang = aLangs[0], (preAssetLib = new Utils.AssetLoader(curLang, [{
        id: "loader",
        file: "images/loader.png"
    }, {
        id: "loadSpinner",
        file: "images/loadSpinner.png"
    }], ctx, canvas.width, canvas.height, !1)).onReady(initLoadAssets)
}

function initLangSelect() {
    for (var t, e, a, i, s = 0, o = 0; o < aLangs.length && (o + 1) * (1 * (t = preAssetLib.getData("lang" + aLangs[o])).img.width) + 10 * (o + 2) < canvas.width; o++) s++;
    i = Math.ceil(aLangs.length / s);
    for (o = 0; o < aLangs.length; o++) {
        t = preAssetLib.getData("lang" + aLangs[o]), e = canvas.width / 2 - s / 2 * (1 * t.img.width) - (s - 1) / 2 * 10, e += o % s * (1 * t.img.width + 10), a = canvas.height / 2 - i / 2 * (1 * t.img.height) - (i - 1) / 2 * 10, a += Math.floor(o / s) % i * (1 * t.img.height + 10), ctx.drawImage(t.img, 0, 0, t.img.width, t.img.height, e, a, 1 * t.img.width, 1 * t.img.height);
        var r = {
            oImgData: t,
            aPos: [e + 1 * t.img.width / 2, a + 1 * t.img.height / 2],
            scale: 1,
            id: "none",
            noMove: !0
        };
        userInput.addHitArea("langSelect", butEventHandler, {
            lang: aLangs[o]
        }, "image", r)
    }
}

function initLoadAssets() {
    loadAssets()
}

function loadAssets() {
    var t;
    try {
        t = window.famobi.getBrandingButtonImage()
    } catch (e) {
        t = "images/BrandingPlaceholderButton.png"
    }
    assetLib = new Utils.AssetLoader(curLang, [{
        id: "background",
        file: "images/bgMain.jpg"
    }, {
        id: "splashLogo",
        file: "images/splashLogo.png"
    }, {
        id: "countryFlags",
        file: "images/countryFlags.jpg"
    }, {
        id: "largeNumbers",
        file: "images/largeNumbers_75x132.png"
    }, {
        id: "smallNumbers",
        file: "images/smallNumbers_23x34.png"
    }, {
        id: "scoreNumbers",
        file: "images/scoreNumbers_20x37.png"
    }, {
        id: "uiButs",
        file: "images/uiButs.png",
        oAtlasData: {
            id0: {
                x: 0,
                y: 204,
                width: 197,
                height: 101
            },
            id1: {
                x: 384,
                y: 373,
                width: 57,
                height: 64
            },
            id10: {
                x: 298,
                y: 100,
                width: 75,
                height: 54
            },
            id11: {
                x: 298,
                y: 0,
                width: 97,
                height: 98
            },
            id12: {
                x: 217,
                y: 300,
                width: 97,
                height: 98
            },
            id13: {
                x: 0,
                y: 104,
                width: 197,
                height: 98
            },
            id14: {
                x: 199,
                y: 200,
                width: 97,
                height: 98
            },
            id15: {
                x: 199,
                y: 0,
                width: 97,
                height: 98
            },
            id16: {
                x: 117,
                y: 307,
                width: 98,
                height: 98
            },
            id17: {
                x: 316,
                y: 373,
                width: 66,
                height: 57
            },
            id2: {
                x: 369,
                y: 156,
                width: 65,
                height: 66
            },
            id3: {
                x: 369,
                y: 224,
                width: 64,
                height: 65
            },
            id4: {
                x: 298,
                y: 156,
                width: 69,
                height: 67
            },
            id5: {
                x: 199,
                y: 100,
                width: 97,
                height: 98
            },
            id6: {
                x: 0,
                y: 0,
                width: 197,
                height: 102
            },
            id7: {
                x: 0,
                y: 307,
                width: 115,
                height: 98
            },
            id8: {
                x: 298,
                y: 225,
                width: 69,
                height: 72
            },
            id9: {
                x: 316,
                y: 299,
                width: 68,
                height: 72
            }
        }
    }, {
        id: "gameElements",
        file: "images/gameElements.png",
        oAtlasData: {
            id0: {
                x: 637,
                y: 1128,
                width: 590,
                height: 234
            },
            id1: {
                x: 0,
                y: 1527,
                width: 414,
                height: 41
            },
            id10: {
                x: 466,
                y: 1527,
                width: 44,
                height: 44
            },
            id11: {
                x: 1274,
                y: 188,
                width: 113,
                height: 186
            },
            id12: {
                x: 1344,
                y: 1034,
                width: 109,
                height: 110
            },
            id13: {
                x: 0,
                y: 1570,
                width: 404,
                height: 9
            },
            id14: {
                x: 0,
                y: 1600,
                width: 589,
                height: 28
            },
            id15: {
                x: 0,
                y: 0,
                width: 635,
                height: 372
            },
            id16: {
                x: 1229,
                y: 656,
                width: 432,
                height: 188
            },
            id17: {
                x: 637,
                y: 892,
                width: 590,
                height: 234
            },
            id18: {
                x: 637,
                y: 1364,
                width: 590,
                height: 234
            },
            id19: {
                x: 1229,
                y: 846,
                width: 113,
                height: 186
            },
            id2: {
                x: 632,
                y: 1616,
                width: 39,
                height: 39
            },
            id20: {
                x: 1274,
                y: 376,
                width: 113,
                height: 186
            },
            id21: {
                x: 1229,
                y: 1034,
                width: 113,
                height: 186
            },
            id22: {
                x: 1229,
                y: 1410,
                width: 113,
                height: 186
            },
            id23: {
                x: 1229,
                y: 1222,
                width: 113,
                height: 186
            },
            id24: {
                x: 1274,
                y: 0,
                width: 113,
                height: 186
            },
            id25: {
                x: 0,
                y: 374,
                width: 635,
                height: 500
            },
            id26: {
                x: 416,
                y: 1527,
                width: 48,
                height: 60
            },
            id27: {
                x: 637,
                y: 656,
                width: 590,
                height: 234
            },
            id28: {
                x: 0,
                y: 876,
                width: 635,
                height: 274
            },
            id29: {
                x: 637,
                y: 0,
                width: 635,
                height: 373
            },
            id3: {
                x: 168,
                y: 1630,
                width: 37,
                height: 21
            },
            id30: {
                x: 0,
                y: 1152,
                width: 635,
                height: 373
            },
            id31: {
                x: 637,
                y: 375,
                width: 635,
                height: 279
            },
            id32: {
                x: 1274,
                y: 564,
                width: 85,
                height: 85
            },
            id33: {
                x: 129,
                y: 1630,
                width: 37,
                height: 21
            },
            id4: {
                x: 1344,
                y: 846,
                width: 113,
                height: 186
            },
            id5: {
                x: 0,
                y: 1630,
                width: 127,
                height: 24
            },
            id6: {
                x: 591,
                y: 1616,
                width: 39,
                height: 40
            },
            id7: {
                x: 591,
                y: 1572,
                width: 41,
                height: 42
            },
            id8: {
                x: 557,
                y: 1527,
                width: 43,
                height: 43
            },
            id9: {
                x: 512,
                y: 1527,
                width: 43,
                height: 44
            }
        }
    }, {
        id: "uiElements",
        file: "images/uiElements.png",
        oAtlasData: {
            id0: {
                x: 499,
                y: 823,
                width: 441,
                height: 106
            },
            id1: {
                x: 499,
                y: 545,
                width: 452,
                height: 276
            },
            id10: {
                x: 942,
                y: 823,
                width: 112,
                height: 137
            },
            id11: {
                x: 891,
                y: 322,
                width: 112,
                height: 137
            },
            id12: {
                x: 953,
                y: 461,
                width: 112,
                height: 136
            },
            id13: {
                x: 621,
                y: 465,
                width: 59,
                height: 59
            },
            id14: {
                x: 0,
                y: 156,
                width: 619,
                height: 387
            },
            id15: {
                x: 682,
                y: 465,
                width: 57,
                height: 56
            },
            id16: {
                x: 741,
                y: 465,
                width: 57,
                height: 56
            },
            id17: {
                x: 702,
                y: 84,
                width: 57,
                height: 56
            },
            id18: {
                x: 0,
                y: 545,
                width: 497,
                height: 498
            },
            id2: {
                x: 0,
                y: 0,
                width: 700,
                height: 154
            },
            id3: {
                x: 702,
                y: 0,
                width: 113,
                height: 82
            },
            id4: {
                x: 741,
                y: 962,
                width: 84,
                height: 80
            },
            id5: {
                x: 621,
                y: 156,
                width: 268,
                height: 307
            },
            id6: {
                x: 891,
                y: 0,
                width: 119,
                height: 159
            },
            id7: {
                x: 891,
                y: 161,
                width: 119,
                height: 159
            },
            id8: {
                x: 499,
                y: 931,
                width: 240,
                height: 118
            },
            id9: {
                x: 953,
                y: 599,
                width: 112,
                height: 137
            }
        }
    }, {
        id: "firework",
        file: "images/firework_175x175.png",
        oAnims: {
            explode: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29]
        }
    }, {
        id: "shadow",
        file: "images/shadow.png"
    }, {
        id: "moreGamesBut",
        file: t
    }], ctx, canvas.width, canvas.height), oImageIds.table0 = "id0", oImageIds.net = "id1", oImageIds.ball = "id2", oImageIds.ballShadow = "id3", oImageIds.userBatCentre = "id4", oImageIds.batShadow = "id5", oImageIds.ballTrail4 = "id6", oImageIds.ballTrail3 = "id7", oImageIds.ballTrail2 = "id8", oImageIds.ballTrail1 = "id9", oImageIds.ballTrail0 = "id10", oImageIds.enemyBat0 = "id11", oImageIds.userBatEdge = "id12", oImageIds.tableClip = "id13", oImageIds.tableEdge = "id14", oImageIds.tableBg0 = "id15", oImageIds.tableLegs = "id16", oImageIds.table1 = "id17", oImageIds.table2 = "id18", oImageIds.enemyBat1 = "id19", oImageIds.enemyBat2 = "id20", oImageIds.enemyBat3 = "id21", oImageIds.enemyBat4 = "id22", oImageIds.enemyBat5 = "id23", oImageIds.enemyBat6 = "id24", oImageIds.tableBgBottom = "id25", oImageIds.scoreCard = "id26", oImageIds.table3 = "id27", oImageIds.tableBg1 = "id28", oImageIds.tableBg2 = "id29", oImageIds.tableBg3 = "id30", oImageIds.tableBg4 = "id31", oImageIds.finger = "id32", oImageIds.bounceMark = "id33", oImageIds.playBut = "id0", oImageIds.infoBut = "id1", oImageIds.muteBut1 = "id2", oImageIds.muteBut0 = "id3", oImageIds.backBut = "id4", oImageIds.cupsBut = "id5", oImageIds.restartBut = "id6", oImageIds.moreGamesBut = "id7", oImageIds.pauseBut = "id8", oImageIds.resetBut = "id9", oImageIds.changeCountryBut = "id10", oImageIds.control0OnBut = "id11", oImageIds.control1OnBut = "id12", oImageIds.quitBut = "id13", oImageIds.control0OffBut = "id14", oImageIds.control1OffBut = "id15", oImageIds.tickBut = "id16", oImageIds.moreBut = "id17", oImageIds.titleLogo = "id0", oImageIds.titleBats = "id1", oImageIds.titleFadeBar = "id2", oImageIds.countryBut = "id3", oImageIds.vsText = "id4", oImageIds.flare = "id5", oImageIds.winIcon = "id6", oImageIds.loseIcon = "id7", oImageIds.globeLogo = "id8", oImageIds.cup1 = "id9", oImageIds.cup2 = "id10", oImageIds.cup3 = "id11", oImageIds.cup0 = "id12", oImageIds.titleBall = "id13", oImageIds.map = "id14", oImageIds.mapMarker2 = "id15", oImageIds.mapMarker1 = "id16", oImageIds.mapMarker0 = "id17", oImageIds.tutScreen = "id18", assetLib.onReady(initSplash), gameState = "load", previousTime = (new Date).getTime(), updateLoaderEvent()
}

function resizeCanvas() {
    var t = fenster.innerWidth,
        e = fenster.innerHeight;
    canvas.height = e, canvas.width = t, canvas.style.width = t + "px", canvas.style.height = e + "px", t > e ? canvas.height < minSquareSize ? (canvas.height = minSquareSize, canvas.width = minSquareSize * (t / e), canvasScale = minSquareSize / e) : canvas.height > maxSquareSize ? (canvas.height = maxSquareSize, canvas.width = maxSquareSize * (t / e), canvasScale = maxSquareSize / e) : canvasScale = 1 : canvas.width < minSquareSize ? (canvas.width = minSquareSize, canvas.height = minSquareSize * (e / t), canvasScale = minSquareSize / t) : canvas.width > maxSquareSize ? (canvas.width = maxSquareSize, canvas.height = maxSquareSize * (e / t), canvasScale = maxSquareSize / t) : canvasScale = 1, "game" == gameState && isMobile && userInput.addHitArea("gameTouch", butEventHandler, {
        isDraggable: !0,
        multiTouch: !0
    }, "rect", {
        aRect: [0, 50, canvas.width, canvas.height]
    }, !0), window.scrollTo(0, 0)
}

function playSound(t) {
    1 == audioType && sound.play(t)
}

function toggleMute(t) {
    muted = !muted, 1 == audioType ? muted ? (Howler.mute(!0), music.pause(), t || (window.famobi_analytics.trackEvent("EVENT_VOLUMECHANGE", {
        bgmVolume: 0,
        sfxVolume: 0
    }), window.famobi.localStorage.setItem("muted", "1"))) : (Howler.mute(!1), playMusic(), sound._volume = masterVolume, "game" == gameState ? music.volume(.1 * masterVolume) : music.volume(.5 * masterVolume), t || (window.famobi_analytics.trackEvent("EVENT_VOLUMECHANGE", {
        bgmVolume: 1 * masterVolume,
        sfxVolume: 1 * masterVolume
    }), window.famobi.localStorage.removeItem("muted"))) : 2 == audioType && (muted ? music.pause() : playMusic())
}